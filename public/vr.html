<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>afdemo</title>
  <meta name="description" content="afdemo">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/d3-flame-graph@4.1.3/dist/d3-flamegraph.css">
  <style>
    a-scene {
      height: 500px;
      width: 100%;
    }
  </style>
</head>

<body>

  <!-- Bootstrap for development... -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>

  <!-- D3 flamegraph -->
  <script type="text/javascript" src="https://d3js.org/d3.v7.js"></script>
  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/d3-flame-graph@4.1.3/dist/d3-flamegraph.min.js"></script>

  <!-- Script -->
  <script src="vr.js"></script>

  <div class="container-fluid flex-fill">
    <div class="row">
      <span>
        <input class="form-control form-control-sm" type="file" id="fileinput"
          style="width: 220px; display: inline;"></input>

        <button class="btn btn-primary btn-sm" onclick="useTraceGcc()">Use trace_gcc.json</button>
        <button class="btn btn-primary btn-sm" onclick="useTrace()">Use trace.json</button>

        <span>Now on flamegraph: </span><span id="numfg">0</span>
      </span>
    </div>

    <div class="row">
      <span class="btn-group">
        <button type="button" class="btn btn-light btn-sm" onclick="increasefg()">+</button>
        <button type="button" class="btn btn-light btn-sm" onclick="decreasefg()">-</button>
        <button type="button" class="btn btn-light btn-sm" onclick="nextFlameGraph()">Next flamegraph</button>
        <button type="button" class="btn btn-light btn-sm" onclick="prevFlameGraph()">Prev flamegraph</button>
        <button type="button" class="btn btn-light btn-sm" onclick="originalView()">Original view</button>
        <button type="button" class="btn btn-light btn-sm" onclick="verticalView()">Vertical view</button>
        <button type="button" class="btn btn-light btn-sm" onclick="zoomIn()">Zoom In</button>
        <button type="button" class="btn btn-light btn-sm" onclick="zoomOut()">Zoom Out</button>
      </span>
    </div>

    <div class="row">
      <canvas id="my-canvas" style="display: inline;" crossorigin="anonymous"></canvas>
    </div>

    <div class="row">
      <div class="col-8 p-0">
        <a-scene embedded ortho>
          <!-- Sky -->
          <a-sky color="white"></a-sky>

          <!-- Ground -->
          <a-plane color="grey" material="opacity: 0.5" rotation="-90 0 0" width="30" height="30"></a-plane>

          <!-- Camera -->
          <a-entity camera="active: true" position="0 4 0.75" rotation="-40 0 0"></a-entity>

          <!-- Root of elements -->
          <a-entity id="root" wasd-controls animation="property: rotation; to: 0 -90 -90; startEvents: vertical"
            animation__2="property: rotation; to: 20 -45 -20; startEvents: original">
          </a-entity>

          <!--Tracked controls. -->
          <a-entity laser-controls="hand: left" raycaster="objects: .raycastable; far: 5"></a-entity>
          <a-entity laser-controls="hand: right" raycaster="objects: .raycastable; far: 5"></a-entity>

        </a-scene>
      </div>

      <div class="col-4 p-0">
        <span class="align-middle" id="chart"></span>
      </div>

    </div>
  </div>
</body>

</html>