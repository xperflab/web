<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>afdemo</title>
  <meta name="description" content="afdemo">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
  <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
  <script src="https://unpkg.com/aframe-debug-cursor-component/dist/aframe-debug-cursor-component.min.js"></script>
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/d3-flame-graph@4.1.3/dist/d3-flamegraph.css">
  <style>
    a-scene {
      height: 500px;
      width: 100%;
    }
  </style>
</head>

<body>

  <!-- Bootstrap for development... -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>

  <!-- D3 flamegraph -->
  <script type="text/javascript" src="https://d3js.org/d3.v7.js"></script>
  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/d3-flame-graph@4.1.3/dist/d3-flamegraph.min.js"></script>

  <!-- Script -->
  <script src="vr.js"></script>

  <div class="container">
    <canvas id="my-canvas" style="width:300px; height:300px; display: inline;" crossorigin="anonymous"></canvas>
    <span id="chart"></span>
    <div class="mb-3">
      <input class="form-control form-control-sm" type="file" id="fileinput"></input>
    </div>
    <div class="col-auto">
      <button class="btn btn-primary btn-sm" onclick="increasefg()">+</button>
      <button class="btn btn-primary btn-sm" onclick="decreasefg()">-</button>
      <button class="btn btn-primary btn-sm" onclick="rotate()">Rotate</button>
      <button class="btn btn-primary btn-sm" onclick="reset()">Reset</button>
      <button class="btn btn-primary btn-sm" onclick="nextFlameGraph()">Next flamegraph</button>
      <button class="btn btn-primary btn-sm" onclick="prevFlameGraph()">Prev flamegraph</button>
      <button class="btn btn-primary btn-sm" onclick="originalView()">Original view</button>
      <button class="btn btn-primary btn-sm" onclick="verticalView()">Vertical view</button>
    </div>
    <div>Now on flamegraph: </span><span id="numfg">0</div>

    <a-scene load-data debug embedded ortho
      inspector="https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js">
      <!-- Sky -->
      <a-sky color="white"></a-sky>

      <!-- Ground -->
      <a-plane color="grey" material="opacity: 0.5" rotation="-90 0 0" width="30" height="30"></a-plane>

      <!-- Camera -->
      <a-entity camera="active: true" position="0 4 0.75" rotation="-40 0 0"></a-entity>

      <!-- Root of elements -->
      <a-entity id="root" wasd-controls animation="property: rotation; to: 0 -90 -90; startEvents: vertical"
        animation__2="property: rotation; to: 20 -45 -20; startEvents: original">
      </a-entity>

      <!--Tracked controls. -->
      <a-entity laser-controls="hand: left" raycaster="objects: .raycastable; far: 5"></a-entity>
      <a-entity laser-controls="hand: right" raycaster="objects: .raycastable; far: 5"></a-entity>

    </a-scene>
  </div>
</body>

</html>