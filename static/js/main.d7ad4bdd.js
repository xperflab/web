/*! For license information please see main.d7ad4bdd.js.LICENSE.txt */
!function(){var t={59591:function(e,t,n){var r=n(50008).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(C){l=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=M(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}t.wrap=h;var d={};function p(){}function m(){}function g(){}var v={};l(v,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==n&&o.call(b,s)&&(v=b);var x=g.prototype=p.prototype=Object.create(v);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,s,u){var c=f(e[i],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function M(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,M(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=g,l(x,"constructor",g),l(g,"constructor",m),m.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(w.prototype),l(w.prototype,u,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(x),l(x,c,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},50008:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},87757:function(e,t,n){var r=n(59591)();e.exports=r;try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},25810:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},48427:function(e,t,n){var r=n(7046);if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var i=AFRAME.utils,o=i.entity.getComponentProperty,a=i.entity.setComponentProperty;i.styleParser.parse;function s(e,t,n){var r=t.from||o(e,t.property);return AFRAME.utils.extend({},n,{targets:[{aframeProperty:r}],aframeProperty:t.to,update:function(){a(e,t.property,this.targets[0].aframeProperty)}})}function u(e,t,n){var r=o(e,t.property);t.from&&(r=AFRAME.utils.coordinates.parse(t.from));var i=AFRAME.utils.coordinates.parse(t.to);return AFRAME.utils.extend({},n,{targets:[r],update:function(){a(e,t.property,this.targets[0])}},i)}AFRAME.registerComponent("animation",{schema:{delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},from:{default:""},loop:{default:!1},property:{default:""},repeat:{default:0},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},restartEvents:{type:"array"},to:{default:""}},multiple:!0,init:function(){this.animation=null,this.animationIsPlaying=!1,this.config=null,this.playAnimationBound=this.playAnimation.bind(this),this.pauseAnimationBound=this.pauseAnimation.bind(this),this.resumeAnimationBound=this.resumeAnimation.bind(this),this.restartAnimationBound=this.restartAnimation.bind(this),this.repeat=0},update:function(){var e=this.attrName,t=this.data,n=this.el,i=function(e,t){var n=t.split("."),r=n[0],i=n[1],o=e.components[r]||AFRAME.components[r];if(!o)return null;if(i)return o.schema[i].type;return o.schema.type}(n,t.property),o=this;if(t.property){this.repeat=t.repeat;var a={autoplay:!1,begin:function(){n.emit("animationbegin"),n.emit(e+"-begin")},complete:function(){n.emit("animationcomplete"),n.emit(e+"-complete"),--o.repeat>0&&o.animation.play()},direction:t.dir,duration:t.dur,easing:t.easing,elasticity:t.elasticity,loop:t.loop},c=s;"vec2"!==i&&"vec3"!==i&&"vec4"!==i||(c=u),this.config=c(n,t,a),this.animation=r(this.config),this.pauseAnimation(),this.data.startEvents.length||(this.animationIsPlaying=!0),this.removeEventListeners(),this.addEventListeners()}},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.pauseAnimation(),this.removeEventListeners()},play:function(){var e=this.data,t=this;function n(){t.playAnimation(),t.addEventListeners()}this.animation&&this.animationIsPlaying&&(e.delay?setTimeout(n,e.delay):n())},addEventListeners:function(){var e=this,t=this.data,n=this.el;t.startEvents.map((function(t){n.addEventListener(t,e.playAnimationBound)})),t.pauseEvents.map((function(t){n.addEventListener(t,e.pauseAnimationBound)})),t.resumeEvents.map((function(t){n.addEventListener(t,e.resumeAnimationBound)})),t.restartEvents.map((function(t){n.addEventListener(t,e.restartAnimationBound)}))},removeEventListeners:function(){var e=this,t=this.data,n=this.el;t.startEvents.map((function(t){n.removeEventListener(t,e.playAnimationBound)})),t.pauseEvents.map((function(t){n.removeEventListener(t,e.pauseAnimationBound)})),t.resumeEvents.map((function(t){n.removeEventListener(t,e.resumeAnimationBound)})),t.restartEvents.map((function(t){n.removeEventListener(t,e.restartAnimationBound)}))},playAnimation:function(){this.animation=r(this.config),this.animation.play()},pauseAnimation:function(){this.animation.pause()},resumeAnimation:function(){this.animation.play()},restartAnimation:function(){this.animation.restart()}})},18466:function(e,t,n){var r=n(72298);if("undefined"===typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("particle-system",{schema:{preset:{type:"string",default:"",oneOf:["default","dust","snow","rain"]},maxAge:{type:"number",default:6},positionSpread:{type:"vec3",default:{x:0,y:0,z:0}},type:{type:"number",default:r.distributions.BOX},rotationAxis:{type:"string",default:"x"},rotationAngle:{type:"number",default:0},rotationAngleSpread:{type:"number",default:0},accelerationValue:{type:"vec3",default:{x:0,y:-10,z:0}},accelerationSpread:{type:"vec3",default:{x:10,y:0,z:10}},velocityValue:{type:"vec3",default:{x:0,y:25,z:0}},velocitySpread:{type:"vec3",default:{x:10,y:7.5,z:10}},dragValue:{type:"number",default:0},dragSpread:{type:"number",default:0},dragRandomise:{type:"boolean",default:!1},color:{type:"array",default:["#0000FF","#FF0000"]},size:{type:"number",default:1},direction:{type:"number",default:1},duration:{type:"number",default:null},particleCount:{type:"number",default:1e3},texture:{type:"asset",default:"https://cdn.rawgit.com/IdeaSpaceVR/aframe-particle-system-component/master/dist/images/star2.png"},randomise:{type:"boolean",default:!1},opacity:{type:"array",default:["1"]},maxParticleCount:{type:"number",default:25e4},blending:{type:"number",default:THREE.AdditiveBlending,oneOf:[THREE.NoBlending,THREE.NormalBlending,THREE.AdditiveBlending,THREE.SubtractiveBlending,THREE.MultiplyBlending]},enabled:{type:"boolean",default:!0}},init:function(){this.presets={},this.presets.dust={maxAge:20,positionSpread:{x:100,y:100,z:100},rotationAngle:3.14,accelerationValue:{x:0,y:0,z:0},accelerationSpread:{x:0,y:0,z:0},velocityValue:{x:1,y:.3,z:1},velocitySpread:{x:.5,y:1,z:.5},color:["#FFFFFF"],particleCount:100,texture:"https://cdn.rawgit.com/IdeaSpaceVR/aframe-particle-system-component/master/dist/images/smokeparticle.png"},this.presets.snow={maxAge:20,positionSpread:{x:100,y:100,z:100},rotationAngle:3.14,accelerationValue:{x:0,y:0,z:0},accelerationSpread:{x:.2,y:0,z:.2},velocityValue:{x:0,y:8,z:0},velocitySpread:{x:2,y:0,z:2},color:["#FFFFFF"],particleCount:200,texture:"https://cdn.rawgit.com/IdeaSpaceVR/aframe-particle-system-component/master/dist/images/smokeparticle.png"},this.presets.rain={maxAge:1,positionSpread:{x:100,y:100,z:100},rotationAngle:3.14,accelerationValue:{x:0,y:3,z:0},accelerationSpread:{x:2,y:1,z:2},velocityValue:{x:0,y:75,z:0},velocitySpread:{x:10,y:50,z:10},color:["#FFFFFF"],size:.4,texture:"https://cdn.rawgit.com/IdeaSpaceVR/aframe-particle-system-component/master/dist/images/raindrop.png"}},update:function(e){for(var t in this.particleGroup&&this.el.removeObject3D("particle-system"),this.preset=this.presets[this.data.preset]||{},this.data)this.data[t]=this.applyPreset(t);this.initParticleSystem(this.data),!0===this.data.enabled?this.startParticles():this.stopParticles()},applyPreset:function(e){return!this.attrValue[e]&&this.preset[e]?this.preset[e]:this.data[e]},tick:function(e,t){this.particleGroup.tick(t/1e3)},remove:function(){this.particleGroup&&this.el.removeObject3D("particle-system")},startParticles:function(){this.particleGroup.emitters.forEach((function(e){e.enable()}))},stopParticles:function(){this.particleGroup.emitters.forEach((function(e){e.disable()}))},initParticleSystem:function(e){var t=(new THREE.TextureLoader).load(e.texture,(function(e){return e}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error occurred")}));this.particleGroup=new r.Group({texture:{value:t},maxParticleCount:e.maxParticleCount,blending:e.blending});var n=new r.Emitter({maxAge:{value:e.maxAge},type:{value:e.type},position:{spread:new THREE.Vector3(e.positionSpread.x,e.positionSpread.y,e.positionSpread.z),randomise:e.randomise},rotation:{axis:"x"==e.rotationAxis?new THREE.Vector3(1,0,0):"y"==e.rotationAxis?new THREE.Vector3(0,1,0):"z"==e.rotationAxis?new THREE.Vector3(0,0,1):new THREE.Vector3(0,1,0),angle:e.rotationAngle,angleSpread:e.rotationAngleSpread,static:!0},acceleration:{value:new THREE.Vector3(e.accelerationValue.x,e.accelerationValue.y,e.accelerationValue.z),spread:new THREE.Vector3(e.accelerationSpread.x,e.accelerationSpread.y,e.accelerationSpread.z)},velocity:{value:new THREE.Vector3(e.velocityValue.x,e.velocityValue.y,e.velocityValue.z),spread:new THREE.Vector3(e.velocitySpread.x,e.velocitySpread.y,e.velocitySpread.z)},drag:{value:new THREE.Vector3(e.dragValue.x,e.dragValue.y,e.dragValue.z),spread:new THREE.Vector3(e.dragSpread.x,e.dragSpread.y,e.dragSpread.z),randomise:e.dragRandomise},color:{value:e.color.map((function(e){return new THREE.Color(e)}))},size:{value:e.size},direction:{value:e.direction},duration:e.duration,opacity:{value:e.opacity.map((function(e){return parseFloat(e)}))},particleCount:e.particleCount});this.particleGroup.addEmitter(n),this.particleGroup.mesh.frustumCulled=!1,this.el.setObject3D("particle-system",this.particleGroup.mesh)}})},72298:function(e,t,n){var r,i,o={distributions:{BOX:1,SPHERE:2,DISC:3},valueOverLifetimeLength:4};void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),o.TypedArrayHelper=function(e,t,n,r){"use strict";this.componentSize=n||1,this.size=t||1,this.TypedArrayConstructor=e||Float32Array,this.array=new e(t*this.componentSize),this.indexOffset=r||0},o.TypedArrayHelper.constructor=o.TypedArrayHelper,o.TypedArrayHelper.prototype.setSize=function(e,t){"use strict";var n=this.array.length;return t||(e*=this.componentSize),e<n?this.shrink(e):e>n?this.grow(e):void console.info("TypedArray is already of size:",e+".","Will not resize.")},o.TypedArrayHelper.prototype.shrink=function(e){"use strict";return this.array=this.array.subarray(0,e),this.size=e,this},o.TypedArrayHelper.prototype.grow=function(e){"use strict";var t=this.array,n=new this.TypedArrayConstructor(e);return n.set(t),this.array=n,this.size=e,this},o.TypedArrayHelper.prototype.splice=function(e,t){"use strict";e*=this.componentSize,t*=this.componentSize;for(var n=[],r=this.array,i=r.length,o=0;o<i;++o)(o<e||o>=t)&&n.push(r[o]);return this.setFromArray(0,n),this},o.TypedArrayHelper.prototype.setFromArray=function(e,t){"use strict";var n=e+t.length;return n>this.array.length?this.grow(n):n<this.array.length&&this.shrink(n),this.array.set(t,this.indexOffset+e),this},o.TypedArrayHelper.prototype.setVec2=function(e,t){"use strict";return this.setVec2Components(e,t.x,t.y)},o.TypedArrayHelper.prototype.setVec2Components=function(e,t,n){"use strict";var r=this.array,i=this.indexOffset+e*this.componentSize;return r[i]=t,r[i+1]=n,this},o.TypedArrayHelper.prototype.setVec3=function(e,t){"use strict";return this.setVec3Components(e,t.x,t.y,t.z)},o.TypedArrayHelper.prototype.setVec3Components=function(e,t,n,r){"use strict";var i=this.array,o=this.indexOffset+e*this.componentSize;return i[o]=t,i[o+1]=n,i[o+2]=r,this},o.TypedArrayHelper.prototype.setVec4=function(e,t){"use strict";return this.setVec4Components(e,t.x,t.y,t.z,t.w)},o.TypedArrayHelper.prototype.setVec4Components=function(e,t,n,r,i){"use strict";var o=this.array,a=this.indexOffset+e*this.componentSize;return o[a]=t,o[a+1]=n,o[a+2]=r,o[a+3]=i,this},o.TypedArrayHelper.prototype.setMat3=function(e,t){"use strict";return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)},o.TypedArrayHelper.prototype.setMat4=function(e,t){"use strict";return this.setFromArray(this.indexOffset+e*this.componentSize,t.elements)},o.TypedArrayHelper.prototype.setColor=function(e,t){"use strict";return this.setVec3Components(e,t.r,t.g,t.b)},o.TypedArrayHelper.prototype.setNumber=function(e,t){"use strict";return this.array[this.indexOffset+e*this.componentSize]=t,this},o.TypedArrayHelper.prototype.getValueAtIndex=function(e){"use strict";return this.array[this.indexOffset+e]},o.TypedArrayHelper.prototype.getComponentValueAtIndex=function(e){"use strict";return this.array.subarray(this.indexOffset+e*this.componentSize)},o.ShaderAttribute=function(e,t,n){"use strict";var r=o.ShaderAttribute.typeSizeMap;this.type="string"===typeof e&&r.hasOwnProperty(e)?e:"f",this.componentSize=r[this.type],this.arrayType=n||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!t,this.updateMin=0,this.updateMax=0},o.ShaderAttribute.constructor=o.ShaderAttribute,o.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},o.ShaderAttribute.prototype.setUpdateRange=function(e,t){"use strict";this.updateMin=Math.min(e*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math.max(t*this.componentSize,this.updateMax*this.componentSize)},o.ShaderAttribute.prototype.flagUpdate=function(){"use strict";var e=this.bufferAttribute,t=e.updateRange;t.offset=this.updateMin,t.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray.array.length),e.needsUpdate=!0},o.ShaderAttribute.prototype.resetUpdateRange=function(){"use strict";this.updateMin=0,this.updateMax=0},o.ShaderAttribute.prototype.resetDynamic=function(){"use strict";this.bufferAttribute.dynamic=this.dynamicBuffer},o.ShaderAttribute.prototype.splice=function(e,t){"use strict";this.typedArray.splice(e,t),this.forceUpdateAll()},o.ShaderAttribute.prototype.forceUpdateAll=function(){"use strict";this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.updateRange.offset=0,this.bufferAttribute.updateRange.count=-1,this.bufferAttribute.dynamic=!1,this.bufferAttribute.needsUpdate=!0},o.ShaderAttribute.prototype._ensureTypedArray=function(e){"use strict";null!==this.typedArray&&this.typedArray.size===e*this.componentSize||(null!==this.typedArray&&this.typedArray.size!==e?this.typedArray.setSize(e):null===this.typedArray&&(this.typedArray=new o.TypedArrayHelper(this.arrayType,e,this.componentSize)))},o.ShaderAttribute.prototype._createBufferAttribute=function(e){"use strict";if(this._ensureTypedArray(e),null!==this.bufferAttribute)return this.bufferAttribute.array=this.typedArray.array,void(this.bufferAttribute.needsUpdate=!0);this.bufferAttribute=new THREE.BufferAttribute(this.typedArray.array,this.componentSize),this.bufferAttribute.dynamic=this.dynamicBuffer},o.ShaderAttribute.prototype.getLength=function(){"use strict";return null===this.typedArray?0:this.typedArray.array.length},o.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:["uniform float deltaTime;","uniform float runTime;","uniform sampler2D texture;","uniform vec4 textureAnimation;","uniform float scale;"].join("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;","attribute vec3 rotationCenter;","attribute vec4 params;","attribute vec4 size;","attribute vec4 angle;","attribute vec4 color;","attribute vec4 opacity;"].join("\n"),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE","    varying float vAngle;","#endif","#ifdef SHOULD_CALCULATE_SPRITE","    varying vec4 vSpriteSheet;","#endif"].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}","float when_ge(float x, float y) {","  return 1.0 - when_lt(x, y);","}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}","float and(float a, float b) {","    return a * b;","}","float or(float a, float b) {","    return min(a + b, 1.0);","}"].join("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"].join("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","   return c;","}"].join("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;","    float shouldApplyValue = 0.0;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","","    return value;","}"].join("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"].join("\n"),paramFetchingFunctions:["float getAlive() {","   return params.x;","}","float getAge() {","   return params.y;","}","float getMaxAge() {","   return params.z;","}","float getWiggle() {","   return params.w;","}"].join("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {","   return modelViewMatrix * vec4( position, 1.0 );","}","vec3 getVelocity( in float age ) {","   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);","       float s = sin(angle);","       float c = cos(angle);","       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);","   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      if( rotation.y == 0.0 ) {","           return pos;","      }","","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;","      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }","#endif"].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );","       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","    #endif","","    vec4 rotatedTexture = texture2D( texture, vUv );"].join("\n")},o.shaders={vertex:[o.shaderChunks.defines,o.shaderChunks.uniforms,o.shaderChunks.attributes,o.shaderChunks.varyings,THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_vertex,THREE.ShaderChunk.fog_pars_vertex,o.shaderChunks.branchAvoidanceFunctions,o.shaderChunks.unpackColor,o.shaderChunks.unpackRotationAxis,o.shaderChunks.floatOverLifetime,o.shaderChunks.colorOverLifetime,o.shaderChunks.paramFetchingFunctions,o.shaderChunks.forceFetchingFunctions,o.shaderChunks.rotationFunctions,"vec4 mvPosition;","void main() {","    highp float age = getAge();","    highp float alive = getAlive();","    highp float maxAge = getMaxAge();","    highp float positionInTime = (age / maxAge);","    highp float isAlive = when_gt( alive, 0.0 );","    #ifdef SHOULD_WIGGLE_PARTICLES","        float wiggleAmount = positionInTime * getWiggle();","        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );","    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;","    force *= drag;","    force += accel * age;","    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;","        pos.y += wiggleCos;","        pos.z += wiggleSin;","    #endif","    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );","    #endif","    vec4 mvPos = mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE","        float perspective = scale / length( mvPos.xyz );","    #else","        float perspective = 1.0;","    #endif","    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,","           unpackColor( color.x ),","           unpackColor( color.y ),","           unpackColor( color.z ),","           unpackColor( color.w )","       );","    #else","       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );","    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;","        vSpriteSheet.z = columnNorm;","        vSpriteSheet.w = rowNorm;","    #endif","    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPos;",THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.fog_vertex,"}"].join("\n"),fragment:[o.shaderChunks.uniforms,THREE.ShaderChunk.common,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,o.shaderChunks.varyings,o.shaderChunks.branchAvoidanceFunctions,"void main() {","    vec3 outgoingLight = vColor.xyz;","    ","    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",o.shaderChunks.rotateTexture,THREE.ShaderChunk.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",THREE.ShaderChunk.fog_fragment,"}"].join("\n")},o.utils={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg:function(e,t,n){"use strict";return typeof e===t?e:n},ensureArrayTypedArg:function(e,t,n){"use strict";if(Array.isArray(e)){for(var r=e.length-1;r>=0;--r)if(typeof e[r]!==t)return n;return e}return this.ensureTypedArg(e,t,n)},ensureInstanceOf:function(e,t,n){"use strict";return void 0!==t&&e instanceof t?e:n},ensureArrayInstanceOf:function(e,t,n){"use strict";if(Array.isArray(e)){for(var r=e.length-1;r>=0;--r)if(void 0!==t&&e[r]instanceof t===!1)return n;return e}return this.ensureInstanceOf(e,t,n)},ensureValueOverLifetimeCompliance:function(e,t,n){"use strict";t=t||3,n=n||3,!1===Array.isArray(e._value)&&(e._value=[e._value]),!1===Array.isArray(e._spread)&&(e._spread=[e._spread]);var r=this.clamp(e._value.length,t,n),i=this.clamp(e._spread.length,t,n),o=Math.max(r,i);e._value.length!==o&&(e._value=this.interpolateArray(e._value,o)),e._spread.length!==o&&(e._spread=this.interpolateArray(e._spread,o))},interpolateArray:function(e,t){"use strict";for(var n=e.length,r=["function"===typeof e[0].clone?e[0].clone():e[0]],i=(n-1)/(t-1),o=1;o<t-1;++o){var a=o*i,s=Math.floor(a),u=Math.ceil(a),c=a-s;r[o]=this.lerpTypeAgnostic(e[s],e[u],c)}return r.push("function"===typeof e[n-1].clone?e[n-1].clone():e[n-1]),r},clamp:function(e,t,n){"use strict";return Math.max(t,Math.min(e,n))},zeroToEpsilon:function(e,t){"use strict";var n=1e-5,r=e;return r=t?Math.random()*n*10:n,e<0&&e>-1e-5&&(r=-r),r},lerpTypeAgnostic:function(e,t,n){"use strict";var r,i=this.types;return typeof e===i.NUMBER&&typeof t===i.NUMBER?e+(t-e)*n:e instanceof THREE.Vector2&&t instanceof THREE.Vector2?((r=e.clone()).x=this.lerp(e.x,t.x,n),r.y=this.lerp(e.y,t.y,n),r):e instanceof THREE.Vector3&&t instanceof THREE.Vector3?((r=e.clone()).x=this.lerp(e.x,t.x,n),r.y=this.lerp(e.y,t.y,n),r.z=this.lerp(e.z,t.z,n),r):e instanceof THREE.Vector4&&t instanceof THREE.Vector4?((r=e.clone()).x=this.lerp(e.x,t.x,n),r.y=this.lerp(e.y,t.y,n),r.z=this.lerp(e.z,t.z,n),r.w=this.lerp(e.w,t.w,n),r):e instanceof THREE.Color&&t instanceof THREE.Color?((r=e.clone()).r=this.lerp(e.r,t.r,n),r.g=this.lerp(e.g,t.g,n),r.b=this.lerp(e.b,t.b,n),r):void console.warn("Invalid argument types, or argument types do not match:",e,t)},lerp:function(e,t,n){"use strict";return e+(t-e)*n},roundToNearestMultiple:function(e,t){"use strict";var n;return 0===t||0===(n=Math.abs(e)%t)?e:e<0?-(Math.abs(e)-n):e+t-n},arrayValuesAreEqual:function(e){"use strict";for(var t=0;t<e.length-1;++t)if(e[t]!==e[t+1])return!1;return!0},randomFloat:function(e,t){"use strict";return e+t*(Math.random()-.5)},randomVector3:function(e,t,n,r,i){"use strict";var o=n.x+(Math.random()*r.x-.5*r.x),a=n.y+(Math.random()*r.y-.5*r.y),s=n.z+(Math.random()*r.z-.5*r.z);i&&(o=.5*-i.x+this.roundToNearestMultiple(o,i.x),a=.5*-i.y+this.roundToNearestMultiple(a,i.y),s=.5*-i.z+this.roundToNearestMultiple(s,i.z)),e.typedArray.setVec3Components(t,o,a,s)},randomColor:function(e,t,n,r){"use strict";var i=n.r+Math.random()*r.x,o=n.g+Math.random()*r.y,a=n.b+Math.random()*r.z;i=this.clamp(i,0,1),o=this.clamp(o,0,1),a=this.clamp(a,0,1),e.typedArray.setVec3Components(t,i,o,a)},randomColorAsHex:function(){"use strict";var e=new THREE.Color;return function(t,n,r,i){for(var o=r.length,a=[],s=0;s<o;++s){var u=i[s];e.copy(r[s]),e.r+=Math.random()*u.x-.5*u.x,e.g+=Math.random()*u.y-.5*u.y,e.b+=Math.random()*u.z-.5*u.z,e.r=this.clamp(e.r,0,1),e.g=this.clamp(e.g,0,1),e.b=this.clamp(e.b,0,1),a.push(e.getHex())}t.typedArray.setVec4Components(n,a[0],a[1],a[2],a[3])}}(),randomVector3OnSphere:function(e,t,n,r,i,o,a,s){"use strict";var u=2*Math.random()-1,c=6.2832*Math.random(),l=Math.sqrt(1-u*u),h=this.randomFloat(r,i),f=0,d=0,p=0;a&&(h=Math.round(h/a)*a),f=l*Math.cos(c)*h,d=l*Math.sin(c)*h,p=u*h,f*=o.x,d*=o.y,p*=o.z,f+=n.x,d+=n.y,p+=n.z,e.typedArray.setVec3Components(t,f,d,p)},seededRandom:function(e){var t=1e4*Math.sin(e);return t-(0|t)},randomVector3OnDisc:function(e,t,n,r,i,o,a){"use strict";var s=6.2832*Math.random(),u=Math.abs(this.randomFloat(r,i)),c=0,l=0,h=0;a&&(u=Math.round(u/a)*a),c=Math.cos(s)*u,l=Math.sin(s)*u,c*=o.x,l*=o.y,c+=n.x,l+=n.y,h+=n.z,e.typedArray.setVec3Components(t,c,l,h)},randomDirectionVector3OnSphere:function(){"use strict";var e=new THREE.Vector3;return function(t,n,r,i,o,a,s,u){e.copy(a),e.x-=r,e.y-=i,e.z-=o,e.normalize().multiplyScalar(-this.randomFloat(s,u)),t.typedArray.setVec3Components(n,e.x,e.y,e.z)}}(),randomDirectionVector3OnDisc:function(){"use strict";var e=new THREE.Vector3;return function(t,n,r,i,o,a,s,u){e.copy(a),e.x-=r,e.y-=i,e.z-=o,e.normalize().multiplyScalar(-this.randomFloat(s,u)),t.typedArray.setVec3Components(n,e.x,e.y,0)}}(),getPackedRotationAxis:function(){"use strict";var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Color,r=new THREE.Vector3(1,1,1);return function(i,o){return e.copy(i).normalize(),t.copy(o).normalize(),e.x+=.5*-o.x+Math.random()*o.x,e.y+=.5*-o.y+Math.random()*o.y,e.z+=.5*-o.z+Math.random()*o.z,e.normalize().add(r).multiplyScalar(.5),n.setRGB(e.x,e.y,e.z),n.getHex()}}()},o.Group=function(e){"use strict";var t=o.utils,n=t.types;(e=t.ensureTypedArg(e,n.OBJECT,{})).texture=t.ensureTypedArg(e.texture,n.OBJECT,{}),this.uuid=THREE.Math.generateUUID(),this.fixedTimeStep=t.ensureTypedArg(e.fixedTimeStep,n.NUMBER,.016),this.texture=t.ensureInstanceOf(e.texture.value,THREE.Texture,null),this.textureFrames=t.ensureInstanceOf(e.texture.frames,THREE.Vector2,new THREE.Vector2(1,1)),this.textureFrameCount=t.ensureTypedArg(e.texture.frameCount,n.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=t.ensureTypedArg(e.texture.loop,n.NUMBER,1),this.textureFrames.max(new THREE.Vector2(1,1)),this.hasPerspective=t.ensureTypedArg(e.hasPerspective,n.BOOLEAN,!0),this.colorize=t.ensureTypedArg(e.colorize,n.BOOLEAN,!0),this.maxParticleCount=t.ensureTypedArg(e.maxParticleCount,n.NUMBER,null),this.blending=t.ensureTypedArg(e.blending,n.NUMBER,THREE.AdditiveBlending),this.transparent=t.ensureTypedArg(e.transparent,n.BOOLEAN,!0),this.alphaTest=parseFloat(t.ensureTypedArg(e.alphaTest,n.NUMBER,0)),this.depthWrite=t.ensureTypedArg(e.depthWrite,n.BOOLEAN,!1),this.depthTest=t.ensureTypedArg(e.depthTest,n.BOOLEAN,!0),this.fog=t.ensureTypedArg(e.fog,n.BOOLEAN,!0),this.scale=t.ensureTypedArg(e.scale,n.NUMBER,300),this.emitters=[],this.emitterIDs=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={texture:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new THREE.Vector4(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:o.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this.attributes={position:new o.ShaderAttribute("v3",!0),acceleration:new o.ShaderAttribute("v4",!0),velocity:new o.ShaderAttribute("v3",!0),rotation:new o.ShaderAttribute("v4",!0),rotationCenter:new o.ShaderAttribute("v3",!0),params:new o.ShaderAttribute("v4",!0),size:new o.ShaderAttribute("v4",!0),angle:new o.ShaderAttribute("v4",!0),color:new o.ShaderAttribute("v4",!0),opacity:new o.ShaderAttribute("v4",!0)},this.attributeKeys=Object.keys(this.attributes),this.attributeCount=this.attributeKeys.length,this.material=new THREE.ShaderMaterial({uniforms:this.uniforms,vertexShader:o.shaders.vertex,fragmentShader:o.shaders.fragment,blending:this.blending,transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this.fog}),this.geometry=new THREE.BufferGeometry,this.mesh=new THREE.Points(this.geometry,this.material),null===this.maxParticleCount&&console.warn("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},o.Group.constructor=o.Group,o.Group.prototype._updateDefines=function(){"use strict";for(var e,t=this.emitters,n=t.length-1,r=this.defines;n>=0;--n)e=t[n],r.SHOULD_CALCULATE_SPRITE||(r.SHOULD_ROTATE_TEXTURE=r.SHOULD_ROTATE_TEXTURE||!!Math.max(Math.max.apply(null,e.angle.value),Math.max.apply(null,e.angle.spread))),r.SHOULD_ROTATE_PARTICLES=r.SHOULD_ROTATE_PARTICLES||!!Math.max(e.rotation.angle,e.rotation.angleSpread),r.SHOULD_WIGGLE_PARTICLES=r.SHOULD_WIGGLE_PARTICLES||!!Math.max(e.wiggle.value,e.wiggle.spread);this.material.needsUpdate=!0},o.Group.prototype._applyAttributesToGeometry=function(){"use strict";var e,t,n=this.attributes,r=this.geometry,i=r.attributes;for(var o in n)n.hasOwnProperty(o)&&(e=n[o],(t=i[o])?t.array=e.typedArray.array:r.addAttribute(o,e.bufferAttribute),e.bufferAttribute.needsUpdate=!0);this.geometry.setDrawRange(0,this.particleCount)},o.Group.prototype.addEmitter=function(e){"use strict";if(e instanceof o.Emitter!==!1)if(this.emitterIDs.indexOf(e.uuid)>-1)console.error("Emitter already exists in this group. Will not add again.");else{if(null===e.group){var t=this.attributes,n=this.particleCount,r=n+e.particleCount;for(var i in this.particleCount=r,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this.particleCount,"particles, can support only",this.maxParticleCount),e._calculatePPSValue(e.maxAge._value+e.maxAge._spread),e._setBufferUpdateRanges(this.attributeKeys),e._setAttributeOffset(n),e.group=this,e.attributes=this.attributes,t)t.hasOwnProperty(i)&&t[i]._createBufferAttribute(null!==this.maxParticleCount?this.maxParticleCount:this.particleCount);for(var a=n;a<r;++a)e._assignPositionValue(a),e._assignForceValue(a,"velocity"),e._assignForceValue(a,"acceleration"),e._assignAbsLifetimeValue(a,"opacity"),e._assignAbsLifetimeValue(a,"size"),e._assignAngleValue(a),e._assignRotationValue(a),e._assignParamsValue(a),e._assignColorValue(a);return this._applyAttributesToGeometry(),this.emitters.push(e),this.emitterIDs.push(e.uuid),this._updateDefines(e),this.material.needsUpdate=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this}console.error("Emitter already belongs to another group. Will not add to requested group.")}else console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",e)},o.Group.prototype.removeEmitter=function(e){"use strict";var t=this.emitterIDs.indexOf(e.uuid);if(e instanceof o.Emitter!==!1)if(-1!==t){for(var n=e.attributeOffset,r=n+e.particleCount,i=this.attributes.params.typedArray,a=n;a<r;++a)i.array[4*a]=0,i.array[4*a+1]=0;for(var s in this.emitters.splice(t,1),this.emitterIDs.splice(t,1),this.attributes)this.attributes.hasOwnProperty(s)&&this.attributes[s].splice(n,r);this.particleCount-=e.particleCount,e._onRemove(),this._attributesNeedRefresh=!0}else console.error("Emitter does not exist in this group. Will not remove.");else console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",e)},o.Group.prototype.getFromPool=function(){"use strict";var e=this._pool,t=this._createNewWhenPoolEmpty;return e.length?e.pop():t?new o.Emitter(this._poolCreationSettings):null},o.Group.prototype.releaseIntoPool=function(e){"use strict";if(e instanceof o.Emitter!==!1)return e.reset(),this._pool.unshift(e),this;console.error("Argument is not instanceof SPE.Emitter:",e)},o.Group.prototype.getPool=function(){"use strict";return this._pool},o.Group.prototype.addPool=function(e,t,n){"use strict";var r;this._poolCreationSettings=t,this._createNewWhenPoolEmpty=!!n;for(var i=0;i<e;++i)r=Array.isArray(t)?new o.Emitter(t[i]):new o.Emitter(t),this.addEmitter(r),this.releaseIntoPool(r);return this},o.Group.prototype._triggerSingleEmitter=function(e){"use strict";var t=this.getFromPool(),n=this;if(null!==t)return e instanceof THREE.Vector3&&(t.position.value.copy(e),t.position.value=t.position.value),t.enable(),setTimeout((function(){t.disable(),n.releaseIntoPool(t)}),1e3*Math.max(t.duration,t.maxAge.value+t.maxAge.spread)),this;console.log("SPE.Group pool ran out.")},o.Group.prototype.triggerPoolEmitter=function(e,t){"use strict";if("number"===typeof e&&e>1)for(var n=0;n<e;++n)this._triggerSingleEmitter(t);else this._triggerSingleEmitter(t);return this},o.Group.prototype._updateUniforms=function(e){"use strict";this.uniforms.runTime.value+=e,this.uniforms.deltaTime.value=e},o.Group.prototype._resetBufferRanges=function(){"use strict";for(var e=this.attributeKeys,t=this.attributeCount-1,n=this.attributes;t>=0;--t)n[e[t]].resetUpdateRange()},o.Group.prototype._updateBuffers=function(e){"use strict";for(var t,n,r,i=this.attributeKeys,o=this.attributeCount-1,a=this.attributes,s=e.bufferUpdateRanges;o>=0;--o)n=s[t=i[o]],(r=a[t]).setUpdateRange(n.min,n.max),r.flagUpdate()},o.Group.prototype.tick=function(e){"use strict";var t=this.emitters,n=t.length,r=e||this.fixedTimeStep,i=this.attributeKeys,o=this.attributes;if(this._updateUniforms(r),this._resetBufferRanges(),0!==n||!1!==this._attributesNeedRefresh||!1!==this._attributesNeedDynamicReset){for(var a,s=0;s<n;++s)(a=t[s]).tick(r),this._updateBuffers(a);if(!0===this._attributesNeedDynamicReset){for(s=this.attributeCount-1;s>=0;--s)o[i[s]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(s=this.attributeCount-1;s>=0;--s)o[i[s]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},o.Group.prototype.dispose=function(){"use strict";return this.geometry.dispose(),this.material.dispose(),this},o.Emitter=function(e){"use strict";var t=o.utils,n=t.types,r=o.valueOverLifetimeLength;for(var i in(e=t.ensureTypedArg(e,n.OBJECT,{})).position=t.ensureTypedArg(e.position,n.OBJECT,{}),e.velocity=t.ensureTypedArg(e.velocity,n.OBJECT,{}),e.acceleration=t.ensureTypedArg(e.acceleration,n.OBJECT,{}),e.radius=t.ensureTypedArg(e.radius,n.OBJECT,{}),e.drag=t.ensureTypedArg(e.drag,n.OBJECT,{}),e.rotation=t.ensureTypedArg(e.rotation,n.OBJECT,{}),e.color=t.ensureTypedArg(e.color,n.OBJECT,{}),e.opacity=t.ensureTypedArg(e.opacity,n.OBJECT,{}),e.size=t.ensureTypedArg(e.size,n.OBJECT,{}),e.angle=t.ensureTypedArg(e.angle,n.OBJECT,{}),e.wiggle=t.ensureTypedArg(e.wiggle,n.OBJECT,{}),e.maxAge=t.ensureTypedArg(e.maxAge,n.OBJECT,{}),e.onParticleSpawn&&console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=THREE.Math.generateUUID(),this.type=t.ensureTypedArg(e.type,n.NUMBER,o.distributions.BOX),this.position={_value:t.ensureInstanceOf(e.position.value,THREE.Vector3,new THREE.Vector3),_spread:t.ensureInstanceOf(e.position.spread,THREE.Vector3,new THREE.Vector3),_spreadClamp:t.ensureInstanceOf(e.position.spreadClamp,THREE.Vector3,new THREE.Vector3),_distribution:t.ensureTypedArg(e.position.distribution,n.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1),_radius:t.ensureTypedArg(e.position.radius,n.NUMBER,10),_radiusScale:t.ensureInstanceOf(e.position.radiusScale,THREE.Vector3,new THREE.Vector3(1,1,1)),_distributionClamp:t.ensureTypedArg(e.position.distributionClamp,n.NUMBER,0)},this.velocity={_value:t.ensureInstanceOf(e.velocity.value,THREE.Vector3,new THREE.Vector3),_spread:t.ensureInstanceOf(e.velocity.spread,THREE.Vector3,new THREE.Vector3),_distribution:t.ensureTypedArg(e.velocity.distribution,n.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.acceleration={_value:t.ensureInstanceOf(e.acceleration.value,THREE.Vector3,new THREE.Vector3),_spread:t.ensureInstanceOf(e.acceleration.spread,THREE.Vector3,new THREE.Vector3),_distribution:t.ensureTypedArg(e.acceleration.distribution,n.NUMBER,this.type),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.drag={_value:t.ensureTypedArg(e.drag.value,n.NUMBER,0),_spread:t.ensureTypedArg(e.drag.spread,n.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.wiggle={_value:t.ensureTypedArg(e.wiggle.value,n.NUMBER,0),_spread:t.ensureTypedArg(e.wiggle.spread,n.NUMBER,0)},this.rotation={_axis:t.ensureInstanceOf(e.rotation.axis,THREE.Vector3,new THREE.Vector3(0,1,0)),_axisSpread:t.ensureInstanceOf(e.rotation.axisSpread,THREE.Vector3,new THREE.Vector3),_angle:t.ensureTypedArg(e.rotation.angle,n.NUMBER,0),_angleSpread:t.ensureTypedArg(e.rotation.angleSpread,n.NUMBER,0),_static:t.ensureTypedArg(e.rotation.static,n.BOOLEAN,!1),_center:t.ensureInstanceOf(e.rotation.center,THREE.Vector3,this.position._value.clone()),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.maxAge={_value:t.ensureTypedArg(e.maxAge.value,n.NUMBER,2),_spread:t.ensureTypedArg(e.maxAge.spread,n.NUMBER,0)},this.color={_value:t.ensureArrayInstanceOf(e.color.value,THREE.Color,new THREE.Color),_spread:t.ensureArrayInstanceOf(e.color.spread,THREE.Vector3,new THREE.Vector3),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.opacity={_value:t.ensureArrayTypedArg(e.opacity.value,n.NUMBER,1),_spread:t.ensureArrayTypedArg(e.opacity.spread,n.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.size={_value:t.ensureArrayTypedArg(e.size.value,n.NUMBER,1),_spread:t.ensureArrayTypedArg(e.size.spread,n.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.angle={_value:t.ensureArrayTypedArg(e.angle.value,n.NUMBER,0),_spread:t.ensureArrayTypedArg(e.angle.spread,n.NUMBER,0),_randomise:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)},this.particleCount=t.ensureTypedArg(e.particleCount,n.NUMBER,100),this.duration=t.ensureTypedArg(e.duration,n.NUMBER,null),this.isStatic=t.ensureTypedArg(e.isStatic,n.BOOLEAN,!1),this.activeMultiplier=t.ensureTypedArg(e.activeMultiplier,n.NUMBER,1),this.direction=t.ensureTypedArg(e.direction,n.NUMBER,1),this.alive=t.ensureTypedArg(e.alive,n.BOOLEAN,!0),this.particlesPerSecond=0,this.activationIndex=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:t.ensureTypedArg(e.position.randomise,n.BOOLEAN,!1)||t.ensureTypedArg(e.radius.randomise,n.BOOLEAN,!1),velocity:t.ensureTypedArg(e.velocity.randomise,n.BOOLEAN,!1),acceleration:t.ensureTypedArg(e.acceleration.randomise,n.BOOLEAN,!1)||t.ensureTypedArg(e.drag.randomise,n.BOOLEAN,!1),rotation:t.ensureTypedArg(e.rotation.randomise,n.BOOLEAN,!1),rotationCenter:t.ensureTypedArg(e.rotation.randomise,n.BOOLEAN,!1),size:t.ensureTypedArg(e.size.randomise,n.BOOLEAN,!1),color:t.ensureTypedArg(e.color.randomise,n.BOOLEAN,!1),opacity:t.ensureTypedArg(e.opacity.randomise,n.BOOLEAN,!1),angle:t.ensureTypedArg(e.angle.randomise,n.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:"params",position:"position",velocity:"velocity",acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:"size",color:"color",opacity:"opacity",angle:"angle"},this.updateMap)this.updateMap.hasOwnProperty(i)&&(this.updateCounts[this.updateMap[i]]=0,this.updateFlags[this.updateMap[i]]=!1,this._createGetterSetters(this[i],i));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,t.ensureValueOverLifetimeCompliance(this.color,r,r),t.ensureValueOverLifetimeCompliance(this.opacity,r,r),t.ensureValueOverLifetimeCompliance(this.size,r,r),t.ensureValueOverLifetimeCompliance(this.angle,r,r)},o.Emitter.constructor=o.Emitter,o.Emitter.prototype._createGetterSetters=function(e,t){"use strict";var n=this;for(var r in e)if(e.hasOwnProperty(r)){var i=r.replace("_","");Object.defineProperty(e,i,{get:function(e){return function(){return this[e]}}(r),set:function(e){return function(r){var i=n.updateMap[t],a=this[e],s=o.valueOverLifetimeLength;"_rotationCenter"===e?(n.updateFlags.rotationCenter=!0,n.updateCounts.rotationCenter=0):"_randomise"===e?n.resetFlags[i]=r:(n.updateFlags[i]=!0,n.updateCounts[i]=0),n.group._updateDefines(),this[e]=r,Array.isArray(a)&&o.utils.ensureValueOverLifetimeCompliance(n[t],s,s)}}(r)})}},o.Emitter.prototype._setBufferUpdateRanges=function(e){"use strict";this.attributeKeys=e,this.attributeCount=e.length;for(var t=this.attributeCount-1;t>=0;--t)this.bufferUpdateRanges[e[t]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},o.Emitter.prototype._calculatePPSValue=function(e){"use strict";var t=this.particleCount;this.duration?this.particlesPerSecond=t/(e<this.duration?e:this.duration):this.particlesPerSecond=t/e},o.Emitter.prototype._setAttributeOffset=function(e){this.attributeOffset=e,this.activationIndex=e,this.activationEnd=e+this.particleCount},o.Emitter.prototype._assignValue=function(e,t){"use strict";switch(e){case"position":this._assignPositionValue(t);break;case"velocity":case"acceleration":this._assignForceValue(t,e);break;case"size":case"opacity":this._assignAbsLifetimeValue(t,e);break;case"angle":this._assignAngleValue(t);break;case"params":this._assignParamsValue(t);break;case"rotation":this._assignRotationValue(t);break;case"color":this._assignColorValue(t)}},o.Emitter.prototype._assignPositionValue=function(e){"use strict";var t=o.distributions,n=o.utils,r=this.position,i=this.attributes.position,a=r._value,s=r._spread;switch(r._distribution){case t.BOX:n.randomVector3(i,e,a,s,r._spreadClamp);break;case t.SPHERE:n.randomVector3OnSphere(i,e,a,r._radius,r._spread.x,r._radiusScale,r._spreadClamp.x,r._distributionClamp||this.particleCount);break;case t.DISC:n.randomVector3OnDisc(i,e,a,r._radius,r._spread.x,r._radiusScale,r._spreadClamp.x)}},o.Emitter.prototype._assignForceValue=function(e,t){"use strict";var n,r,i,a,s,u=o.distributions,c=o.utils,l=this[t],h=l._value,f=l._spread;switch(l._distribution){case u.BOX:c.randomVector3(this.attributes[t],e,h,f);break;case u.SPHERE:r=(n=this.attributes.position.typedArray.array)[s=3*e],i=n[s+1],a=n[s+2],c.randomDirectionVector3OnSphere(this.attributes[t],e,r,i,a,this.position._value,l._value.x,l._spread.x);break;case u.DISC:r=(n=this.attributes.position.typedArray.array)[s=3*e],i=n[s+1],a=n[s+2],c.randomDirectionVector3OnDisc(this.attributes[t],e,r,i,a,this.position._value,l._value.x,l._spread.x)}if("acceleration"===t){var d=c.clamp(c.randomFloat(this.drag._value,this.drag._spread),0,1);this.attributes.acceleration.typedArray.array[4*e+3]=d}},o.Emitter.prototype._assignAbsLifetimeValue=function(e,t){"use strict";var n,r=this.attributes[t].typedArray,i=this[t],a=o.utils;a.arrayValuesAreEqual(i._value)&&a.arrayValuesAreEqual(i._spread)?(n=Math.abs(a.randomFloat(i._value[0],i._spread[0])),r.setVec4Components(e,n,n,n,n)):r.setVec4Components(e,Math.abs(a.randomFloat(i._value[0],i._spread[0])),Math.abs(a.randomFloat(i._value[1],i._spread[1])),Math.abs(a.randomFloat(i._value[2],i._spread[2])),Math.abs(a.randomFloat(i._value[3],i._spread[3])))},o.Emitter.prototype._assignAngleValue=function(e){"use strict";var t,n=this.attributes.angle.typedArray,r=this.angle,i=o.utils;i.arrayValuesAreEqual(r._value)&&i.arrayValuesAreEqual(r._spread)?(t=i.randomFloat(r._value[0],r._spread[0]),n.setVec4Components(e,t,t,t,t)):n.setVec4Components(e,i.randomFloat(r._value[0],r._spread[0]),i.randomFloat(r._value[1],r._spread[1]),i.randomFloat(r._value[2],r._spread[2]),i.randomFloat(r._value[3],r._spread[3]))},o.Emitter.prototype._assignParamsValue=function(e){"use strict";this.attributes.params.typedArray.setVec4Components(e,this.isStatic?1:0,0,Math.abs(o.utils.randomFloat(this.maxAge._value,this.maxAge._spread)),o.utils.randomFloat(this.wiggle._value,this.wiggle._spread))},o.Emitter.prototype._assignRotationValue=function(e){"use strict";this.attributes.rotation.typedArray.setVec3Components(e,o.utils.getPackedRotationAxis(this.rotation._axis,this.rotation._axisSpread),o.utils.randomFloat(this.rotation._angle,this.rotation._angleSpread),this.rotation._static?0:1),this.attributes.rotationCenter.typedArray.setVec3(e,this.rotation._center)},o.Emitter.prototype._assignColorValue=function(e){"use strict";o.utils.randomColorAsHex(this.attributes.color,e,this.color._value,this.color._spread)},o.Emitter.prototype._resetParticle=function(e){"use strict";for(var t,n,r=this.resetFlags,i=this.updateFlags,o=this.updateCounts,a=this.attributeKeys,s=this.attributeCount-1;s>=0;--s)n=i[t=a[s]],!0!==r[t]&&!0!==n||(this._assignValue(t,e),this._updateAttributeUpdateRange(t,e),!0===n&&o[t]===this.particleCount?(i[t]=!1,o[t]=0):1==n&&++o[t])},o.Emitter.prototype._updateAttributeUpdateRange=function(e,t){"use strict";var n=this.bufferUpdateRanges[e];n.min=Math.min(t,n.min),n.max=Math.max(t,n.max)},o.Emitter.prototype._resetBufferRanges=function(){"use strict";for(var e,t=this.bufferUpdateRanges,n=this.bufferUpdateKeys,r=this.bufferUpdateCount-1;r>=0;--r)t[e=n[r]].min=Number.POSITIVE_INFINITY,t[e].max=Number.NEGATIVE_INFINITY},o.Emitter.prototype._onRemove=function(){"use strict";this.particlesPerSecond=0,this.attributeOffset=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.age=0},o.Emitter.prototype._decrementParticleCount=function(){"use strict";--this.activeParticleCount},o.Emitter.prototype._incrementParticleCount=function(){"use strict";++this.activeParticleCount},o.Emitter.prototype._checkParticleAges=function(e,t,n,r){"use strict";for(var i,o,a,s,u=t-1;u>=e;--u)0!==(s=n[i=4*u])&&(a=n[i+1],o=n[i+2],1===this.direction?(a+=r)>=o&&(a=0,s=0,this._decrementParticleCount()):(a-=r)<=0&&(a=o,s=0,this._decrementParticleCount()),n[i]=s,n[i+1]=a,this._updateAttributeUpdateRange("params",u))},o.Emitter.prototype._activateParticles=function(e,t,n,r){"use strict";for(var i,o,a=this.direction,s=e;s<t;++s)0!=n[i=4*s]&&1!==this.particleCount||(this._incrementParticleCount(),n[i]=1,this._resetParticle(s),o=r*(s-e),n[i+1]=-1===a?n[i+2]-o:o,this._updateAttributeUpdateRange("params",s))},o.Emitter.prototype.tick=function(e){"use strict";if(!this.isStatic){null===this.paramsArray&&(this.paramsArray=this.attributes.params.typedArray.array);var t=this.attributeOffset,n=t+this.particleCount,r=this.paramsArray,i=this.particlesPerSecond*this.activeMultiplier*e,o=this.activationIndex;if(this._resetBufferRanges(),this._checkParticleAges(t,n,r,e),!1!==this.alive){if(null!==this.duration&&this.age>this.duration)return this.alive=!1,void(this.age=0);var a=1===this.particleCount?o:0|o,s=Math.min(a+i,this.activationEnd),u=s-this.activationIndex|0,c=u>0?e/u:0;this._activateParticles(a,s,r,c),this.activationIndex+=i,this.activationIndex>n&&(this.activationIndex=t),this.age+=e}else this.age=0}},o.Emitter.prototype.reset=function(e){"use strict";if(this.age=0,this.alive=!1,!0===e){for(var t,n=this.attributeOffset,r=n+this.particleCount,i=this.paramsArray,o=this.attributes.params.bufferAttribute,a=r-1;a>=n;--a)i[t=4*a]=0,i[t+1]=0;o.updateRange.offset=0,o.updateRange.count=-1,o.needsUpdate=!0}return this},o.Emitter.prototype.enable=function(){"use strict";return this.alive=!0,this},o.Emitter.prototype.disable=function(){"use strict";return this.alive=!1,this},o.Emitter.prototype.remove=function(){"use strict";return null!==this.group?this.group.removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this}},23360:function(e,t,n){"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(72791),s=(r=a)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=["children","events","primitive"],f=function(e){return-1===h.indexOf(e)},d={runSetAttributeOnUpdates:!0};function p(e,t,n){if("className"===n)e.setAttribute("class",t.className);else{if(t[n]&&t[n].constructor===Function)return;e.setAttribute(n,t[n])}}function m(e,t,n){var r;if(n&&t!==n){for(r in n)f(r)&&p(e,n,r);if(t)for(r in t)f(r)&&void 0===n[r]&&e.removeAttribute(r)}}var g=function(e){function t(){var e,n,r;u(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.initEntity=function(e){var t,n=r.props;if(e){if(r.el=e,n.events)for(t in n.events)v(e,t,n.events[t]);m(e,null,n),n._ref&&n._ref(e)}},c(r,n)}return l(t,e),o(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.el,r=this.props;!function(e,t,n){var r;if(!t||!n||t===n)return;for(r in n)t[r]!==n[r]&&(t[r]&&y(e,r,t[r]),v(e,r,n[r]));for(r in t)n[r]||y(e,r,t[r])}(n,e.events,r.events),d.runSetAttributeOnUpdates&&m(n,e,r)}},{key:"componentWillUnmount",value:function(){var e,t=this.el,n=this.props;if(n.events)for(e in n.events)y(t,e,n.events[e])}},{key:"render",value:function(){var e,t=this.props,n=this.isScene?"a-scene":t.primitive||"a-entity",r={};for(e in t)-1===["className","id","mixin"].indexOf(e)&&0!==e.indexOf("data-")||(r[e]=t[e]);return s.default.createElement(n,i({ref:this.initEntity},r),t.children)}}]),t}(s.default.Component);!function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isScene=!0,n}l(t,e)}(g);function v(e,t,n){var r;if(n)for(n.constructor===Function&&(n=[n]),r=0;r<n.length;r++)e.addEventListener(t,n[r])}function y(e,t,n){var r;if(n)for(n.constructor===Function&&(n=[n]),r=0;r<n.length;r++)e.removeEventListener(t,n[r])}},83344:function(t,n,r){t.exports=function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return i(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=Object.prototype.toString;function i(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===r.call(e.buffer)||Array.isArray(e)}t.exports=i},{}],2:[function(e,t,n){t.exports=function(e,t){return"number"===typeof e?e:"number"===typeof t?t:0}},{}],3:[function(e,t,n){"use strict";t.exports={createLink:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("link");for(var i in r.href=e,r.rel="stylesheet",t)if(t.hasOwnProperty(i)){var o=t[i];r.setAttribute("data-"+i,o)}n.appendChild(r)},createStyle:function(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");for(var i in r.type="text/css",t)if(t.hasOwnProperty(i)){var o=t[i];r.setAttribute("data-"+i,o)}r.sheet?(r.innerHTML=e,r.sheet.cssText=e,n.appendChild(r)):r.styleSheet?(n.appendChild(r),r.styleSheet.cssText=e):(r.appendChild(document.createTextNode(e)),n.appendChild(r))}}},{}],4:[function(t,n,i){(function(n){"use strict";var r=t("base64-js"),o=t("ieee754"),a=t("isarray");function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(u()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return h(this,e,t,n)}function h(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"===typeof t?m(e,t,n):y(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,r){return f(t),t<=0?c(e,t):void 0!==n?"string"===typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function p(e,t){if(f(t),e=c(e,t<0?0:0|b(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function m(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|E(t,n),i=(e=c(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function g(e,t){var n=t.length<0?0:0|b(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=g(e,t),e}function y(e,t){if(l.isBuffer(t)){var n=0|b(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||ne(t.length)?c(e,0):g(e,t);if("Buffer"===t.type&&a(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|e}function x(e){return+e!=e&&(e=0),l.alloc(+e)}function E(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ee(e).length;default:if(r)return Z(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function M(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return te(Z(t,e.length-n),e,n,r)}function N(e,t,n,r){return te(J(t),e,n,r)}function C(e,t,n,r){return N(e,t,n,r)}function I(e,t,n,r){return te(ee(t),e,n,r)}function L(e,t,n,r){return te($(t,e.length-n),e,n,r)}function D(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return P(r)}i.Buffer=l,i.SlowBuffer=x,i.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:s(),i.kMaxLength=u(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return h(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return d(null,e,t,n)},l.allocUnsafe=function(e){return p(null,e)},l.allocUnsafeSlow=function(e){return p(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=E,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)M(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)M(this,t,t+3),M(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)M(this,t,t+7),M(this,t+1,t+6),M(this,t+2,t+5),M(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):w.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return N(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function P(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function U(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=K(e[o]);return i}function F(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function z(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function G(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function H(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function V(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(e,t,n,r,i){return i||V(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,i){return i||V(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||z(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||z(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||z(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||z(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||z(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||z(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||z(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||z(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):G(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):G(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):H(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):G(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):G(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):H(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return Y(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return Y(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:Z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function Q(e){if((e=q(e).replace(X,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function Z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function ee(e){return r.toByteArray(Q(e))}function te(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ne(e){return e!==e}}).call(this,"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":5,ieee754:6,isarray:7}],5:[function(e,t,n){"use strict";n.byteLength=l,n.toByteArray=h,n.fromByteArray=p;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e){return 3*e.length/4-c(e)}function h(e){var t,n,r,a,s,u,l=e.length;s=c(e),u=new o(3*l/4-s),r=s>0?l-4:l;var h=0;for(t=0,n=0;t<r;t+=4,n+=3)a=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],u[h++]=a>>16&255,u[h++]=a>>8&255,u[h++]=255&a;return 2===s?(a=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,u[h++]=255&a):1===s&&(a=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,u[h++]=a>>8&255,u[h++]=255&a),u}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function d(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(f(r));return i.join("")}function p(e){for(var t,n=e.length,i=n%3,o="",a=[],s=16383,u=0,c=n-i;u<c;u+=s)a.push(d(e,u,u+s>c?c:u+s));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+d]=255&a,d+=p,a/=256,c-=8);e[n+d-p]|=128*m}},{}],7:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],8:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return(r?"/":"")+(n=t(o(n.split("/"),(function(e){return!!e})),!r).join("/"))||"."},n.normalize=function(e){var r=n.isAbsolute(e),i="/"===a(e,-1);return(e=t(o(e.split("/"),(function(e){return!!e})),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var a=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:9}],9:[function(t,n,r){var i,o,a=n.exports={};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function l(t){if(o===clearTimeout)return clearTimeout(t);if((o===u||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}!function(){try{i="function"===typeof setTimeout?setTimeout:s}catch(e){i=s}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(e){o=u}}();var h,f=[],d=!1,p=-1;function m(){d&&h&&(d=!1,h.length?f=h.concat(f):p=-1,f.length&&g())}function g(){if(!d){var e=c(m);d=!0;for(var t=f.length;t;){for(h=f,f=[];++p<t;)h&&h[p].run();p=-1,t=f.length}h=null,d=!1,l(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new v(e,t)),1!==f.length||d||c(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],10:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"===typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},{buffer:4}],11:[function(t,n,r){(function(i){function o(){return"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function a(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n),e}function s(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(e){}}function c(){try{return r.storage.debug}catch(e){}if("undefined"!==typeof i&&"env"in i)return i.env.DEBUG}function l(){try{return window.localStorage}catch(e){}}(r=n.exports=t("./debug")).log=s,r.formatArgs=a,r.save=u,r.load=c,r.useColors=o,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},r.enable(c())}).call(this,t("_process"))},{"./debug":12,_process:9}],12:[function(e,t,n){(n=t.exports=a.debug=a).coerce=l,n.disable=u,n.enable=s,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var r,i=0;function o(){return n.colors[i++%n.colors.length]}function a(e){function t(){}function i(){var e=i,t=+new Date,a=t-(r||t);e.diff=a,e.prev=r,e.curr=t,r=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];s[0]=n.coerce(s[0]),"string"!==typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,(function(t,r){if("%%"===t)return t;c++;var i=n.formatters[r];if("function"===typeof i){var o=s[c];t=i.call(e,o),s.splice(c,1),c--}return t})),s=n.formatArgs.apply(e,s),(i.log||n.log||console.log.bind(console)).apply(e,s)}t.enabled=!1,i.enabled=!0;var a=n.enabled(e)?i:t;return a.namespace=e,a}function s(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;i<r;i++)t[i]&&("-"===(e=t[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function u(){n.enable("")}function c(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}},{ms:13}],13:[function(e,t,n){var r=1e3,i=60*r,o=60*i,a=24*o,s=365.25*a;function u(e){if(!((e=String(e)).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function c(e){return e>=a?Math.round(e/a)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function l(e){return h(e,a,"day")||h(e,o,"hour")||h(e,i,"minute")||h(e,r,"second")||e+" ms"}function h(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return u(e);if("number"===n&&!1===isNaN(e))return t.long?l(e):c(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],14:[function(e,t,n){"use strict";var r=e("is-obj"),i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function s(e,t,n){var o=t[n];if(void 0!==o&&null!==o){if(i.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");i.call(e,n)&&r(o)?e[n]=u(Object(e[n]),t[n]):e[n]=o}}function u(e,t){if(e===t)return e;for(var n in t=Object(t))i.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),a=0;a<r.length;a++)o.call(t,r[a])&&s(e,t,r[a]);return e}t.exports=function(e){e=a(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},{"is-obj":15}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],16:[function(t,n,r){!function(t,n,r,i){"use strict";function o(e,t){for(var n=0,r=e.length;n<r;n++)v(e[n],t)}function a(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],A(t,z[u(t)])}function s(e){return function(t){ie(t)&&(v(t,e),o(t.querySelectorAll(B),e))}}function u(e){var t=se.call(e,"is"),n=e.nodeName.toUpperCase(),r=H.call(F,t?j+t.toUpperCase():P+n);return t&&-1<r&&!c(n,t)?-1:r}function c(e,t){return-1<B.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target;ve&&(!i||i===t)&&t.attributeChangedCallback&&"style"!==r&&e.prevValue!==e.newValue&&t.attributeChangedCallback(r,n===e[C]?null:e.prevValue,n===e[L]?null:e.newValue)}function h(e){var t=s(e);return function(e){y.push(t,e.target)}}function f(e){ge&&(ge=!1,e.currentTarget.removeEventListener(O,f)),o((e.target||n).querySelectorAll(B),e.detail===S?S:T),re&&m()}function d(e,t){var n=this;ue.call(n,e,t),b.call(n,{target:n})}function p(e,t){ee(e,t),w?w.observe(e,he):(me&&(e.setAttribute=d,e[_]=E(e),e.addEventListener(R,b)),e.addEventListener(D,l)),e.createdCallback&&ve&&(e.created=!0,e.createdCallback(),e.created=!1)}function m(){for(var e,t=0,n=oe.length;t<n;t++)e=oe[t],G.contains(e)||(n--,oe.splice(t--,1),v(e,S))}function g(e){throw new Error("A "+e+" type is already registered")}function v(e,t){var n,r=u(e);-1<r&&(M(e,z[r]),r=0,t!==T||e[T]?t===S&&!e[S]&&(e[T]=!1,e[S]=!0,r=1):(e[S]=!1,e[T]=!0,r=1,re&&H.call(oe,e)<0&&oe.push(e)),r&&(n=e[t+"Callback"])&&n.call(e))}if(!(i in n)){var y,b,x,E,w,M,A,_="__"+i+(1e5*Math.random()>>0),T="attached",S="detached",N="extends",C="ADDITION",I="MODIFICATION",L="REMOVAL",D="DOMAttrModified",O="DOMContentLoaded",R="DOMSubtreeModified",P="<",j="=",k=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,U=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],z=[],B="",G=n.documentElement,H=F.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},V=r.prototype,Y=V.hasOwnProperty,W=V.isPrototypeOf,X=r.defineProperty,Q=r.getOwnPropertyDescriptor,q=r.getOwnPropertyNames,K=r.getPrototypeOf,Z=r.setPrototypeOf,J=!!r.__proto__,$=r.create||function e(t){return t?(e.prototype=t,new e):this},ee=Z||(J?function(e,t){return e.__proto__=t,e}:q&&Q?function(){function e(e,t){for(var n,r=q(t),i=0,o=r.length;i<o;i++)n=r[i],Y.call(e,n)||X(e,n,Q(t,n))}return function(t,n){do{e(t,n)}while((n=K(n))&&!W.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),te=t.MutationObserver||t.WebKitMutationObserver,ne=(t.HTMLElement||t.Element||t.Node).prototype,re=!W.call(ne,G),ie=re?function(e){return 1===e.nodeType}:function(e){return W.call(ne,e)},oe=re&&[],ae=ne.cloneNode,se=ne.getAttribute,ue=ne.setAttribute,ce=ne.removeAttribute,le=n.createElement,he=te&&{attributes:!0,characterData:!0,attributeOldValue:!0},fe=te||function(e){me=!1,G.removeEventListener(D,fe)},de=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,10)},pe=!1,me=!0,ge=!0,ve=!0;Z||J?(M=function(e,t){W.call(t,e)||p(e,t)},A=p):(M=function(e,t){e[_]||(e[_]=r(!0),p(e,t))},A=M),re?(me=!1,function(){var t=Q(ne,"addEventListener"),n=t.value,r=function(e){var t=new CustomEvent(D,{bubbles:!0});t.attrName=e,t.prevValue=se.call(this,e),t.newValue=null,t[L]=t.attrChange=2,ce.call(this,e),this.dispatchEvent(t)},i=function(t,n){var r=this.hasAttribute(t),i=r&&se.call(this,t);e=new CustomEvent(D,{bubbles:!0}),ue.call(this,t,n),e.attrName=t,e.prevValue=r?i:null,e.newValue=n,r?e[I]=e.attrChange=1:e[C]=e.attrChange=0,this.dispatchEvent(e)},o=function(e){var t,n=e.currentTarget,r=n[_],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],(t=new CustomEvent(D,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[C]=t.attrChange=0:t[I]=t.attrChange=1,n.dispatchEvent(t))};t.value=function(e,t,a){e===D&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[_]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=r,n.call(this,"propertychange",o)),n.call(this,e,t,a)},X(ne,"addEventListener",t)}()):te||(G.addEventListener(D,fe),G.setAttribute(_,1),G.removeAttribute(_),me&&(b=function(e){var t,n,r,i=this;if(i===e.target){for(r in t=i[_],i[_]=n=E(i),n){if(!(r in t))return x(0,i,r,t[r],n[r],C);if(n[r]!==t[r])return x(1,i,r,t[r],n[r],I)}for(r in t)if(!(r in n))return x(2,i,r,t[r],n[r],L)}},x=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,l(a)},E=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),n[i]=function(e,t){if(r=e.toUpperCase(),pe||(pe=!0,te?(w=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new te((function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,ve&&o.attributeChangedCallback&&"style"!==i.attributeName&&(a=se.call(o,i.attributeName))!==i.oldValue&&o.attributeChangedCallback(i.attributeName,i.oldValue,a))}))}(s(T),s(S)),w.observe(n,{childList:!0,subtree:!0})):(y=[],de((function e(){for(;y.length;)y.shift().call(null,y.shift());de(e)})),n.addEventListener("DOMNodeInserted",h(T)),n.addEventListener("DOMNodeRemoved",h(S))),n.addEventListener(O,f),n.addEventListener("readystatechange",f),n.createElement=function(e,t){var r=le.apply(n,arguments),i=""+e,o=H.call(F,(t?j:P)+(t||i).toUpperCase()),a=-1<o;return t&&(r.setAttribute("is",t=t.toLowerCase()),a&&(a=c(i.toUpperCase(),t))),ve=!n.createElement.innerHTMLHelper,a&&A(r,z[o]),r},ne.cloneNode=function(e){var t=ae.call(this,!!e),n=u(t);return-1<n&&A(t,z[n]),e&&a(t.querySelectorAll(B)),t}),-2<H.call(F,j+r)+H.call(F,P+r)&&g(e),!k.test(r)||-1<H.call(U,r))throw new Error("The type "+e+" is invalid");var r,i,l=function(){return p?n.createElement(m,r):n.createElement(m)},d=t||V,p=Y.call(d,N),m=p?t[N].toUpperCase():r;return p&&-1<H.call(F,P+m)&&g(m),i=F.push((p?j:P)+r)-1,B=B.concat(B.length?",":"",p?m+'[is="'+e.toLowerCase()+'"]':m),l.prototype=z[i]=Y.call(d,"prototype")?d.prototype:$(ne),o(n.querySelectorAll(B),T),l}}}(window,document,Object,"registerElement")},{}],17:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],18:[function(e,t,n){var r=e("dtype");function i(e,t,n){if(!e)throw new TypeError("must specify data as first parameter");if(n=0|+(n||0),Array.isArray(e)&&Array.isArray(e[0])){var i=e[0].length,o=e.length*i;t&&"string"!==typeof t||(t=new(r(t||"float32"))(o+n));var a=t.length-n;if(o!==a)throw new Error("source length "+o+" ("+i+"x"+e.length+") does not match destination length "+a);for(var s=0,u=n;s<e.length;s++)for(var c=0;c<i;c++)t[u++]=e[s][c]}else if(t&&"string"!==typeof t)t.set(e,n);else{var l=r(t||"float32");0===n?t=new l(e):(t=new l(e.length+n)).set(e,n)}return t}t.exports=i},{dtype:17}],19:[function(e,t,n){var r=e("is-function");t.exports=a;var i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;function a(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===i.call(e)?s(e,t,n):"string"===typeof e?u(e,t,n):c(e,t,n)}function s(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&t.call(n,e[r],r,e)}function u(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function c(e,t,n){for(var r in e)o.call(e,r)&&t.call(n,e[r],r,e)}},{"is-function":24}],20:[function(e,t,n){(function(e){"undefined"!==typeof window?t.exports=window:"undefined"!==typeof e?t.exports=e:"undefined"!==typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],21:[function(e,t,n){t.exports=function(e){if(!e||"string"!==typeof e)throw new Error("must specify property for indexof search");return new Function("array","value","start",["start = start || 0","for (var i=start; i<array.length; i++)",'  if (array[i]["'+e+'"] === value)',"      return i","return -1"].join("\n"))}},{}],22:[function(e,t,n){"function"===typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],23:[function(e,t,n){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],24:[function(e,t,n){t.exports=i;var r=Object.prototype.toString;function i(e){var t=r.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},{}],25:[function(e,t,n){var r=e("word-wrapper"),i=e("xtend"),o=e("indexof-property")("id"),a=e("as-number"),s=["x","e","a","o","n","s","r","c","u","m","v","w","z"],u=["m","w"],c=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],l="\t".charCodeAt(0),h=" ".charCodeAt(0),f=0,d=1,p=2;function m(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function g(e){Object.defineProperty(m.prototype,e,{get:v(e),configurable:!0})}function v(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function y(e,t){if(!e.chars||0===e.chars.length)return null;var n=o(e.chars,t);return n>=0?e.chars[n]:null}function b(e){for(var t=0;t<s.length;t++){var n=s[t].charCodeAt(0),r=o(e.chars,n);if(r>=0)return e.chars[r].height}return 0}function x(e){for(var t=0;t<u.length;t++){var n=u[t].charCodeAt(0),r=o(e.chars,n);if(r>=0)return e.chars[r]}return 0}function E(e){for(var t=0;t<c.length;t++){var n=c[t].charCodeAt(0),r=o(e.chars,n);if(r>=0)return e.chars[r].height}return 0}function w(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var r=e.kernings,i=0;i<r.length;i++){var o=r[i];if(o.first===t&&o.second===n)return o.amount}return 0}function M(e){return"center"===e?d:"right"===e?p:f}t.exports=function(e){return new m(e)},m.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=a(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",o=e.font;this._setupSpaceGlyphs(o);var s=r.lines(n,e),u=e.width||0;t.length=0;var c=s.reduce((function(e,t){return Math.max(e,t.width,u)}),0),l=0,h=0,f=a(e.lineHeight,o.common.lineHeight),m=o.common.base,g=f-m,v=e.letterSpacing||0,y=f*s.length-g,x=M(this._opt.align);h-=y,this._width=c,this._height=y,this._descender=f-m,this._baseline=m,this._xHeight=b(o),this._capHeight=E(o),this._lineHeight=f,this._ascender=f-g-this._xHeight;var A=this;s.forEach((function(e,r){for(var i,a=e.start,s=e.end,u=e.width,m=a;m<s;m++){var g=n.charCodeAt(m),y=A.getGlyph(o,g);if(y){i&&(l+=w(o,i.id,y.id));var b=l;x===d?b+=(c-u)/2:x===p&&(b+=c-u),t.push({position:[b,h],data:y,index:m,line:r}),l+=y.xadvance+v,i=y}}h+=f,l=0})),this._linesTotal=s.length},m.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=y(e,h)||x(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:n,id:l,xoffset:0,yoffset:0,width:0,height:0})}},m.prototype.getGlyph=function(e,t){var n=y(e,t);return n||(t===l?this._fallbackTabGlyph:t===h?this._fallbackSpaceGlyph:null)},m.prototype.computeMetrics=function(e,t,n,r){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,u=0,c=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var l=t;l<n;l++){var h,f=e.charCodeAt(l);if(h=this.getGlyph(a,f)){h.xoffset;var d=(s+=i?w(a,i.id,h.id):0)+h.xadvance+o,p=s+h.width;if(p>=r||d>=r)break;s=d,u=p,i=h}c++}return i&&(u+=i.xoffset),{start:t,end:t+c,width:u}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(g)},{"as-number":2,"indexof-property":21,"word-wrapper":51,xtend:54}],26:[function(t,n,r){(function(r){var i=t("xhr"),o=function(){},a=t("parse-bmfont-ascii"),s=t("parse-bmfont-xml"),u=t("parse-bmfont-binary"),c=t("./lib/is-binary"),l=t("xtend"),h=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;function f(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}function d(e){if(h)return l(e,{responseType:"arraybuffer"});if("undefined"===typeof self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),l({xhr:t},e)}n.exports=function(t,n){n="function"===typeof n?n:o,"string"===typeof t?t={uri:t}:t||(t={}),t.binary&&(t=d(t)),i(t,(function(i,l,h){if(i)return n(i);if(!/^2/.test(l.statusCode))return n(new Error("http status code: "+l.statusCode));if(!h)return n(new Error("no body result"));var d,p=!1;if(f(h)){var m=new Uint8Array(h);h=new r(m,"binary")}c(h)&&(p=!0,"string"===typeof h&&(h=new r(h,"binary"))),p||(r.isBuffer(h)&&(h=h.toString(t.encoding)),h=h.trim());try{var g=l.headers["content-type"];d=p?u(h):/json/.test(g)||"{"===h.charAt(0)?JSON.parse(h):/xml/.test(g)||"<"===h.charAt(0)?s(h):a(h)}catch(e){n(new Error("error parsing font "+e.message)),n=o}n(null,d)}))}}).call(this,t("buffer").Buffer)},{"./lib/is-binary":27,buffer:4,"parse-bmfont-ascii":29,"parse-bmfont-binary":30,"parse-bmfont-xml":31,xhr:52,xtend:54}],27:[function(e,t,n){(function(n){var r=e("buffer-equal"),i=new n([66,77,70,3]);t.exports=function(e){return"string"===typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),i)}}).call(this,e("buffer").Buffer)},{buffer:4,"buffer-equal":10}],28:[function(t,n,r){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}n.exports=s()?Object.assign:function(e,t){for(var n,r,s=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var l=0;l<r.length;l++)o.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s}},{}],29:[function(e,t,n){function r(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=i(s[0]):(o[o.length-1].data=i(s[0]),o.push({key:s[1],data:""}))}var u={key:r,data:{}};return o.forEach((function(e){u.data[e.key]=e.data})),u}function i(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?o(e):parseInt(e,10):""}function o(e){return e.split(",").map((function(e){return parseInt(e,10)}))}t.exports=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var i=0;i<n.length;i++){var o=r(n[i],i);if(o)if("page"===o.key){if("number"!==typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!==typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');t.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?t.chars.push(o.data):"kerning"===o.key?t.kernings.push(o.data):t[o.key]=o.data)}return t}},{}],30:[function(e,t,n){var r=[66,77,70];function i(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),i=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=o(t,n);break;case 2:e.common=a(t,n);break;case 3:e.pages=s(t,n,i);break;case 4:e.chars=u(t,n,i);break;case 5:e.kernings=c(t,n,i)}return 5+i}function o(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=h(e,t+14),n}function a(e,t){var n={};return n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function s(e,t,n){for(var r=[],i=l(e,t),o=i.length+1,a=n/o,s=0;s<a;s++)r[s]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function u(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}function c(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}function l(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}function h(e,t){return l(e,t).toString("utf8")}t.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=r.every((function(t,n){return e.readUInt8(n)===t}));if(!t)throw new Error("BMFont missing BMF byte header");var n=3;if(e.readUInt8(n++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var o={kernings:[],chars:[]},a=0;a<5;a++)n+=i(o,e,n);return o}},{}],31:[function(e,t,n){var r=e("./parse-attribs"),i=e("xml-parse-from-string"),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){return s(e).reduce((function(e,t){return e[u(t.nodeName)]=t.nodeValue,e}),{})}function s(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function u(e){return o[e.toLowerCase()]||e}t.exports=function(e){e=e.toString();var t=i(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var i=t.getElementsByTagName(e)[0];i&&(n[e]=r(a(i)))}));var o=t.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var s=o.getElementsByTagName("page"),u=0;u<s.length;u++){var c=s[u],l=parseInt(c.getAttribute("id"),10),h=c.getAttribute("file");if(isNaN(l))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(l,10)]=h}return["chars","kernings"].forEach((function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),u=0;u<s.length;u++){var c=s[u];n[e].push(r(a(c)))}})),n}},{"./parse-attribs":32,"xml-parse-from-string":53}],32:[function(e,t,n){var r="chasrset";function i(e){return e.split(",").map((function(e){return parseInt(e,10)}))}t.exports=function(e){for(var t in r in e&&(e.charset=e[r],delete e[r]),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?i(e[t]):parseInt(e[t],10));return e}},{}],33:[function(e,t,n){var r=e("trim"),i=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),(function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));"undefined"===typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]})),t}},{"for-each":19,trim:48}],34:[function(e,t,n){(function(e){var n=e.performance||{},r=function(){for(var e=["now","webkitNow","msNow","mozNow","oNow"];e.length;){var t=e.shift();if(t in n)return n[t].bind(n)}var r=Date.now||function(){return(new Date).getTime()},i=(n.timing||{}).navigationStart||r();return function(){return r()-i}}();r.performanceNow=n.now,r.noConflict=function(){n.now=r.performanceNow},r.conflict=function(){n.now=r},r.conflict(),t.exports=r}).call(this,"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],35:[function(t,n,r){!function(t){var r=setTimeout,i="function"===typeof setImmediate&&setImmediate||function(e){r(e,1)};function o(e,t){return function(){e.apply(t,arguments)}}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],d(e,o(c,this),o(l,this))}function u(t){var n=this;null!==this._state?i((function(){var r=n._state?t.onFulfilled:t.onRejected;if(null!==r){var i;try{i=r(n._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(n._state?t.resolve:t.reject)(n._value)})):this._deferreds.push(t)}function c(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if("function"===typeof n)return void d(o(n,t),o(c,this),o(l,this))}this._state=!0,this._value=t,h.call(this)}catch(e){l.call(this,e)}}function l(e){this._state=!1,this._value=e,h.call(this)}function h(){for(var e=0,t=this._deferreds.length;e<t;e++)u.call(this,this._deferreds[e]);this._deferreds=null}function f(e,t,n,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r}function d(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=this;return new s((function(r,i){u.call(n,new f(e,t,r,i))}))},s.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new s((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){i(o,e)}),n)}e[o]=a,0===--r&&t(e)}catch(u){n(u)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},s.resolve=function(e){return e&&"object"===typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))},s._setImmediateFn=function(e){i=e},"undefined"!==typeof n&&n.exports?n.exports=s:t.Promise||(t.Promise=s)}(this)},{}],36:[function(e,t,n){var r=e("dtype"),i=e("an-array"),o=e("is-buffer"),a=[0,2,3],s=[2,1,3];t.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null);for(var n="string"===typeof(t="number"===typeof t?{count:t}:t||{}).type?t.type:"uint16",u="number"===typeof t.count?t.count:1,c=t.start||0,l=!1!==t.clockwise?a:s,h=l[0],f=l[1],d=l[2],p=6*u,m=e||new(r(n))(p),g=0,v=0;g<p;g+=6,v+=4){var y=g+c;m[y+0]=v+0,m[y+1]=v+1,m[y+2]=v+2,m[y+3]=v+h,m[y+4]=v+f,m[y+5]=v+d}return m}},{"an-array":1,dtype:17,"is-buffer":23}],37:[function(e,t,n){function r(e){var t=function(e){return e.trim()},n={};return i(e).map(t).filter(Boolean).forEach((function(e){var t=e.indexOf(":"),r=e.substr(0,t).trim(),i=e.substr(t+1).trim();n[r]=i})),n}function i(e){for(var t,n=[],r=0,i=";",o=/url\([^\)]+$/,a="";r<e.length;)-1===(t=e.indexOf(i,r))&&(t=e.length),a+=e.substring(r,t),o.test(a)?(a+=";",r=t+1):(n.push(a),a="",r=t+1);return n}function o(e){return Object.keys(e).map((function(t){return t+":"+e[t]})).join(";")}function a(e){return o(r(e))}t.exports.parse=r,t.exports.stringify=o,t.exports.normalize=a},{}],38:[function(e,t,n){var r=e("layout-bmfont-text"),i=e("inherits"),o=e("quad-indices"),a=e("three-buffer-vertex-data"),s=e("object-assign"),u=e("./lib/vertices"),c=e("./lib/utils"),l=THREE.BufferGeometry;function h(e){l.call(this),"string"===typeof e&&(e={text:e}),this._opt=s({},e),e&&this.update(e)}t.exports=function(e){return new h(e)},i(h,l),h.prototype.update=function(e){if("string"===typeof e&&(e={text:e}),!(e=s({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=r(e);var t=!1!==e.flipY,n=e.font,i=n.common.scaleW,c=n.common.scaleH,l=this.layout.glyphs.filter((function(e){var t=e.data;return t.width*t.height>0}));this.visibleGlyphs=l;var h=u.positions(l),f=u.uvs(l,i,c,t),d=o({clockwise:!0,type:"uint16",count:l.length});if(a.index(this,d,1,"uint16"),a.attr(this,"position",h,2),a.attr(this,"uv",f,2),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var p=u.pages(l);a.attr(this,"page",p,1)}},h.prototype.computeBoundingSphere=function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);c.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')},h.prototype.computeBoundingBox=function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():c.computeBox(t,e)}},{"./lib/utils":39,"./lib/vertices":40,inherits:22,"layout-bmfont-text":25,"object-assign":28,"quad-indices":36,"three-buffer-vertex-data":41}],39:[function(e,t,n){var r=2,i={min:[0,0],max:[0,0]};function o(e){var t=e.length/r;i.min[0]=e[0],i.min[1]=e[1],i.max[0]=e[0],i.max[1]=e[1];for(var n=0;n<t;n++){var o=e[n*r+0],a=e[n*r+1];i.min[0]=Math.min(o,i.min[0]),i.min[1]=Math.min(a,i.min[1]),i.max[0]=Math.max(o,i.max[0]),i.max[1]=Math.max(a,i.max[1])}}t.exports.computeBox=function(e,t){o(e),t.min.set(i.min[0],i.min[1],0),t.max.set(i.max[0],i.max[1],0)},t.exports.computeSphere=function(e,t){o(e);var n=i.min[0],r=i.min[1],a=i.max[0]-n,s=i.max[1]-r,u=Math.sqrt(a*a+s*s);t.center.set(n+a/2,r+s/2,0),t.radius=u/2}},{}],40:[function(e,t,n){t.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach((function(e){var r=e.data.page||0;t[n++]=r,t[n++]=r,t[n++]=r,t[n++]=r})),t},t.exports.uvs=function(e,t,n,r){var i=new Float32Array(4*e.length*2),o=0;return e.forEach((function(e){var a=e.data,s=a.x+a.width,u=a.y+a.height,c=a.x/t,l=a.y/n,h=s/t,f=u/n;r&&(l=(n-a.y)/n,f=(n-u)/n),i[o++]=c,i[o++]=l,i[o++]=c,i[o++]=f,i[o++]=h,i[o++]=f,i[o++]=h,i[o++]=l})),i},t.exports.positions=function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach((function(e){var r=e.data,i=e.position[0]+r.xoffset,o=e.position[1]+r.yoffset,a=r.width,s=r.height;t[n++]=i,t[n++]=o,t[n++]=i,t[n++]=o+s,t[n++]=i+a,t[n++]=o+s,t[n++]=i+a,t[n++]=o})),t}},{}],41:[function(e,t,n){var r=e("flatten-vertex-data"),i=!1;function o(e,t,n,r){"number"!==typeof n&&(n=1),"string"!==typeof r&&(r="uint16");var i=!e.index&&"function"!==typeof e.setIndex,o=s(i?e.getAttribute("index"):e.index,t,n,r);o&&(i?e.addAttribute("index",o):e.index=o)}function a(e,t,n,r,i){if("number"!==typeof r&&(r=3),"string"!==typeof i&&(i="float32"),Array.isArray(n)&&Array.isArray(n[0])&&n[0].length!==r)throw new Error("Nested vertex array has unexpected size; expected "+r+" but found "+n[0].length);var o=s(e.getAttribute(t),n,r,i);o&&e.addAttribute(t,o)}function s(e,t,n,o){if(t=t||[],!e||u(e,t,n)){t=r(t,o);var a=e&&"function"!==typeof e.setArray;return e&&!a||(a&&!i&&(i=!0,console.warn(["A WebGL buffer is being updated with a new size or itemSize, ","however this version of ThreeJS only supports fixed-size buffers.","\nThe old buffer may still be kept in memory.\n","To avoid memory leaks, it is recommended that you dispose ","your geometries and create new ones, or update to ThreeJS r82 or newer.\n","See here for discussion:\n","https://github.com/mrdoob/three.js/pull/9631"].join(""))),e=new THREE.BufferAttribute(t,n)),e.itemSize=n,e.needsUpdate=!0,"function"===typeof e.setArray&&e.setArray(t),e}return r(t,e.array),e.needsUpdate=!0,null}function u(e,t,n){if(e.itemSize!==n)return!0;if(!e.array)return!0;var r=e.array.length;return Array.isArray(t)&&Array.isArray(t[0])?r!==t.length*n:r!==t.length}t.exports.attr=a,t.exports.index=o},{"flatten-vertex-data":18}],42:[function(n,r,i){var o,a;o=this,a=function(t){"use strict";function n(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(n.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;var n=[],r=0,i=t.length;for(r=0;r<i;r++)n[r]=t[r];for(r=0;r<i;r++)n[r].call(this,e)}}}});var r="83",i={LEFT:0,MIDDLE:1,RIGHT:2},o=0,a=1,s=2,u=3,c=0,l=1,h=0,f=1,d=2,p=0,m=1,g=2,v=1,y=2,b=0,x=1,E=2,w=0,M=1,A=2,_=3,T=4,S=5,N={NoBlending:w,NormalBlending:M,AdditiveBlending:A,SubtractiveBlending:_,MultiplyBlending:T,CustomBlending:S},C=100,I=101,L=102,D=103,O=104,R=200,P=201,j=202,k=203,U=204,F=205,z=206,B=207,G=208,H=209,V=210,Y=0,W=1,X=2,Q=3,q=4,K=5,Z=6,J=7,$=0,ee=1,te=2,ne=0,re=1,ie=2,oe=3,ae=4,se=300,ue=301,ce=302,le=303,he=304,fe=305,de=306,pe=307,me={UVMapping:se,CubeReflectionMapping:ue,CubeRefractionMapping:ce,EquirectangularReflectionMapping:le,EquirectangularRefractionMapping:he,SphericalReflectionMapping:fe,CubeUVReflectionMapping:de,CubeUVRefractionMapping:pe},ge=1e3,ve=1001,ye=1002,be={RepeatWrapping:ge,ClampToEdgeWrapping:ve,MirroredRepeatWrapping:ye},xe=1003,Ee=1004,we=1005,Me=1006,Ae=1007,_e=1008,Te={NearestFilter:xe,NearestMipMapNearestFilter:Ee,NearestMipMapLinearFilter:we,LinearFilter:Me,LinearMipMapNearestFilter:Ae,LinearMipMapLinearFilter:_e},Se=1009,Ne=1010,Ce=1011,Ie=1012,Le=1013,De=1014,Oe=1015,Re=1016,Pe=1017,je=1018,ke=1019,Ue=1020,Fe=1021,ze=1022,Be=1023,Ge=1024,He=1025,Ve=Be,Ye=1026,We=1027,Xe=2001,Qe=2002,qe=2003,Ke=2004,Ze=2100,Je=2101,$e=2102,et=2103,tt=2151,nt=2200,rt=2201,it=2202,ot=2300,at=2301,st=2302,ut=2400,ct=2401,lt=2402,ht=0,ft=1,dt=2,pt=3e3,mt=3001,gt=3007,vt=3002,yt=3003,bt=3004,xt=3005,Et=3006,wt=3200,Mt=3201,At={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),e=15&r,r>>=4,n[i]=t[19===i?3&e|8:e]);return n.join("")}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*At.DEG2RAD},radToDeg:function(e){return e*At.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}};function _t(e,t){this.x=e||0,this.y=t||0}_t.prototype={constructor:_t,isVector2:!0,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new _t,t=new _t),e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}};var Tt=0;function St(e,t,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:Tt++}),this.uuid=At.generateUUID(),this.name="",this.image=void 0!==e?e:St.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:St.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ve,this.wrapT=void 0!==r?r:ve,this.magFilter=void 0!==i?i:Me,this.minFilter=void 0!==o?o:_e,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:Be,this.type=void 0!==s?s:Se,this.offset=new _t(0,0),this.repeat=new _t(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:pt,this.version=0,this.onUpdate=null}function Nt(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function Ct(e,t,n){this.uuid=At.generateUUID(),this.width=e,this.height=t,this.scissor=new Nt(0,0,e,t),this.scissorTest=!1,this.viewport=new Nt(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=Me),this.texture=new St(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function It(e,t,n){Ct.call(this,e,t,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Lt(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function Dt(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function Ot(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Rt(e,t,n,r,i,o,a,s,u,c){e=void 0!==e?e:[],t=void 0!==t?t:ue,St.call(this,e,t,n,r,i,o,a,s,u,c),this.flipY=!1}St.DEFAULT_IMAGE=void 0,St.DEFAULT_MAPPING=se,St.prototype={constructor:St,isTexture:!0,set needsUpdate(e){!0===e&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];function t(e){var t;return void 0!==e.toDataURL?t=e:((t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=At.generateUUID()),void 0===e.images[r.uuid]&&(e.images[r.uuid]={uuid:r.uuid,url:t(r)}),n.image=r.uuid}return e.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===se){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case ge:e.x=e.x-Math.floor(e.x);break;case ve:e.x=e.x<0?0:1;break;case ye:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ge:e.y=e.y-Math.floor(e.y);break;case ve:e.y=e.y<0?0:1;break;case ye:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},Object.assign(St.prototype,n.prototype),Nt.prototype={constructor:Nt,isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(l-p)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+p)<a&&Math.abs(d+m)<a&&Math.abs(u+f+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var v=(u+1)/2,y=(f+1)/2,b=(g+1)/2,x=(c+h)/4,E=(l+p)/4,w=(d+m)/4;return v>y&&v>b?v<o?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(v)),i=E/n):y>b?y<o?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<o?(n=.707106781,r=.707106781,i=0):(n=E/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var M=Math.sqrt((m-d)*(m-d)+(l-p)*(l-p)+(h-c)*(h-c));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(l-p)/M,this.z=(h-c)/M,this.w=Math.acos((u+f+g-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new Nt,t=new Nt),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},Object.assign(Ct.prototype,n.prototype,{isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),It.prototype=Object.create(Ct.prototype),It.prototype.constructor=It,It.prototype.isWebGLRenderTargetCube=!0,Lt.prototype={constructor:Lt,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!1===(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),r=Math.cos(e._y/2),i=Math.cos(e._z/2),o=Math.sin(e._x/2),a=Math.sin(e._y/2),s=Math.sin(e._z/2),u=e.order;return"XYZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===u&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(r,i){return void 0===e&&(e=new Dt),(t=r.dot(i)+1)<n?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),c=Math.sin((1-t)*u)/s,l=Math.sin(t*u)/s;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(Lt,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==h||u!==f||c!==d){var m=1-a,g=s*h+u*f+c*d+l*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*v);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var E=a*v;if(s=s*m+h*E,u=u*m+f*E,c=c*m+d*E,l=l*m+p*E,m===1-a){var w=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=w,u*=w,c*=w,l*=w}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l}}),Dt.prototype={constructor:Dt,isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return!1===(t&&t.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new Lt),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new Lt),this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new Dt,t=new Dt),e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new Dt),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new Dt),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(At.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){if("number"===typeof e){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=e;e=t,t=n}return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},Ot.prototype={constructor:Ot,isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,h,f,d,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ot).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new Dt);var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),o=1/e.setFromMatrixColumn(t,1).length(),a=1/e.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(e){!1===(e&&e.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var h=o*c,f=o*l,d=a*c,p=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=f+d*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=d+f*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,v=u*c,y=u*l;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order)m=s*c,g=s*l,v=u*c,y=u*l,t[0]=m-y*a,t[4]=-o*l,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*c,t[9]=y-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s;else if("ZYX"===e.order)h=o*c,f=o*l,d=a*c,p=a*l,t[0]=s*c,t[4]=d*u-f,t[8]=h*u+p,t[1]=s*l,t[5]=p*u+h,t[9]=f*u-d,t[2]=-u,t[6]=a*s,t[10]=o*s;else if("YZX"===e.order){var b=o*s,x=o*u,E=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=E*l+x,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=x*l+E,t[10]=b-w*l}else"XZY"===e.order&&(b=o*s,x=o*u,E=a*s,w=a*u,t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=x*l-E,t[2]=E*l-x,t[6]=a*c,t[10]=w*l+b);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,o=e.w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,f=r*s,d=r*u,p=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-(f+p),t[4]=l-v,t[8]=h+g,t[1]=l+v,t[5]=1-(c+p),t[9]=d-m,t[2]=h-g,t[6]=d+m,t[10]=1-(c+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,n;return function(r,i,o){void 0===e&&(e=new Dt,t=new Dt,n=new Dt);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),e.crossVectors(o,n).normalize(),0===e.lengthSq()&&(n.z+=1e-4,e.crossVectors(o,n).normalize()),t.crossVectors(n,e),a[0]=e.x,a[4]=t.x,a[8]=n.x,a[1]=e.y,a[5]=t.y,a[9]=n.y,a[2]=e.z,a[6]=t.z,a[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],E=r[0],w=r[4],M=r[8],A=r[12],_=r[1],T=r[5],S=r[9],N=r[13],C=r[2],I=r[6],L=r[10],D=r[14],O=r[3],R=r[7],P=r[11],j=r[15];return i[0]=o*E+a*_+s*C+u*O,i[4]=o*w+a*T+s*I+u*R,i[8]=o*M+a*S+s*L+u*P,i[12]=o*A+a*N+s*D+u*j,i[1]=c*E+l*_+h*C+f*O,i[5]=c*w+l*T+h*I+f*R,i[9]=c*M+l*S+h*L+f*P,i[13]=c*A+l*N+h*D+f*j,i[2]=d*E+p*_+m*C+g*O,i[6]=d*w+p*T+m*I+g*R,i[10]=d*M+p*S+m*L+g*P,i[14]=d*A+p*N+m*D+g*j,i[3]=v*E+y*_+b*C+x*O,i[7]=v*w+y*T+b*I+x*R,i[11]=v*M+y*S+b*L+x*P,i[15]=v*A+y*N+b*D+x*j,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new Dt),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix4(this),e.toArray(t,o);return t}}(),applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new Dt);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],f=e[14];return e[3]*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+e[7]*(+t*s*f-t*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=d*y*h-v*p*h+v*l*m-c*y*m-d*l*b+c*p*b,E=g*p*h-f*y*h-g*l*m+u*y*m+f*l*b-u*p*b,w=f*v*h-g*d*h+g*c*m-u*v*m-f*c*b+u*d*b,M=g*d*l-f*v*l-g*c*p+u*v*p+f*c*y-u*d*y,A=i*x+o*E+a*w+s*M;if(0===A){var _="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===t)throw new Error(_);return console.warn(_),this.identity()}var T=1/A;return n[0]=x*T,n[1]=(v*p*s-d*y*s-v*a*m+o*y*m+d*a*b-o*p*b)*T,n[2]=(c*y*s-v*l*s+v*a*h-o*y*h-c*a*b+o*l*b)*T,n[3]=(d*l*s-c*p*s-d*a*h+o*p*h+c*a*m-o*l*m)*T,n[4]=E*T,n[5]=(f*y*s-g*p*s+g*a*m-i*y*m-f*a*b+i*p*b)*T,n[6]=(g*l*s-u*y*s-g*a*h+i*y*h+u*a*b-i*l*b)*T,n[7]=(u*p*s-f*l*s+f*a*h-i*p*h-u*a*m+i*l*m)*T,n[8]=w*T,n[9]=(g*d*s-f*v*s-g*o*m+i*v*m+f*o*b-i*d*b)*T,n[10]=(u*v*s-g*c*s+g*o*h-i*v*h-u*o*b+i*c*b)*T,n[11]=(f*c*s-u*d*s-f*o*h+i*d*h+u*o*m-i*c*m)*T,n[12]=M*T,n[13]=(f*v*a-g*d*a+g*o*p-i*v*p-f*o*y+i*d*y)*T,n[14]=(g*c*a-u*v*a-g*o*l+i*v*l+u*o*y-i*c*y)*T,n[15]=(u*d*a-f*c*a+f*o*l-i*d*l-u*o*p+i*c*p)*T,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e,t;return function(n,r,i){void 0===e&&(e=new Dt,t=new Ot);var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],t.elements.set(this.elements);var c=1/a,l=1/s,h=1/u;return t.elements[0]*=c,t.elements[1]*=c,t.elements[2]*=c,t.elements[4]*=l,t.elements[5]*=l,t.elements[6]*=l,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makeFrustum:function(e,t,n,r,i,o){var a=this.elements,s=2*i/(t-e),u=2*i/(r-n),c=(t+e)/(t-e),l=(r+n)/(r-n),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,n,r){var i=n*Math.tan(At.DEG2RAD*e*.5),o=-i,a=o*t,s=i*t;return this.makeFrustum(a,s,o,i,n,r)},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,h=(n+r)*u,f=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},Rt.prototype=Object.create(St.prototype),Rt.prototype.constructor=Rt,Rt.prototype.isCubeTexture=!0,Object.defineProperty(Rt.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var Pt=new St,jt=new Rt;function kt(){this.seq=[],this.map={}}var Ut=[],Ft=[];function zt(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Ut[i];if(void 0===o&&(o=new Float32Array(i),Ut[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Bt(e,t){var n=Ft[t];void 0===n&&(n=new Int32Array(t),Ft[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function Gt(e,t){e.uniform1f(this.addr,t)}function Ht(e,t){e.uniform1i(this.addr,t)}function Vt(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function Yt(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function Wt(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function Xt(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function Qt(e,t){e.uniformMatrix3fv(this.addr,!1,t.elements||t)}function qt(e,t){e.uniformMatrix4fv(this.addr,!1,t.elements||t)}function Kt(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||Pt,r)}function Zt(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||jt,r)}function Jt(e,t){e.uniform2iv(this.addr,t)}function $t(e,t){e.uniform3iv(this.addr,t)}function en(e,t){e.uniform4iv(this.addr,t)}function tn(e){switch(e){case 5126:return Gt;case 35664:return Vt;case 35665:return Yt;case 35666:return Wt;case 35674:return Xt;case 35675:return Qt;case 35676:return qt;case 35678:return Kt;case 35680:return Zt;case 5124:case 35670:return Ht;case 35667:case 35671:return Jt;case 35668:case 35672:return $t;case 35669:case 35673:return en}}function nn(e,t){e.uniform1fv(this.addr,t)}function rn(e,t){e.uniform1iv(this.addr,t)}function on(e,t){e.uniform2fv(this.addr,zt(t,this.size,2))}function an(e,t){e.uniform3fv(this.addr,zt(t,this.size,3))}function sn(e,t){e.uniform4fv(this.addr,zt(t,this.size,4))}function un(e,t){e.uniformMatrix2fv(this.addr,!1,zt(t,this.size,4))}function cn(e,t){e.uniformMatrix3fv(this.addr,!1,zt(t,this.size,9))}function ln(e,t){e.uniformMatrix4fv(this.addr,!1,zt(t,this.size,16))}function hn(e,t,n){var r=t.length,i=Bt(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(t[o]||Pt,i[o])}function fn(e,t,n){var r=t.length,i=Bt(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(t[o]||jt,i[o])}function dn(e){switch(e){case 5126:return nn;case 35664:return on;case 35665:return an;case 35666:return sn;case 35674:return un;case 35675:return cn;case 35676:return ln;case 35678:return hn;case 35680:return fn;case 5124:case 35670:return rn;case 35667:case 35671:return Jt;case 35668:case 35672:return $t;case 35669:case 35673:return en}}function pn(e,t,n){this.id=e,this.addr=n,this.setValue=tn(t.type)}function mn(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=dn(t.type)}function gn(e){this.id=e,kt.call(this)}gn.prototype.setValue=function(e,t){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(e,t[o.id])}};var vn=/([\w\d_]+)(\])?(\[|\.)?/g;function yn(e,t){e.seq.push(t),e.map[t.id]=t}function bn(e,t,n){var r=e.name,i=r.length;for(vn.lastIndex=0;;){var o=vn.exec(r),a=vn.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){yn(n,void 0===c?new pn(s,e,t):new mn(s,e,t));break}var l=n.map[s];void 0===l&&yn(n,l=new gn(s)),n=l}}function xn(e,t,n){kt.call(this),this.renderer=n;for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i!==r;++i){var o=e.getActiveUniform(t,i),a=o.name;bn(o,e.getUniformLocation(t,a),this)}}xn.prototype.setValue=function(e,t,n){var r=this.map[t];void 0!==r&&r.setValue(e,n,this.renderer)},xn.prototype.set=function(e,t,n){var r=this.map[n];void 0!==r&&r.setValue(e,t[n],this.renderer)},xn.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},xn.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},xn.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var En={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}},wn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n    }\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = material.specularRoughness;\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n    }\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#include <premultiplied_alpha_fragment>\n\t#include <encodings_fragment>\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};function Mn(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}Mn.prototype={constructor:Mn,isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=At.euclideanModulo(t,1),n=At.clamp(n,0,1),r=At.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0&&(void 0!==(c=An[e])?this.setHex(c):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(o<a?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}};var An={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _n(e,t,n,r,i,o,a,s,u,c,l,h){St.call(this,null,o,a,s,u,c,r,i,l,h),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:xe,this.minFilter=void 0!==c?c:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}_n.prototype=Object.create(St.prototype),_n.prototype.constructor=_n,_n.prototype.isDataTexture=!0;var Tn={common:{diffuse:{value:new Mn(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Nt(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new _t(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Mn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Nt(0,0,1,1)}}},Sn={basic:{uniforms:En.merge([Tn.common,Tn.aomap,Tn.lightmap,Tn.fog]),vertexShader:wn.meshbasic_vert,fragmentShader:wn.meshbasic_frag},lambert:{uniforms:En.merge([Tn.common,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.fog,Tn.lights,{emissive:{value:new Mn(0)}}]),vertexShader:wn.meshlambert_vert,fragmentShader:wn.meshlambert_frag},phong:{uniforms:En.merge([Tn.common,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,Tn.gradientmap,Tn.fog,Tn.lights,{emissive:{value:new Mn(0)},specular:{value:new Mn(1118481)},shininess:{value:30}}]),vertexShader:wn.meshphong_vert,fragmentShader:wn.meshphong_frag},standard:{uniforms:En.merge([Tn.common,Tn.aomap,Tn.lightmap,Tn.emissivemap,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,Tn.roughnessmap,Tn.metalnessmap,Tn.fog,Tn.lights,{emissive:{value:new Mn(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag},points:{uniforms:En.merge([Tn.points,Tn.fog]),vertexShader:wn.points_vert,fragmentShader:wn.points_frag},dashed:{uniforms:En.merge([Tn.common,Tn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wn.linedashed_vert,fragmentShader:wn.linedashed_frag},depth:{uniforms:En.merge([Tn.common,Tn.displacementmap]),vertexShader:wn.depth_vert,fragmentShader:wn.depth_frag},normal:{uniforms:En.merge([Tn.common,Tn.bumpmap,Tn.normalmap,Tn.displacementmap,{opacity:{value:1}}]),vertexShader:wn.normal_vert,fragmentShader:wn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wn.cube_vert,fragmentShader:wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:wn.equirect_vert,fragmentShader:wn.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Dt}},vertexShader:wn.distanceRGBA_vert,fragmentShader:wn.distanceRGBA_frag}};function Nn(e,t){this.min=void 0!==e?e:new _t(1/0,1/0),this.max=void 0!==t?t:new _t(-1/0,-1/0)}function Cn(e,t){var n,r,i,o,a,s,u,c,l=e.context,h=e.state;function f(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);n=l.createBuffer(),r=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,n),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.bufferData(l.ELEMENT_ARRAY_BUFFER,t,l.STATIC_DRAW),u=l.createTexture(),c=l.createTexture(),h.bindTexture(l.TEXTURE_2D,u),l.texImage2D(l.TEXTURE_2D,0,l.RGB,16,16,0,l.RGB,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),h.bindTexture(l.TEXTURE_2D,c),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,16,16,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),i={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},o=d(i),a={vertex:l.getAttribLocation(o,"position"),uv:l.getAttribLocation(o,"uv")},s={renderType:l.getUniformLocation(o,"renderType"),map:l.getUniformLocation(o,"map"),occlusionMap:l.getUniformLocation(o,"occlusionMap"),opacity:l.getUniformLocation(o,"opacity"),color:l.getUniformLocation(o,"color"),scale:l.getUniformLocation(o,"scale"),rotation:l.getUniformLocation(o,"rotation"),screenPosition:l.getUniformLocation(o,"screenPosition")}}function d(t){var n=l.createProgram(),r=l.createShader(l.FRAGMENT_SHADER),i=l.createShader(l.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return l.shaderSource(r,o+t.fragmentShader),l.shaderSource(i,o+t.vertexShader),l.compileShader(r),l.compileShader(i),l.attachShader(n,r),l.attachShader(n,i),l.linkProgram(n),n}this.render=function(i,d,p){if(0!==t.length){var m=new Dt,g=p.w/p.z,v=.5*p.z,y=.5*p.w,b=16/p.w,x=new _t(b*g,b),E=new Dt(1,1,0),w=new _t(1,1),M=new Nn;M.min.set(p.x,p.y),M.max.set(p.x+(p.z-16),p.y+(p.w-16)),void 0===o&&f(),l.useProgram(o),h.initAttributes(),h.enableAttribute(a.vertex),h.enableAttribute(a.uv),h.disableUnusedAttributes(),l.uniform1i(s.occlusionMap,0),l.uniform1i(s.map,1),l.bindBuffer(l.ARRAY_BUFFER,n),l.vertexAttribPointer(a.vertex,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(a.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),h.disable(l.CULL_FACE),h.setDepthWrite(!1);for(var A=0,_=t.length;A<_;A++){b=16/p.w,x.set(b*g,b);var T=t[A];if(m.set(T.matrixWorld.elements[12],T.matrixWorld.elements[13],T.matrixWorld.elements[14]),m.applyMatrix4(d.matrixWorldInverse),m.applyProjection(d.projectionMatrix),E.copy(m),w.x=p.x+E.x*v+v-8,w.y=p.y+E.y*y+y-8,!0===M.containsPoint(w)){h.activeTexture(l.TEXTURE0),h.bindTexture(l.TEXTURE_2D,null),h.activeTexture(l.TEXTURE1),h.bindTexture(l.TEXTURE_2D,u),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGB,w.x,w.y,16,16,0),l.uniform1i(s.renderType,0),l.uniform2f(s.scale,x.x,x.y),l.uniform3f(s.screenPosition,E.x,E.y,E.z),h.disable(l.BLEND),h.enable(l.DEPTH_TEST),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),h.activeTexture(l.TEXTURE0),h.bindTexture(l.TEXTURE_2D,c),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,w.x,w.y,16,16,0),l.uniform1i(s.renderType,1),h.disable(l.DEPTH_TEST),h.activeTexture(l.TEXTURE1),h.bindTexture(l.TEXTURE_2D,u),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),T.positionScreen.copy(E),T.customUpdateCallback?T.customUpdateCallback(T):T.updateLensFlares(),l.uniform1i(s.renderType,2),h.enable(l.BLEND);for(var S=0,N=T.lensFlares.length;S<N;S++){var C=T.lensFlares[S];C.opacity>.001&&C.scale>.001&&(E.x=C.x,E.y=C.y,E.z=C.z,b=C.size*C.scale/p.w,x.x=b*g,x.y=b,l.uniform3f(s.screenPosition,E.x,E.y,E.z),l.uniform2f(s.scale,x.x,x.y),l.uniform1f(s.rotation,C.rotation),l.uniform1f(s.opacity,C.opacity),l.uniform3f(s.color,C.color.r,C.color.g,C.color.b),h.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),e.setTexture2D(C.texture,1),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0))}}}h.enable(l.CULL_FACE),h.enable(l.DEPTH_TEST),h.setDepthWrite(!0),e.resetGLState()}}}function In(e,t){var n,r,i,o,a,s,u=e.context,c=e.state,l=new Dt,h=new Lt,f=new Dt;function d(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);n=u.createBuffer(),r=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,n),u.bufferData(u.ARRAY_BUFFER,e,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),u.bufferData(u.ELEMENT_ARRAY_BUFFER,t,u.STATIC_DRAW),i=p(),o={position:u.getAttribLocation(i,"position"),uv:u.getAttribLocation(i,"uv")},a={uvOffset:u.getUniformLocation(i,"uvOffset"),uvScale:u.getUniformLocation(i,"uvScale"),rotation:u.getUniformLocation(i,"rotation"),scale:u.getUniformLocation(i,"scale"),color:u.getUniformLocation(i,"color"),map:u.getUniformLocation(i,"map"),opacity:u.getUniformLocation(i,"opacity"),modelViewMatrix:u.getUniformLocation(i,"modelViewMatrix"),projectionMatrix:u.getUniformLocation(i,"projectionMatrix"),fogType:u.getUniformLocation(i,"fogType"),fogDensity:u.getUniformLocation(i,"fogDensity"),fogNear:u.getUniformLocation(i,"fogNear"),fogFar:u.getUniformLocation(i,"fogFar"),fogColor:u.getUniformLocation(i,"fogColor"),alphaTest:u.getUniformLocation(i,"alphaTest")};var c=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");c.width=8,c.height=8;var l=c.getContext("2d");l.fillStyle="white",l.fillRect(0,0,8,8),(s=new St(c)).needsUpdate=!0}function p(){var t=u.createProgram(),n=u.createShader(u.VERTEX_SHADER),r=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),u.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),u.compileShader(n),u.compileShader(r),u.attachShader(t,n),u.attachShader(t,r),u.linkProgram(t),t}function m(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}this.render=function(p,g){if(0!==t.length){void 0===i&&d(),u.useProgram(i),c.initAttributes(),c.enableAttribute(o.position),c.enableAttribute(o.uv),c.disableUnusedAttributes(),c.disable(u.CULL_FACE),c.enable(u.BLEND),u.bindBuffer(u.ARRAY_BUFFER,n),u.vertexAttribPointer(o.position,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(o.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),u.uniformMatrix4fv(a.projectionMatrix,!1,g.projectionMatrix.elements),c.activeTexture(u.TEXTURE0),u.uniform1i(a.map,0);var v=0,y=0,b=p.fog;b?(u.uniform3f(a.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(u.uniform1f(a.fogNear,b.near),u.uniform1f(a.fogFar,b.far),u.uniform1i(a.fogType,1),v=1,y=1):b.isFogExp2&&(u.uniform1f(a.fogDensity,b.density),u.uniform1i(a.fogType,2),v=2,y=2)):(u.uniform1i(a.fogType,0),v=0,y=0);for(var x=0,E=t.length;x<E;x++)(M=t[x]).modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,M.matrixWorld),M.z=-M.modelViewMatrix.elements[14];t.sort(m);var w=[];for(x=0,E=t.length;x<E;x++){var M,A=(M=t[x]).material;if(!1!==A.visible){u.uniform1f(a.alphaTest,A.alphaTest),u.uniformMatrix4fv(a.modelViewMatrix,!1,M.modelViewMatrix.elements),M.matrixWorld.decompose(l,h,f),w[0]=f.x,w[1]=f.y;var _=0;p.fog&&A.fog&&(_=y),v!==_&&(u.uniform1i(a.fogType,_),v=_),null!==A.map?(u.uniform2f(a.uvOffset,A.map.offset.x,A.map.offset.y),u.uniform2f(a.uvScale,A.map.repeat.x,A.map.repeat.y)):(u.uniform2f(a.uvOffset,0,0),u.uniform2f(a.uvScale,1,1)),u.uniform1f(a.opacity,A.opacity),u.uniform3f(a.color,A.color.r,A.color.g,A.color.b),u.uniform1f(a.rotation,A.rotation),u.uniform2fv(a.scale,w),c.setBlending(A.blending,A.blendEquation,A.blendSrc,A.blendDst),c.setDepthTest(A.depthTest),c.setDepthWrite(A.depthWrite),A.map?e.setTexture2D(A.map,0):e.setTexture2D(s,0),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0)}}c.enable(u.CULL_FACE),e.resetGLState()}}}Sn.physical={uniforms:En.merge([Sn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag},Nn.prototype={constructor:Nn,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new _t;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new _t;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new _t;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new _t).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new _t).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new _t;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};var Ln=0;function Dn(){Object.defineProperty(this,"id",{value:Ln++}),this.uuid=At.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=M,this.side=p,this.shading=y,this.vertexColors=b,this.opacity=1,this.transparent=!1,this.blendSrc=U,this.blendDst=F,this.blendEquation=C,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Q,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function On(e){Dn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Rn(e){Dn.call(this),this.type="MeshDepthMaterial",this.depthPacking=wt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Pn(e,t){this.min=void 0!==e?e:new Dt(1/0,1/0,1/0),this.max=void 0!==t?t:new Dt(-1/0,-1/0,-1/0)}function jn(e,t){this.center=void 0!==e?e:new Dt,this.radius=void 0!==t?t:0}function kn(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Un(e,t){this.normal=void 0!==e?e:new Dt(1,0,0),this.constant=void 0!==t?t:0}function Fn(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Un,void 0!==t?t:new Un,void 0!==n?n:new Un,void 0!==r?r:new Un,void 0!==i?i:new Un,void 0!==o?o:new Un]}function zn(e,t,n,r){var i=e.context,o=e.state,a=new Fn,s=new Ot,u=t.shadows,c=new _t,l=new _t(r.maxTextureSize,r.maxTextureSize),h=new Dt,d=new Dt,v=[],y=1,b=2,x=1+(y|b),E=new Array(x),w=new Array(x),M={},A=[new Dt(1,0,0),new Dt(-1,0,0),new Dt(0,0,1),new Dt(0,0,-1),new Dt(0,1,0),new Dt(0,-1,0)],_=[new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,0,1),new Dt(0,0,-1)],T=[new Nt,new Nt,new Nt,new Nt,new Nt,new Nt],S=new Rn;S.depthPacking=Mt,S.clipping=!0;for(var N=Sn.distanceRGBA,C=En.clone(N.uniforms),I=0;I!==x;++I){var L=0!==(I&y),D=0!==(I&b),O=S.clone();O.morphTargets=L,O.skinning=D,E[I]=O;var R=new On({defines:{USE_SHADOWMAP:""},uniforms:C,vertexShader:N.vertexShader,fragmentShader:N.fragmentShader,morphTargets:L,skinning:D,clipping:!0});w[I]=R}var P=this;function j(t,n,r,i){var o=t.geometry,a=null,s=E,u=t.customDepthMaterial;if(r&&(s=w,u=t.customDistanceMaterial),u)a=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0));var l=t.isSkinnedMesh&&n.skinning,h=0;c&&(h|=y),l&&(h|=b),a=s[h]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=a.uuid,d=n.uuid,v=M[f];void 0===v&&(v={},M[f]=v);var x=v[d];void 0===x&&(x=a.clone(),v[d]=x),a=x}a.visible=n.visible,a.wireframe=n.wireframe;var A=n.side;return P.renderSingleSided&&A==g&&(A=p),P.renderReverseSided&&(A===p?A=m:A===m&&(A=p)),a.side=A,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function k(e,t,n){if(!1!==e.visible){0!==(e.layers.mask&t.layers.mask)&&(e.isMesh||e.isLine||e.isPoints)&&(!e.castShadow||!1!==e.frustumCulled&&!0!==a.intersectsObject(e)||!0===e.material.visible&&(e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),v.push(e)));for(var r=e.children,i=0,o=r.length;i<o;i++)k(r[i],t,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(t,r){if(!1!==P.enabled&&(!1!==P.autoUpdate||!1!==P.needsUpdate)&&0!==u.length){var f,p;o.buffers.color.setClear(1,1,1,1),o.disable(i.BLEND),o.setDepthTest(!0),o.setScissorTest(!1);for(var m=0,g=u.length;m<g;m++){var y=u[m],b=y.shadow;if(void 0!==b){var x=b.camera;if(c.copy(b.mapSize),c.min(l),y&&y.isPointLight){f=6,p=!0;var E=c.x,w=c.y;T[0].set(2*E,w,E,w),T[1].set(0,w,E,w),T[2].set(3*E,w,E,w),T[3].set(E,w,E,w),T[4].set(3*E,0,E,w),T[5].set(E,0,E,w),c.x*=4,c.y*=2}else f=1,p=!1;if(null===b.map){var M={minFilter:xe,magFilter:xe,format:Be};b.map=new Ct(c.x,c.y,M),x.updateProjectionMatrix()}b.isSpotLightShadow&&b.update(y),b&&b.isRectAreaLightShadow&&b.update(y);var S=b.map,N=b.matrix;d.setFromMatrixPosition(y.matrixWorld),x.position.copy(d),e.setRenderTarget(S),e.clear();for(var C=0;C<f;C++){if(p){h.copy(x.position),h.add(A[C]),x.up.copy(_[C]),x.lookAt(h);var I=T[C];o.viewport(I)}else h.setFromMatrixPosition(y.target.matrixWorld),x.lookAt(h);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),N.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),N.multiply(x.projectionMatrix),N.multiply(x.matrixWorldInverse),s.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),a.setFromMatrix(s),v.length=0,k(t,r,x);for(var L=0,D=v.length;L<D;L++){var O=v[L],R=n.update(O),U=O.material;if(U&&U.isMultiMaterial)for(var F=R.groups,z=U.materials,B=0,G=F.length;B<G;B++){var H=F[B],V=z[H.materialIndex];if(!0===V.visible){var Y=j(O,V,p,d);e.renderBufferDirect(x,null,R,Y,O,H)}}else Y=j(O,U,p,d),e.renderBufferDirect(x,null,R,Y,O,null)}}}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}var W=e.getClearColor(),X=e.getClearAlpha();e.setClearColor(W,X),P.needsUpdate=!1}}}function Bn(e,t){this.origin=void 0!==e?e:new Dt,this.direction=void 0!==t?t:new Dt}function Gn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Gn.DefaultOrder}function Hn(){this.mask=1}Dn.prototype={constructor:Dn,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"===t?Number(n):n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==M&&(n.blending=this.blending),this.shading!==y&&(n.shading=this.shading),this.side!==p&&(n.side=this.side),this.vertexColors!==b&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.shading=e.shading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Dn.prototype,n.prototype),On.prototype=Object.create(Dn.prototype),On.prototype.constructor=On,On.prototype.isShaderMaterial=!0,On.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=En.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},On.prototype.toJSON=function(e){var t=Dn.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Rn.prototype=Object.create(Dn.prototype),Rn.prototype.constructor=Rn,Rn.prototype.isMeshDepthMaterial=!0,Rn.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Pn.prototype={constructor:Pn,isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],h=e[s+2];c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(t,n,r),this.max.set(i,o,a)},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),h=e.getZ(s);c<t&&(t=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>a&&(a=h)}this.min.set(t,n,r),this.max.set(i,o,a)},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new Dt;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new Dt;return function(t){var n=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse((function(t){var r,i,o=t.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)e.fromAttribute(s,r).applyMatrix4(t.matrixWorld),n.expandByPoint(e)}})),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new Dt;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new Dt;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new Dt).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e;return function(t){return void 0===e&&(e=new Dt),this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new Dt).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Dt;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new Dt;return function(t){var n=t||new jn;return this.getCenter(n.center),n.radius=.5*this.getSize(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},jn.prototype={constructor:jn,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new Pn;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new Dt;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new Pn;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},kn.prototype={constructor:kn,isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new Dt),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;i<r;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix3(this),e.toArray(t,o);return t}}(),applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new Dt);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],d=f*u-c*h,p=c*l-f*s,m=h*s-u*l,g=i*d+o*p+a*m;if(0===g){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(c*o-a*u)*y,r[3]=p*y,r[4]=(f*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-h*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},Un.prototype={constructor:Un,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new Dt,t=new Dt;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e);return(t||new Dt).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var e=new Dt;return function(t,n){var r=n||new Dt,i=t.delta(e),o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(t.start)?r.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:r.copy(i).multiplyScalar(a).add(t.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new Dt).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new Dt,t=new kn;return function(n,r){var i=this.coplanarPoint(e).applyMatrix4(n),o=r||t.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},Fn.prototype={constructor:Fn,set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,l-s,p-h,y-m).normalize(),t[1].setComponents(a+r,l+s,p+h,y+m).normalize(),t[2].setComponents(a+i,l+u,p+f,y+g).normalize(),t[3].setComponents(a-i,l-u,p-f,y-g).normalize(),t[4].setComponents(a-o,l-c,p-d,y-v).normalize(),t[5].setComponents(a+o,l+c,p+d,y+v).normalize(),this},intersectsObject:function(){var e=new jn;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new jn;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0},intersectsBox:function(){var e=new Dt,t=new Dt;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},Bn.prototype={constructor:Bn,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new Dt).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new Dt;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new Dt;n.subVectors(e,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new Dt;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new Dt,t=new Dt,n=new Dt;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),f=-this.direction.dot(t),d=n.dot(this.direction),p=-n.dot(t),m=n.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(u=f*d-p,l=h*g,(s=f*p-d)>=0)if(u>=-l)if(u<=l){var v=1/g;c=(s*=v)*(s+f*(u*=v)+2*d)+u*(f*s+u+2*p)+m}else u=h,c=-(s=Math.max(0,-(f*u+d)))*s+u*(u+2*p)+m;else u=-h,c=-(s=Math.max(0,-(f*u+d)))*s+u*(u+2*p)+m;else u<=-l?c=-(s=Math.max(0,-(-f*h+d)))*s+(u=s>0?-h:Math.min(Math.max(-h,-p),h))*(u+2*p)+m:u<=l?(s=0,c=(u=Math.min(Math.max(-h,-p),h))*(u+2*p)+m):c=-(s=Math.max(0,-(f*h+d)))*s+(u=s>0?h:Math.min(Math.max(-h,-p),h))*(u+2*p)+m;else u=f>0?-h:h,c=-(s=Math.max(0,-(f*u+d)))*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),intersectSphere:function(){var e=new Dt;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(){var e=new Dt;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new Dt,t=new Dt,n=new Dt,r=new Dt;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(h<0)return null;var f=c*this.direction.dot(t.cross(e));if(f<0)return null;if(h+f>l)return null;var d=-c*e.dot(r);return d<0?null:this.at(d/l,u)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},Gn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Gn.DefaultOrder="XYZ",Gn.prototype={constructor:Gn,isEuler:!0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=At.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],d=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,n,r){return void 0===e&&(e=new Ot),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new Lt;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Dt(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Hn.prototype={constructor:Hn,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!==(this.mask&e.mask)}};var Vn=0;function Yn(){Object.defineProperty(this,"id",{value:Vn++}),this.uuid=At.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yn.DefaultUp.clone();var e=new Dt,t=new Gn,n=new Lt,r=new Dt(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t.onChange(i),n.onChange(o),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Ot},normalMatrix:{value:new kn}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=Yn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Hn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function Wn(e,t){this.start=void 0!==e?e:new Dt,this.end=void 0!==t?t:new Dt}function Xn(e,t,n){this.a=void 0!==e?e:new Dt,this.b=void 0!==t?t:new Dt,this.c=void 0!==n?n:new Dt}function Qn(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new Dt,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Mn,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function qn(e){Dn.call(this),this.type="MeshBasicMaterial",this.color=new Mn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Kn(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=At.generateUUID(),this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Zn(e,t){Kn.call(this,new Int8Array(e),t)}function Jn(e,t){Kn.call(this,new Uint8Array(e),t)}function $n(e,t){Kn.call(this,new Uint8ClampedArray(e),t)}function er(e,t){Kn.call(this,new Int16Array(e),t)}function tr(e,t){Kn.call(this,new Uint16Array(e),t)}function nr(e,t){Kn.call(this,new Int32Array(e),t)}function rr(e,t){Kn.call(this,new Uint32Array(e),t)}function ir(e,t){Kn.call(this,new Float32Array(e),t)}function or(e,t){Kn.call(this,new Float64Array(e),t)}function ar(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function sr(){Object.defineProperty(this,"id",{value:cr()}),this.uuid=At.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Yn.DefaultUp=new Dt(0,1,0),Yn.DefaultMatrixAutoUpdate=!0,Object.assign(Yn.prototype,n.prototype,{isObject3D:!0,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new Lt;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new Dt(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new Dt(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new Dt(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new Dt;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new Dt(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new Dt(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new Dt(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new Ot;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new Ot;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var n=this.children.indexOf(e);-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){var t=e||new Dt;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new Dt,t=new Dt;return function(n){var r=n||new Lt;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new Lt;return function(t){var n=t||new Gn;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new Dt,t=new Lt;return function(n){var r=n||new Dt;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new Lt;return function(t){var n=t||new Dt;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){var t=void 0===e||""===e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(e).object)}if(t){var o=c(e.geometries),a=c(e.materials),s=c(e.textures),u=c(e.images);o.length>0&&(n.geometries=o),a.length>0&&(n.materials=a),s.length>0&&(n.textures=s),u.length>0&&(n.images=u)}return n.object=r,n;function c(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),Wn.prototype={constructor:Wn,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new Dt).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new Dt).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new Dt;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new Dt,t=new Dt;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e)/i;return r&&(o=At.clamp(o,0,1)),o}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new Dt;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},Xn.normal=function(){var e=new Dt;return function(t,n,r,i){var o=i||new Dt;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),Xn.barycoordFromPoint=function(){var e=new Dt,t=new Dt,n=new Dt;return function(r,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),n.subVectors(r,i);var u=e.dot(e),c=e.dot(t),l=e.dot(n),h=t.dot(t),f=t.dot(n),d=u*h-c*c,p=s||new Dt;if(0===d)return p.set(-2,-1,-1);var m=1/d,g=(h*l-c*f)*m,v=(u*f-c*l)*m;return p.set(1-g-v,v,g)}}(),Xn.containsPoint=function(){var e=new Dt;return function(t,n,r,i){var o=Xn.barycoordFromPoint(t,n,r,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),Xn.prototype={constructor:Xn,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new Dt,t=new Dt;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new Dt).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Xn.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new Un).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Xn.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Xn.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e,t,n,r;return function(i,o){void 0===e&&(e=new Un,t=[new Wn,new Wn,new Wn],n=new Dt,r=new Dt);var a=o||new Dt,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,a.copy(r))}}return a}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Qn.prototype={constructor:Qn,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},qn.prototype=Object.create(Dn.prototype),qn.prototype.constructor=qn,qn.prototype.isMeshBasicMaterial=!0,qn.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Kn.prototype={constructor:Kn,isBufferAttribute:!0,set needsUpdate(e){!0===e&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Mn),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new _t),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Dt),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Nt),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return(new this.constructor).copy(this)}},Zn.prototype=Object.create(Kn.prototype),Zn.prototype.constructor=Zn,Jn.prototype=Object.create(Kn.prototype),Jn.prototype.constructor=Jn,$n.prototype=Object.create(Kn.prototype),$n.prototype.constructor=$n,er.prototype=Object.create(Kn.prototype),er.prototype.constructor=er,tr.prototype=Object.create(Kn.prototype),tr.prototype.constructor=tr,nr.prototype=Object.create(Kn.prototype),nr.prototype.constructor=nr,rr.prototype=Object.create(Kn.prototype),rr.prototype.constructor=rr,ir.prototype=Object.create(Kn.prototype),ir.prototype.constructor=ir,or.prototype=Object.create(Kn.prototype),or.prototype.constructor=or,Object.assign(ar.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]=[];this.morphTargets.position=t}var l,h=e.morphNormals,f=h.length;if(f>0){for(l=[],c=0;c<f;c++)l[c]=[];this.morphTargets.normal=l}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,g=p.length===r.length;for(c=0;c<n.length;c++){var v=n[c];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x,E=v.vertexColors;if(3===E.length)this.colors.push(E[0],E[1],E[2]);else{var w=v.color;this.colors.push(w,w,w)}!0===o&&(void 0!==(x=i[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new _t,new _t,new _t))),!0===a&&(void 0!==(x=i[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new _t,new _t,new _t)));for(var M=0;M<u;M++){var A=s[M].vertices;t[M].push(A[v.a],A[v.b],A[v.c])}for(M=0;M<f;M++){var _=h[M].vertexNormals[c];l[M].push(_.a,_.b,_.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}}),Object.assign(sr.prototype,n.prototype,{isGeometry:!0,applyMatrix:function(e){for(var t=(new kn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new Ot),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new Ot),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new Yn),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=[],l=[],h=[],f=0,d=0;f<i.length;f+=3,d+=2)t.vertices.push(new Dt(i[f],i[f+1],i[f+2])),void 0!==o&&c.push(new Dt(o[f],o[f+1],o[f+2])),void 0!==a&&t.colors.push(new Mn(a[f],a[f+1],a[f+2])),void 0!==s&&l.push(new _t(s[d],s[d+1])),void 0!==u&&h.push(new _t(u[d],u[d+1]));function p(e,n,r,i){var f=new Qn(e,n,r,void 0!==o?[c[e].clone(),c[n].clone(),c[r].clone()]:[],void 0!==a?[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()]:[],i);t.faces.push(f),void 0!==s&&t.faceVertexUvs[0].push([l[e].clone(),l[n].clone(),l[r].clone()]),void 0!==u&&t.faceVertexUvs[1].push([h[e].clone(),h[n].clone(),h[r].clone()])}if(void 0!==n){var m=e.groups;if(m.length>0)for(f=0;f<m.length;f++)for(var g=m[f],v=g.start,y=(d=v,v+g.count);d<y;d+=3)p(n[d],n[d+1],n[d+2],g.materialIndex);else for(f=0;f<n.length;f+=3)p(n[f],n[f+1],n[f+2])}else for(f=0;f<i.length/3;f+=3)p(f,f+1,f+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Ot;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new Dt,t=new Dt,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new Dt;if(e){var s,u,c,l=new Dt,h=new Dt;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],l.subVectors(c,u),h.subVectors(s,u),l.cross(h),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new sr;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new Dt,c={a:new Dt,b:new Dt,c:new Dt},a.push(u),s.push(c)}var u,c,l=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=l.faceNormals[n],c=l.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new jn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!1!==(e&&e.isGeometry)){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0],h=this.colors,f=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new kn).getNormalMatrix(t));for(var d=0,p=a.length;d<p;d++){var m=a[d].clone();void 0!==t&&m.applyMatrix4(t),o.push(m)}for(d=0,p=f.length;d<p;d++)h.push(f[d].clone());for(d=0,p=u.length;d<p;d++){var g,v,y,b=u[d],x=b.vertexNormals,E=b.vertexColors;(g=new Qn(b.a+i,b.b+i,b.c+i)).normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var w=0,M=x.length;w<M;w++)v=x[w].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);for(g.color.copy(b.color),w=0,M=E.length;w<M;w++)y=E[w],g.vertexColors.push(y.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(d=0,p=l.length;d<p;d++){var A=l[d],_=[];if(void 0!==A){for(w=0,M=A.length;w<M;w++)_.push(A[w].clone());c.push(_)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){!1!==(e&&e.isMesh)?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],h=4,f=Math.pow(10,h);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f)]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(o[p]===o[(p+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var m=d[n];for(this.faces.splice(m,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(m,1)}var g=this.vertices.length-c.length;return this.vertices=c,g},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;function r(e,t){return e.materialIndex-t.materialIndex}e.sort(r);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];for(a&&a.length===t&&(i=[]),s&&s.length===t&&(o=[]),n=0;n<t;n++){var u=e[n]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],u={},c=[],l={},h=[],f={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=!0,m=!1,g=void 0!==this.faceVertexUvs[0][i],v=d.normal.length()>0,y=d.vertexNormals.length>0,b=1!==d.color.r||1!==d.color.g||1!==d.color.b,x=d.vertexColors.length>0,E=0;if(E=_(E,0,0),E=_(E,1,p),E=_(E,2,m),E=_(E,3,g),E=_(E,4,v),E=_(E,5,y),E=_(E,6,b),E=_(E,7,x),a.push(E),a.push(d.a,d.b,d.c),a.push(d.materialIndex),g){var w=this.faceVertexUvs[0][i];a.push(N(w[0]),N(w[1]),N(w[2]))}if(v&&a.push(T(d.normal)),y){var M=d.vertexNormals;a.push(T(M[0]),T(M[1]),T(M[2]))}if(b&&a.push(S(d.color)),x){var A=d.vertexColors;a.push(S(A[0]),S(A[1]),S(A[2]))}}function _(e,t,n){return n?e|1<<t:e&~(1<<t)}function T(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]||(l[t]=c.length,c.push(e.getHex())),l[t]}function N(e){var t=e.x.toString()+e.y.toString();return void 0!==f[t]||(f[t]=h.length/2,h.push(e.x,e.y)),f[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),h.length>0&&(e.data.uvs=[h]),e.data.faces=a,e},clone:function(){return(new sr).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());var i=e.colors;for(n=0,r=i.length;n<r;n++)this.colors.push(i[n].clone());var o=e.faces;for(n=0,r=o.length;n<r;n++)this.faces.push(o[n].clone());for(n=0,r=e.faceVertexUvs.length;n<r;n++){var a=e.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var s=0,u=a.length;s<u;s++){for(var c=a[s],l=[],h=0,f=c.length;h<f;h++){var d=c[h];l.push(d.clone())}this.faceVertexUvs[n].push(l)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ur=0;function cr(){return ur++}function lr(){Object.defineProperty(this,"id",{value:cr()}),this.uuid=At.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function hr(e,t){Yn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new lr,this.material=void 0!==t?t:new qn({color:16777215*Math.random()}),this.drawMode=ht,this.updateMorphTargets()}function fr(e,t,n,r,i,o){lr.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this,s=y(r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1),u=b(r,i,o),c=new(u>65535?Uint32Array:Uint16Array)(u),l=new Float32Array(3*s),h=new Float32Array(3*s),f=new Float32Array(2*s),d=0,p=0,m=0,g=0,v=0;function y(e,t,n){var r=0;return r+=(e+1)*(t+1)*2,r+=(e+1)*(n+1)*2,r+=(n+1)*(t+1)*2}function b(e,t,n){var r=0;return r+=e*t*2,r+=e*n*2,6*(r+=n*t*2)}function x(e,t,n,r,i,o,s,u,y,b,x){for(var E=o/y,w=s/b,M=o/2,A=s/2,_=u/2,T=y+1,S=b+1,N=0,C=0,I=new Dt,L=0;L<S;L++)for(var D=L*w-A,O=0;O<T;O++){var R=O*E-M;I[e]=R*r,I[t]=D*i,I[n]=_,l[d]=I.x,l[d+1]=I.y,l[d+2]=I.z,I[e]=0,I[t]=0,I[n]=u>0?1:-1,h[d]=I.x,h[d+1]=I.y,h[d+2]=I.z,f[p]=O/y,f[p+1]=1-L/b,d+=3,p+=2,N+=1}for(L=0;L<b;L++)for(O=0;O<y;O++){var P=g+O+T*L,j=g+O+T*(L+1),k=g+(O+1)+T*(L+1),U=g+(O+1)+T*L;c[m]=P,c[m+1]=j,c[m+2]=U,c[m+3]=j,c[m+4]=k,c[m+5]=U,m+=6,C+=6}a.addGroup(v,C,x),v+=C,g+=N}x("z","y","x",-1,-1,n,t,e,o,i,0),x("z","y","x",1,-1,n,t,-e,o,i,1),x("x","z","y",1,1,e,n,t,r,o,2),x("x","z","y",1,-1,e,n,-t,r,o,3),x("x","y","z",1,-1,e,t,n,r,i,4),x("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(new Kn(c,1)),this.addAttribute("position",new Kn(l,3)),this.addAttribute("normal",new Kn(h,3)),this.addAttribute("uv",new Kn(f,2))}function dr(e,t,n,r){lr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=e/2,o=t/2,a=Math.floor(n)||1,s=Math.floor(r)||1,u=a+1,c=s+1,l=e/a,h=t/s,f=new Float32Array(u*c*3),d=new Float32Array(u*c*3),p=new Float32Array(u*c*2),m=0,g=0,v=0;v<c;v++)for(var y=v*h-o,b=0;b<u;b++){var x=b*l-i;f[m]=x,f[m+1]=-y,d[m+2]=1,p[g]=b/a,p[g+1]=1-v/s,m+=3,g+=2}m=0;var E=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6);for(v=0;v<s;v++)for(b=0;b<a;b++){var w=b+u*v,M=b+u*(v+1),A=b+1+u*(v+1),_=b+1+u*v;E[m]=w,E[m+1]=M,E[m+2]=_,E[m+3]=M,E[m+4]=A,E[m+5]=_,m+=6}this.setIndex(new Kn(E,1)),this.addAttribute("position",new Kn(f,3)),this.addAttribute("normal",new Kn(d,3)),this.addAttribute("uv",new Kn(p,2))}function pr(){Yn.call(this),this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot}function mr(e,t,n,r){pr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function gr(e,t,n,r,i,o){pr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function vr(e,t,n){var r,i,o;function a(e){r=e}function s(n){n.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(i=e.UNSIGNED_INT,o=4):n.array instanceof Uint16Array?(i=e.UNSIGNED_SHORT,o=2):(i=e.UNSIGNED_BYTE,o=1)}function u(t,a){e.drawElements(r,a,i,t*o),n.calls++,n.vertices+=a,r===e.TRIANGLES&&(n.faces+=a/3)}function c(a,s,u){var c=t.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(r,u,i,s*o,a.maxInstancedCount),n.calls++,n.vertices+=u*a.maxInstancedCount,r===e.TRIANGLES&&(n.faces+=a.maxInstancedCount*u/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}return{setMode:a,setIndex:s,render:u,renderInstances:c}}function yr(e,t,n){var r;function i(e){r=e}function o(t,i){e.drawArrays(r,t,i),n.calls++,n.vertices+=i,r===e.TRIANGLES&&(n.faces+=i/3)}function a(i){var o=t.get("ANGLE_instanced_arrays");if(null!==o){var a=i.attributes.position,s=0;a.isInterleavedBufferAttribute?(s=a.data.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)):(s=a.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)),n.calls++,n.vertices+=s*i.maxInstancedCount,r===e.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}return{setMode:i,render:o,renderInstances:a}}function br(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Dt,color:new Mn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"SpotLight":n={position:new Dt,direction:new Dt,color:new Mn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"PointLight":n={position:new Dt,color:new Mn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new _t};break;case"HemisphereLight":n={direction:new Dt,skyColor:new Mn,groundColor:new Mn};break;case"RectAreaLight":n={color:new Mn,position:new Dt,halfWidth:new Dt,halfHeight:new Dt}}return e[t.id]=n,n}}}function xr(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function Er(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),xr(n)),r}Object.assign(lr.prototype,n.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){return!1===(t&&t.isBufferAttribute)&&!1===(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new Kn(arguments[1],arguments[2]))):"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):(this.attributes[e]=t,this)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var n=this.attributes.normal;return void 0!==n&&((new kn).getNormalMatrix(e).applyToVector3Array(n.array),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new Ot),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new Ot),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new Ot),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new Yn),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new ir(3*t.vertices.length,3),r=new ir(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new ir(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ar).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Kn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Kn(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Kn(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Kn(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Kn(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var a=new(e.vertices.length>65535?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new Kn(a,1).copyIndicesArray(e.indices))}for(var s in this.groups=e.groups,e.morphTargets){for(var u=[],c=e.morphTargets[s],l=0,h=c.length;l<h;l++){var f=c[l],d=new ir(3*f.length,3);u.push(d.copyVector3sArray(f))}this.morphAttributes[s]=u}if(e.skinIndices.length>0){var p=new ir(4*e.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var m=new ir(4*e.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Pn);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new Pn,t=new Dt;return function(){null===this.boundingSphere&&(this.boundingSphere=new jn);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)t.x=n.getX(o),t.y=n.getY(o),t.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Kn(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,c,l=t.normal.array,h=new Dt,f=new Dt,d=new Dt,p=new Dt,m=new Dt;if(e){var g=e.array;0===n.length&&this.addGroup(0,g.length);for(var v=0,y=n.length;v<y;++v){var b=n[v],x=b.start;for(o=x,a=x+b.count;o<a;o+=3)s=3*g[o+0],u=3*g[o+1],c=3*g[o+2],h.fromArray(r,s),f.fromArray(r,u),d.fromArray(r,c),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[u]+=p.x,l[u+1]+=p.y,l[u+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),p.subVectors(d,f),m.subVectors(h,f),p.cross(m),l[o]=p.x,l[o+1]=p.y,l[o+2]=p.z,l[o+3]=p.x,l[o+4]=p.y,l[o+5]=p.z,l[o+6]=p.x,l[o+7]=p.y,l[o+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!1!==(e&&e.isBufferGeometry)){void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=0,u=o.itemSize*t;s<a.length;s++,u++)i[u]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e,t,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)e=i[o],t=i[o+1],n=i[o+2],r=1/Math.sqrt(e*e+t*t+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new lr,t=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(t.length*a),u=0,c=0,l=0,h=t.length;l<h;l++){u=t[l]*a;for(var f=0;f<a;f++)s[c++]=o[u++]}e.addAttribute(r,new Kn(s,a))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array),e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new lr).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),lr.MaxIndex=65535,hr.prototype=Object.assign(Object.create(Yn.prototype),{constructor:hr,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Yn.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e=this.geometry.morphTargets;if(void 0!==e&&e.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,n=e.length;t<n;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[e[t].name]=t}},raycast:function(){var e=new Ot,t=new Bn,n=new jn,r=new Dt,i=new Dt,o=new Dt,a=new Dt,s=new Dt,u=new Dt,c=new _t,l=new _t,h=new _t,f=new Dt,d=new Dt,p=new Dt;function v(e,t,n,r,i,o,a){return Xn.barycoordFromPoint(e,t,n,r,f),i.multiplyScalar(f.x),o.multiplyScalar(f.y),a.multiplyScalar(f.z),i.add(o).add(a),i.clone()}function y(e,t,n,r,i,o,a){var s=e.material;if(null===(s.side===m?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==g,a)))return null;p.copy(a),p.applyMatrix4(e.matrixWorld);var u=t.ray.origin.distanceTo(p);return u<t.near||u>t.far?null:{distance:u,point:p.clone(),object:e}}function b(e,t,n,a,s,u,f,p){r.fromArray(a,3*u),i.fromArray(a,3*f),o.fromArray(a,3*p);var m=y(e,t,n,r,i,o,d);return m&&(s&&(c.fromArray(s,2*u),l.fromArray(s,2*f),h.fromArray(s,2*p),m.uv=v(d,r,i,o,c,l,h)),m.face=new Qn(u,f,p,Xn.normal(r,i,o)),m.faceIndex=u),m}return function(f,p){var m,g,x=this.geometry,E=this.material,w=this.matrixWorld;if(void 0!==E&&(null===x.boundingSphere&&x.computeBoundingSphere(),n.copy(x.boundingSphere),n.applyMatrix4(w),!1!==f.ray.intersectsSphere(n)&&(e.getInverse(w),t.copy(f.ray).applyMatrix4(e),null===x.boundingBox||!1!==t.intersectsBox(x.boundingBox))))if(x.isBufferGeometry){var M,A,_,T=x.index,S=x.attributes,N=S.position.array;if(void 0!==S.uv&&(m=S.uv.array),null!==T)for(var C=T.array,I=0,L=C.length;I<L;I+=3)M=C[I],A=C[I+1],_=C[I+2],(g=b(this,f,t,N,m,M,A,_))&&(g.faceIndex=Math.floor(I/3),p.push(g));else for(I=0,L=N.length;I<L;I+=9)(g=b(this,f,t,N,m,M=I/3,A=M+1,_=M+2))&&(g.index=M,p.push(g))}else if(x.isGeometry){var D,O,R,P=E&&E.isMultiMaterial,j=!0===P?E.materials:null,k=x.vertices,U=x.faces,F=x.faceVertexUvs[0];F.length>0&&(m=F);for(var z=0,B=U.length;z<B;z++){var G=U[z],H=!0===P?j[G.materialIndex]:E;if(void 0!==H){if(D=k[G.a],O=k[G.b],R=k[G.c],!0===H.morphTargets){var V=x.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var W=0,X=V.length;W<X;W++){var Q=Y[W];if(0!==Q){var q=V[W].vertices;r.addScaledVector(a.subVectors(q[G.a],D),Q),i.addScaledVector(s.subVectors(q[G.b],O),Q),o.addScaledVector(u.subVectors(q[G.c],R),Q)}}r.add(D),i.add(O),o.add(R),D=r,O=i,R=o}if(g=y(this,f,t,D,O,R,d)){if(m){var K=m[z];c.copy(K[0]),l.copy(K[1]),h.copy(K[2]),g.uv=v(d,D,O,R,c,l,h)}g.face=G,g.faceIndex=z,p.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),fr.prototype=Object.create(lr.prototype),fr.prototype.constructor=fr,dr.prototype=Object.create(lr.prototype),dr.prototype.constructor=dr,pr.prototype=Object.create(Yn.prototype),pr.prototype.constructor=pr,pr.prototype.isCamera=!0,pr.prototype.getWorldDirection=function(){var e=new Lt;return function(t){var n=t||new Dt;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),pr.prototype.lookAt=function(){var e=new Ot;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),pr.prototype.clone=function(){return(new this.constructor).copy(this)},pr.prototype.copy=function(e){return Yn.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},mr.prototype=Object.assign(Object.create(pr.prototype),{constructor:mr,isPerspectiveCamera:!0,copy:function(e){return pr.prototype.copy.call(this,e),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*At.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*At.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*At.RAD2DEG*Math.atan(Math.tan(.5*At.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*At.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makeFrustum(i,i+r,t-n,t,e,this.far)},toJSON:function(e){var t=Yn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),gr.prototype=Object.assign(Object.create(pr.prototype),{constructor:gr,isOrthographicCamera:!0,copy:function(e){return pr.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/u))+l*(this.view.width/u),s=(a-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(e){var t=Yn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}});var wr=0;function Mr(e){switch(e){case pt:return["Linear","( value )"];case mt:return["sRGB","( value )"];case vt:return["RGBE","( value )"];case bt:return["RGBM","( value, 7.0 )"];case xt:return["RGBM","( value, 16.0 )"];case Et:return["RGBD","( value, 256.0 )"];case gt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Ar(e,t){var n=Mr(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function _r(e,t){var n=Mr(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Tr(e,t){var n;switch(t){case re:n="Linear";break;case ie:n="Reinhard";break;case oe:n="Uncharted2";break;case ae:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Sr(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ir).join("\n")}function Nr(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function Cr(e,t,n){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o).name;r[a]=e.getAttribLocation(t,a)}return r}function Ir(e){return""!==e}function Lr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Dr(e){var t=/#include +<([\w\d.]+)>/g;function n(e,t){var n=wn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Dr(n)}return e.replace(t,n)}function Or(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function n(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}return e.replace(t,n)}function Rr(e,t,n,r){var i=e.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";r.shadowMapType===f?c="SHADOWMAP_TYPE_PCF":r.shadowMapType===d&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case ue:case ce:l="ENVMAP_TYPE_CUBE";break;case de:case pe:l="ENVMAP_TYPE_CUBE_UV";break;case le:case he:l="ENVMAP_TYPE_EQUIREC";break;case fe:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case ce:case he:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case $:p="ENVMAP_BLENDING_MULTIPLY";break;case ee:p="ENVMAP_BLENDING_MIX";break;case te:p="ENVMAP_BLENDING_ADD"}}var m,g,v=e.gammaFactor>0?e.gammaFactor:1,y=Sr(o,r,e.extensions),b=Nr(a),x=i.createProgram();n.isRawShaderMaterial?(m=[b,"\n"].filter(Ir).join("\n"),g=[y,b,"\n"].filter(Ir).join("\n")):(m=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,b,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ir).join("\n"),g=[y,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,b,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+v,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+h:"",r.envMap?"#define "+p:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==ne?"#define TONE_MAPPING":"",r.toneMapping!==ne?wn.tonemapping_pars_fragment:"",r.toneMapping!==ne?Tr("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?wn.encodings_pars_fragment:"",r.mapEncoding?Ar("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Ar("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Ar("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?_r("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ir).join("\n")),s=Lr(s=Dr(s,r),r),u=Lr(u=Dr(u,r),r),n.isShaderMaterial||(s=Or(s),u=Or(u));var E=m+s,w=g+u,M=Er(i,i.VERTEX_SHADER,E),A=Er(i,i.FRAGMENT_SHADER,w);i.attachShader(x,M),i.attachShader(x,A),void 0!==n.index0AttributeName?i.bindAttribLocation(x,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);var _,T,S=i.getProgramInfoLog(x),N=i.getShaderInfoLog(M),C=i.getShaderInfoLog(A),I=!0,L=!0;return!1===i.getProgramParameter(x,i.LINK_STATUS)?(I=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(x,i.VALIDATE_STATUS),"gl.getProgramInfoLog",S,N,C)):""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):""!==N&&""!==C||(L=!1),L&&(this.diagnostics={runnable:I,material:n,programLog:S,vertexShader:{log:N,prefix:m},fragmentShader:{log:C,prefix:g}}),i.deleteShader(M),i.deleteShader(A),this.getUniforms=function(){return void 0===_&&(_=new xn(i,x,e)),_},this.getAttributes=function(){return void 0===T&&(T=Cr(i,x)),T},this.destroy=function(){i.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=wr++,this.code=t,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=A,this}function Pr(e,t){var n=[],r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},i=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];function o(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var n=t.maxVertexUniforms,r=Math.floor((n-20)/4);return void 0!==e&&e&&e.isSkinnedMesh&&(r=Math.min(e.skeleton.bones.length,r))<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)"),r}function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=pt,n===pt&&t&&(n=gt),n}this.getParameters=function(n,i,s,u,c,l){var h=r[n.type],f=o(l),d=e.getPrecision();null!==n.precision&&(d=t.getMaxPrecision(n.precision))!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",d,"instead.");var p=e.getCurrentRenderTarget();return{shaderID:h,precision:d,supportsVertexTextures:t.vertexTextures,outputEncoding:a(p?p.texture:null,e.gammaOutput),map:!!n.map,mapEncoding:a(n.map,e.gammaInput),envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,envMapEncoding:a(n.envMap,e.gammaInput),envMapCubeUV:!!n.envMap&&(n.envMap.mapping===de||n.envMap.mapping===pe),lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:a(n.emissiveMap,e.gammaInput),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,combine:n.combine,vertexColors:n.vertexColors,fog:!!s,useFog:n.fog,fogExp:s&&s.isFogExp2,flatShading:n.shading===v,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:n.skinning,maxBones:f,useVertexTexture:t.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numClippingPlanes:u,numClipIntersection:c,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&i.shadows.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===g,flipSided:n.side===m,depthPacking:void 0!==n.depthPacking&&n.depthPacking}},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(var o=0;o<i.length;o++)n.push(t[i[o]]);return n.join()},this.acquireProgram=function(t,r,i){for(var o,a=0,s=n.length;a<s;a++){var u=n[a];if(u.code===i){++(o=u).usedTimes;break}}return void 0===o&&(o=new Rr(e,i,t,r),n.push(o)),o},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function jr(e,t,n){var r={};function i(e){var o=e.target,u=r[o.id];null!==u.index&&a(u.index),s(u.attributes),o.removeEventListener("dispose",i),delete r[o.id];var c=t.get(o);c.wireframe&&a(c.wireframe),t.delete(o);var l=t.get(u);l.wireframe&&a(l.wireframe),t.delete(u),n.memory.geometries--}function o(e){return e.isInterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function a(t){var n=o(t);void 0!==n&&(e.deleteBuffer(n),u(t))}function s(e){for(var t in e)a(e[t])}function u(e){e.isInterleavedBufferAttribute?t.delete(e.data):t.delete(e)}return{get:function(e){var t,o=e.geometry;return void 0!==r[o.id]?r[o.id]:(o.addEventListener("dispose",i),o.isBufferGeometry?t=o:o.isGeometry&&(void 0===o._bufferGeometry&&(o._bufferGeometry=(new lr).setFromObject(e)),t=o._bufferGeometry),r[o.id]=t,n.memory.geometries++,t)}}}function kr(e,t,n){var r=new jr(e,t,n);function i(t){var n=r.get(t);t.geometry.isGeometry&&n.updateFromObject(t);var i=n.index,a=n.attributes;for(var s in null!==i&&o(i,e.ELEMENT_ARRAY_BUFFER),a)o(a[s],e.ARRAY_BUFFER);var u=n.morphAttributes;for(var s in u)for(var c=u[s],l=0,h=c.length;l<h;l++)o(c[l],e.ARRAY_BUFFER);return n}function o(e,n){var r=e.isInterleavedBufferAttribute?e.data:e,i=t.get(r);void 0===i.__webglBuffer?a(i,r,n):i.version!==r.version&&s(i,r,n)}function a(t,n,r){t.__webglBuffer=e.createBuffer(),e.bindBuffer(r,t.__webglBuffer);var i=n.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,n.array,i);var o=e.FLOAT,a=n.array;a instanceof Float32Array?o=e.FLOAT:a instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):a instanceof Uint16Array?o=e.UNSIGNED_SHORT:a instanceof Int16Array?o=e.SHORT:a instanceof Uint32Array?o=e.UNSIGNED_INT:a instanceof Int32Array?o=e.INT:a instanceof Int8Array?o=e.BYTE:a instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),t.bytesPerElement=a.BYTES_PER_ELEMENT,t.type=o,t.version=n.version,n.onUploadCallback()}function s(t,n,r){e.bindBuffer(r,t.__webglBuffer),!1===n.dynamic?e.bufferData(r,n.array,e.STATIC_DRAW):-1===n.updateRange.count?e.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),t.version=n.version}function u(e){return e.isInterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function c(e){return e.isInterleavedBufferAttribute?t.get(e.data):t.get(e)}function l(n){var r=t.get(n);if(void 0!==r.wireframe)return r.wireframe;var i,a=[],s=n.index,u=n.attributes,c=u.position;if(null!==s)for(var l=0,h=(i=s.array).length;l<h;l+=3){var f=i[l+0],d=i[l+1],p=i[l+2];a.push(f,d,d,p,p,f)}else for(l=0,h=(i=u.position.array).length/3-1;l<h;l+=3)f=l+0,d=l+1,p=l+2,a.push(f,d,d,p,p,f);var m=new Kn(new(c.count>65535?Uint32Array:Uint16Array)(a),1);return o(m,e.ELEMENT_ARRAY_BUFFER),r.wireframe=m,m}return{getAttributeBuffer:u,getAttributeProperties:c,getWireframeAttribute:l,update:i}}function Ur(e,t,n,r,i,o,a){var s=a.memory,u="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;function c(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function l(e){return At.isPowerOfTwo(e.width)&&At.isPowerOfTwo(e.height)}function h(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.width=At.nearestPowerOfTwo(e.width),t.height=At.nearestPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function f(e){return e.wrapS!==ve||e.wrapT!==ve||e.minFilter!==xe&&e.minFilter!==Me}function d(t){return t===xe||t===Ee||t===we?e.NEAREST:e.LINEAR}function p(e){var t=e.target;t.removeEventListener("dispose",p),g(t),s.textures--}function m(e){var t=e.target;t.removeEventListener("dispose",m),v(t),s.textures--}function g(t){var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture)}r.delete(t)}function v(t){var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(t.texture),r.delete(t)}}function y(t,i){var o=r.get(t);if(t.version>0&&o.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==a.complete)return void w(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}}n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_2D,o.__webglTexture)}function b(t,a){var u=r.get(t);if(6===t.image.length)if(t.version>0&&u.__version!==t.version){u.__image__webglTextureCube||(t.addEventListener("dispose",p),u.__image__webglTextureCube=e.createTexture(),s.textures++),n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var h=t&&t.isCompressedTexture,f=t.image[0]&&t.image[0].isDataTexture,d=[],m=0;m<6;m++)d[m]=h||f?f?t.image[m].image:t.image[m]:c(t.image[m],i.maxCubemapSize);var g=l(d[0]),v=o(t.format),y=o(t.type);for(E(e.TEXTURE_CUBE_MAP,t,g),m=0;m<6;m++)if(h)for(var b,x=d[m].mipmaps,w=0,M=x.length;w<M;w++)b=x[w],t.format!==Be&&t.format!==ze?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,v,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,v,b.width,b.height,0,v,y,b.data);else f?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,d[m].width,d[m].height,0,v,y,d[m].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,v,v,y,d[m]);t.generateMipmaps&&g&&e.generateMipmap(e.TEXTURE_CUBE_MAP),u.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)}function x(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}function E(n,a,s){var u;if(s?(e.texParameteri(n,e.TEXTURE_WRAP_S,o(a.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,o(a.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,o(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,o(a.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a.wrapS===ve&&a.wrapT===ve||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),e.texParameteri(n,e.TEXTURE_MAG_FILTER,d(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,d(a.minFilter)),a.minFilter!==xe&&a.minFilter!==Me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),u=t.get("EXT_texture_filter_anisotropic")){if(a.type===Oe&&null===t.get("OES_texture_float_linear"))return;if(a.type===Re&&null===t.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function w(t,r,a){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",p),t.__webglTexture=e.createTexture(),s.textures++),n.activeTexture(e.TEXTURE0+a),n.bindTexture(e.TEXTURE_2D,t.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var d=c(r.image,i.maxTextureSize);f(r)&&!1===l(d)&&(d=h(d));var m=l(d),g=o(r.format),v=o(r.type);E(e.TEXTURE_2D,r,m);var y,b=r.mipmaps;if(r.isDepthTexture){var x=e.DEPTH_COMPONENT;if(r.type===Oe){if(!u)throw new Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else u&&(x=e.DEPTH_COMPONENT16);r.format===Ye&&x===e.DEPTH_COMPONENT&&r.type!==Ie&&r.type!==De&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ie,v=o(r.type)),r.format===We&&(x=e.DEPTH_STENCIL,r.type!==Ue&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ue,v=o(r.type))),n.texImage2D(e.TEXTURE_2D,0,x,d.width,d.height,0,g,v,null)}else if(r.isDataTexture)if(b.length>0&&m){for(var w=0,M=b.length;w<M;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,d.width,d.height,0,g,v,d.data);else if(r.isCompressedTexture)for(w=0,M=b.length;w<M;w++)y=b[w],r.format!==Be&&r.format!==ze?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,w,g,y.width,y.height,0,g,v,y.data);else if(b.length>0&&m){for(w=0,M=b.length;w<M;w++)y=b[w],n.texImage2D(e.TEXTURE_2D,w,g,g,v,y);r.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,g,g,v,d);r.generateMipmaps&&m&&e.generateMipmap(e.TEXTURE_2D),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function M(t,i,a,s){var u=o(i.texture.format),c=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function A(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}function _(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(e.bindFramebuffer(e.FRAMEBUFFER,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),y(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ye)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==We)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}function T(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");_(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),A(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),A(n.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}function S(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",m),o.__webglTexture=e.createTexture(),s.textures++;var a=!0===t.isWebGLRenderTargetCube,u=l(t);if(a){i.__webglFramebuffer=[];for(var c=0;c<6;c++)i.__webglFramebuffer[c]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(a){for(n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture),E(e.TEXTURE_CUBE_MAP,t.texture,u),c=0;c<6;c++)M(i.__webglFramebuffer[c],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+c);t.texture.generateMipmaps&&u&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,o.__webglTexture),E(e.TEXTURE_2D,t.texture,u),M(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),t.texture.generateMipmaps&&u&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);t.depthBuffer&&T(t)}function N(t){var i=t.texture;if(i.generateMipmaps&&l(t)&&i.minFilter!==xe&&i.minFilter!==Me){var o=t&&t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),e.generateMipmap(o),n.bindTexture(o,null)}}this.setTexture2D=y,this.setTextureCube=b,this.setTextureCubeDynamic=x,this.setupRenderTarget=S,this.updateRenderTargetMipmap=N}function Fr(){var e={};return{get:function(t){var n=t.uuid,r=e[n];return void 0===r&&(r={},e[n]=r),r},delete:function(t){delete e[t.uuid]},clear:function(){e={}}}}function zr(e,t,n){function r(){var t=!1,n=new Nt,r=null,i=new Nt;return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(0,0,0,1)}}}function i(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?ae(e.DEPTH_TEST):se(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Y:e.depthFunc(e.NEVER);break;case W:e.depthFunc(e.ALWAYS);break;case X:e.depthFunc(e.LESS);break;case Q:e.depthFunc(e.LEQUAL);break;case q:e.depthFunc(e.EQUAL);break;case K:e.depthFunc(e.GEQUAL);break;case Z:e.depthFunc(e.GREATER);break;case J:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function u(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(t){t?ae(e.STENCIL_TEST):se(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}}var c=new r,l=new i,h=new u,f=e.getParameter(e.MAX_VERTEX_ATTRIBS),d=new Uint8Array(f),p=new Uint8Array(f),m=new Uint8Array(f),g={},v=null,y=null,b=null,x=null,E=null,N=null,C=null,I=null,L=!1,D=null,O=null,R=null,P=null,j=null,k=null,U=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),F=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),z=parseFloat(F)>=1,B=null,G={},H=new Nt,V=new Nt;function $(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var a=0;a<r;a++)e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return o}var ee={};function te(){c.setClear(0,0,0,1),l.setClear(1),h.setClear(0),ae(e.DEPTH_TEST),de(Q),ye(!1),be(a),ae(e.CULL_FACE),ae(e.BLEND),ce(M)}function ne(){for(var e=0,t=d.length;e<t;e++)d[e]=0}function re(n){d[n]=1,0===p[n]&&(e.enableVertexAttribArray(n),p[n]=1),0!==m[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),m[n]=0)}function ie(t,n,r){d[t]=1,0===p[t]&&(e.enableVertexAttribArray(t),p[t]=1),m[t]!==n&&(r.vertexAttribDivisorANGLE(t,n),m[t]=n)}function oe(){for(var t=0,n=p.length;t!==n;++t)p[t]!==d[t]&&(e.disableVertexAttribArray(t),p[t]=0)}function ae(t){!0!==g[t]&&(e.enable(t),g[t]=!0)}function se(t){!1!==g[t]&&(e.disable(t),g[t]=!1)}function ue(){if(null===v&&(v=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)v.push(n[r]);return v}function ce(t,r,i,o,a,s,u,c){t!==w?ae(e.BLEND):se(e.BLEND),t===y&&c===L||(t===A?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===_?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===T?c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):c?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),y=t,L=c),t===S?(a=a||r,s=s||i,u=u||o,r===b&&a===N||(e.blendEquationSeparate(n(r),n(a)),b=r,N=a),i===x&&o===E&&s===C&&u===I||(e.blendFuncSeparate(n(i),n(o),n(s),n(u)),x=i,E=o,C=s,I=u)):(b=null,x=null,E=null,N=null,C=null,I=null)}function le(e){c.setMask(e)}function he(e){l.setTest(e)}function fe(e){l.setMask(e)}function de(e){l.setFunc(e)}function pe(e){h.setTest(e)}function me(e){h.setMask(e)}function ge(e,t,n){h.setFunc(e,t,n)}function ve(e,t,n){h.setOp(e,t,n)}function ye(t){D!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),D=t)}function be(t){t!==o?(ae(e.CULL_FACE),t!==O&&(t===a?e.cullFace(e.BACK):t===s?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):se(e.CULL_FACE),O=t}function xe(t){t!==R&&(z&&e.lineWidth(t),R=t)}function Ee(t,n,r){t?(ae(e.POLYGON_OFFSET_FILL),P===n&&j===r||(e.polygonOffset(n,r),P=n,j=r)):se(e.POLYGON_OFFSET_FILL)}function we(){return k}function Me(t){k=t,t?ae(e.SCISSOR_TEST):se(e.SCISSOR_TEST)}function Ae(t){void 0===t&&(t=e.TEXTURE0+U-1),B!==t&&(e.activeTexture(t),B=t)}function _e(t,n){null===B&&Ae();var r=G[B];void 0===r&&(r={type:void 0,texture:void 0},G[B]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ee[t]),r.type=t,r.texture=n)}function Te(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error(t)}}function Se(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error(t)}}function Ne(t){!1===H.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),H.copy(t))}function Ce(t){!1===V.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),V.copy(t))}function Ie(){for(var t=0;t<p.length;t++)1===p[t]&&(e.disableVertexAttribArray(t),p[t]=0);g={},v=null,B=null,G={},y=null,D=null,O=null,c.reset(),l.reset(),h.reset()}return ee[e.TEXTURE_2D]=$(e.TEXTURE_2D,e.TEXTURE_2D,1),ee[e.TEXTURE_CUBE_MAP]=$(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:c,depth:l,stencil:h},init:te,initAttributes:ne,enableAttribute:re,enableAttributeAndDivisor:ie,disableUnusedAttributes:oe,enable:ae,disable:se,getCompressedTextureFormats:ue,setBlending:ce,setColorWrite:le,setDepthTest:he,setDepthWrite:fe,setDepthFunc:de,setStencilTest:pe,setStencilWrite:me,setStencilFunc:ge,setStencilOp:ve,setFlipSided:ye,setCullFace:be,setLineWidth:xe,setPolygonOffset:Ee,getScissorTest:we,setScissorTest:Me,activeTexture:Ae,bindTexture:_e,compressedTexImage2D:Te,texImage2D:Se,scissor:Ne,viewport:Ce,reset:Ie}}function Br(e,t,n){var r;function i(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a=void 0!==n.precision?n.precision:"highp",s=o(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer&&!!t.get("EXT_frag_depth"),c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_TEXTURE_SIZE),f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),d=e.getParameter(e.MAX_VERTEX_ATTRIBS),p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),m=e.getParameter(e.MAX_VARYING_VECTORS),g=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=!!t.get("OES_texture_float");return{getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function Gr(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Hr(){var e=this,t=null,n=0,r=!1,i=!1,o=new Un,a=new kn,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,r,i){var u=null!==t?t.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===c||c.length<l)&&(c=new Float32Array(l));for(var f=0,d=r;f!==u;++f,d+=4)o.copy(t[f]).applyMatrix4(h,a),o.normal.toArray(c,d),c[d+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=u,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,o,a,l,h,f){if(!r||null===e||0===e.length||i&&!a)i?c(null):u();else{var d=i?0:n,p=4*d,m=h.clippingState||null;s.value=m,m=c(e,l,p,f);for(var g=0;g!==p;++g)m[g]=t[g];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function Vr(e){console.log("THREE.WebGLRenderer",r);var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,o=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,u=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,h=[],f=[],d=-1,p=[],y=-1,x=new Float32Array(8),E=[],M=[];this.domElement=t,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=re,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var A,_=this,T=null,S=null,N=null,Y=-1,W="",X=null,Q=new Nt,q=null,K=new Nt,Z=0,J=new Mn(0),$=0,ee=t.width,te=t.height,ne=1,ie=new Nt(0,0,ee,te),oe=!1,ae=new Nt(0,0,ee,te),se=new Fn,ue=new Hr,ce=!1,le=!1,he=new jn,fe=new Ot,de=new Dt,pe=new Ot,me=new Ot,be={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Te={calls:0,vertices:0,faces:0,points:0};this.info={render:Te,memory:{geometries:0,textures:0},programs:null};try{var Ve={alpha:i,depth:o,stencil:a,antialias:s,premultipliedAlpha:u,preserveDrawingBuffer:l};if(null===(A=n||t.getContext("webgl",Ve)||t.getContext("experimental-webgl",Ve)))throw null!==t.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===A.getShaderPrecisionFormat&&(A.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),t.addEventListener("webglcontextlost",Tt,!1)}catch(cn){console.error("THREE.WebGLRenderer: "+cn)}var nt=new Gr(A);nt.get("WEBGL_depth_texture"),nt.get("OES_texture_float"),nt.get("OES_texture_float_linear"),nt.get("OES_texture_half_float"),nt.get("OES_texture_half_float_linear"),nt.get("OES_standard_derivatives"),nt.get("ANGLE_instanced_arrays"),nt.get("OES_element_index_uint")&&(lr.MaxIndex=4294967296);var rt=new Br(A,nt,e),it=new zr(A,nt,un),ot=new Fr,at=new Ur(A,nt,it,ot,rt,un,this.info),st=new kr(A,ot,this.info),ut=new Pr(this,rt),ct=new br;this.info.programs=ut.programs;var lt=new yr(A,nt,Te),pt=new vr(A,nt,Te),mt=new gr(-1,1,1,-1,0,1),gt=new mr,vt=new hr(new dr(2,2),new qn({depthTest:!1,depthWrite:!1,fog:!1})),yt=Sn.cube,bt=new hr(new fr(5,5,5),new On({uniforms:yt.uniforms,vertexShader:yt.vertexShader,fragmentShader:yt.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1}));function xt(){return null===S?ne:1}function Et(){it.init(),it.scissor(Q.copy(ie).multiplyScalar(ne)),it.viewport(K.copy(ae).multiplyScalar(ne)),it.buffers.color.setClear(J.r,J.g,J.b,$,u)}function wt(){T=null,X=null,W="",Y=-1,it.reset()}Et(),this.context=A,this.capabilities=rt,this.extensions=nt,this.properties=ot,this.state=it;var Mt=new zn(this,be,st,rt);this.shadowMap=Mt;var At=new In(this,E),_t=new Cn(this,M);function Tt(e){e.preventDefault(),wt(),Et(),ot.clear()}function St(e){var t=e.target;t.removeEventListener("dispose",St),Ct(t)}function Ct(e){It(e),ot.delete(e)}function It(e){var t=ot.get(e).program;e.program=void 0,void 0!==t&&ut.releaseProgram(t)}function Lt(e,t,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=nt.get("ANGLE_instanced_arrays")))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===r&&(r=0),it.initAttributes();var o=n.attributes,a=t.getAttributes(),s=e.defaultAttributeValues;for(var u in a){var c=a[u];if(c>=0){var l=o[u];if(void 0!==l){var h=l.normalized,f=l.itemSize,d=st.getAttributeProperties(l),p=d.__webglBuffer,m=d.type,g=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var v=l.data,y=v.stride,b=l.offset;v&&v.isInstancedInterleavedBuffer?(it.enableAttributeAndDivisor(c,v.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=v.meshPerAttribute*v.count)):it.enableAttribute(c),A.bindBuffer(A.ARRAY_BUFFER,p),A.vertexAttribPointer(c,f,m,h,y*g,(r*y+b)*g)}else l.isInstancedBufferAttribute?(it.enableAttributeAndDivisor(c,l.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):it.enableAttribute(c),A.bindBuffer(A.ARRAY_BUFFER,p),A.vertexAttribPointer(c,f,m,h,0,r*f*g)}else if(void 0!==s){var x=s[u];if(void 0!==x)switch(x.length){case 2:A.vertexAttrib2fv(c,x);break;case 3:A.vertexAttrib3fv(c,x);break;case 4:A.vertexAttrib4fv(c,x);break;default:A.vertexAttrib1fv(c,x)}}}}it.disableUnusedAttributes()}}function Rt(e,t){return Math.abs(t[0])-Math.abs(e[0])}function Pt(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.program&&t.material.program&&e.material.program!==t.material.program?e.material.program.id-t.material.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function jt(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function kt(e,t,n,r,i){var o,a;n.transparent?(o=p,a=++y):(o=f,a=++d);var s=o[a];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=n,s.z=de.z,s.group=i):(s={id:e.id,object:e,geometry:t,material:n,z:de.z,group:i},o.push(s))}function Ut(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),he.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),zt(he)}function Ft(e){return he.center.set(0,0,0),he.radius=.7071067811865476,he.applyMatrix4(e.matrixWorld),zt(he)}function zt(e){if(!se.intersectsSphere(e))return!1;var t=ue.numPlanes;if(0===t)return!0;var n=_.clippingPlanes,r=e.center,i=-e.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==t);return!0}function Bt(e,t){if(!1!==e.visible){if(0!==(e.layers.mask&t.layers.mask))if(e.isLight)h.push(e);else if(e.isSprite)!1!==e.frustumCulled&&!0!==Ft(e)||E.push(e);else if(e.isLensFlare)M.push(e);else if(e.isImmediateRenderObject)!0===_.sortObjects&&(de.setFromMatrixPosition(e.matrixWorld),de.applyProjection(fe)),kt(e,null,e.material,de.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===Ut(e))){var n=e.material;if(!0===n.visible){!0===_.sortObjects&&(de.setFromMatrixPosition(e.matrixWorld),de.applyProjection(fe));var r=st.update(e);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,a=0,s=i.length;a<s;a++){var u=i[a],c=o[u.materialIndex];!0===c.visible&&kt(e,r,c,de.z,u)}else kt(e,r,n,de.z,null)}}var l=e.children;for(a=0,s=l.length;a<s;a++)Bt(l[a],t)}}function Gt(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=void 0===r?a.material:r,l=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(_,t,n,u,c,l),s.isImmediateRenderObject){Vt(c);var h=Yt(n,t.fog,c,s);W="",s.render((function(e){_.renderBufferImmediate(e,h,c)}))}else _.renderBufferDirect(n,t.fog,u,c,s,l);s.onAfterRender(_,t,n,u,c,l)}}function Ht(e,t,n){var r=ot.get(e),i=ut.getParameters(e,be,t,ue.numPlanes,ue.numIntersection,n),o=ut.getProgramCode(e,i),a=r.program,s=!0;if(void 0===a)e.addEventListener("dispose",St);else if(a.code!==o)It(e);else{if(void 0!==i.shaderID)return;s=!1}if(s){if(i.shaderID){var u=Sn[i.shaderID];r.__webglShader={name:e.type,uniforms:En.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else r.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=r.__webglShader,a=ut.acquireProgram(e,i,o),r.program=a,e.program=a}var c=a.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var l=0;l<_.maxMorphTargets;l++)c["morphTarget"+l]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,l=0;l<_.maxMorphNormals;l++)c["morphNormal"+l]>=0&&e.numSupportedMorphNormals++;var h=r.__webglShader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=ue.numPlanes,r.numIntersection=ue.numIntersection,h.clippingPlanes=ue.uniform),r.fog=t,r.lightsHash=be.hash,e.lights&&(h.ambientLightColor.value=be.ambient,h.directionalLights.value=be.directional,h.spotLights.value=be.spot,h.rectAreaLights.value=be.rectArea,h.pointLights.value=be.point,h.hemisphereLights.value=be.hemi,h.directionalShadowMap.value=be.directionalShadowMap,h.directionalShadowMatrix.value=be.directionalShadowMatrix,h.spotShadowMap.value=be.spotShadowMap,h.spotShadowMatrix.value=be.spotShadowMatrix,h.pointShadowMap.value=be.pointShadowMap,h.pointShadowMatrix.value=be.pointShadowMatrix);var f=r.program.getUniforms(),d=xn.seqWithValue(f.seq,h);r.uniformsList=d}function Vt(e){e.side===g?it.disable(A.CULL_FACE):it.enable(A.CULL_FACE),it.setFlipSided(e.side===m),!0===e.transparent?it.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):it.setBlending(w),it.setDepthFunc(e.depthFunc),it.setDepthTest(e.depthTest),it.setDepthWrite(e.depthWrite),it.setColorWrite(e.colorWrite),it.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function Yt(e,t,n,r){Z=0;var i=ot.get(n);if(ce&&(le||e!==X)){var o=e===X&&n.id===Y;ue.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t||n.lights&&i.lightsHash!==be.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===ue.numPlanes&&i.numIntersection===ue.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(Ht(n,t,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,c=i.program,l=c.getUniforms(),h=i.__webglShader.uniforms;if(c.id!==T&&(A.useProgram(c.program),T=c.id,a=!0,s=!0,u=!0),n.id!==Y&&(Y=n.id,s=!0),a||e!==X){if(l.set(A,e,"projectionMatrix"),rt.logarithmicDepthBuffer&&l.setValue(A,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==X&&(X=e,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var f=l.map.cameraPosition;void 0!==f&&f.setValue(A,de.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(A,"viewMatrix",e.matrixWorldInverse),l.set(A,_,"toneMappingExposure"),l.set(A,_,"toneMappingWhitePoint")}if(n.skinning){l.setOptional(A,r,"bindMatrix"),l.setOptional(A,r,"bindMatrixInverse");var d=r.skeleton;d&&(rt.floatVertexTextures&&d.useVertexTexture?(l.set(A,d,"boneTexture"),l.set(A,d,"boneTextureWidth"),l.set(A,d,"boneTextureHeight")):l.setOptional(A,d,"boneMatrices"))}return s&&(n.lights&&rn(h,u),t&&n.fog&&Kt(h,t),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&Wt(h,n),n.isLineBasicMaterial?Xt(h,n):n.isLineDashedMaterial?(Xt(h,n),Qt(h,n)):n.isPointsMaterial?qt(h,n):n.isMeshLambertMaterial?Zt(h,n):n.isMeshToonMaterial?$t(h,n):n.isMeshPhongMaterial?Jt(h,n):n.isMeshPhysicalMaterial?tn(h,n):n.isMeshStandardMaterial?en(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&nn(h,n),void 0!==h.ltcMat&&(h.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),xn.upload(A,i.uniformsList,h,_)),l.set(A,r,"modelViewMatrix"),l.set(A,r,"normalMatrix"),l.setValue(A,"modelMatrix",r.matrixWorld),c}function Wt(e,t){var n;if(e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;e.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap&&t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function Xt(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function Qt(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function qt(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*ne,e.scale.value=.5*te,e.map.value=t.map,null!==t.map){var n=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function Kt(e,t){e.fogColor.value=t.color,t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function Zt(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function Jt(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function $t(e,t){Jt(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function en(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function tn(e,t){e.clearCoat.value=t.clearCoat,e.clearCoatRoughness.value=t.clearCoatRoughness,en(e,t)}function nn(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function rn(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLights.needsUpdate=t,e.pointLights.needsUpdate=t,e.spotLights.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function on(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];i.castShadow&&(be.shadows[t++]=i)}be.shadows.length=t}function an(e,t){var n,r,i,o,a,s,u,c=0,l=0,h=0,f=t.matrixWorldInverse,d=0,p=0,m=0,g=0,v=0;for(n=0,r=e.length;n<r;n++)if(o=(i=e[n]).color,a=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)c+=o.r*a,l+=o.g*a,h+=o.b*a;else if(i.isDirectionalLight)(y=ct.get(i)).color.copy(i.color).multiplyScalar(i.intensity),y.direction.setFromMatrixPosition(i.matrixWorld),de.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(de),y.direction.transformDirection(f),y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),be.directionalShadowMap[d]=u,be.directionalShadowMatrix[d]=i.shadow.matrix,be.directional[d++]=y;else if(i.isSpotLight)(y=ct.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),y.color.copy(o).multiplyScalar(a),y.distance=s,y.direction.setFromMatrixPosition(i.matrixWorld),de.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(de),y.direction.transformDirection(f),y.coneCos=Math.cos(i.angle),y.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),be.spotShadowMap[m]=u,be.spotShadowMatrix[m]=i.shadow.matrix,be.spot[m++]=y;else if(i.isRectAreaLight)(y=ct.get(i)).color.copy(o).multiplyScalar(a/(i.width*i.height)),y.position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),me.identity(),pe.copy(i.matrixWorld),pe.premultiply(f),me.extractRotation(pe),y.halfWidth.set(.5*i.width,0,0),y.halfHeight.set(0,.5*i.height,0),y.halfWidth.applyMatrix4(me),y.halfHeight.applyMatrix4(me),be.rectArea[g++]=y;else if(i.isPointLight)(y=ct.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(f),y.color.copy(i.color).multiplyScalar(i.intensity),y.distance=i.distance,y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),be.pointShadowMap[p]=u,void 0===be.pointShadowMatrix[p]&&(be.pointShadowMatrix[p]=new Ot),de.setFromMatrixPosition(i.matrixWorld).negate(),be.pointShadowMatrix[p].identity().setPosition(de),be.point[p++]=y;else if(i.isHemisphereLight){var y;(y=ct.get(i)).direction.setFromMatrixPosition(i.matrixWorld),y.direction.transformDirection(f),y.direction.normalize(),y.skyColor.copy(i.color).multiplyScalar(a),y.groundColor.copy(i.groundColor).multiplyScalar(a),be.hemi[v++]=y}be.ambient[0]=c,be.ambient[1]=l,be.ambient[2]=h,be.directional.length=d,be.spot.length=m,be.rectArea.length=g,be.point.length=p,be.hemi.length=v,be.hash=d+","+p+","+m+","+g+","+v+","+be.shadows.length}function sn(){var e=Z;return e>=rt.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+rt.maxTextures),Z+=1,e}function un(e){var t;if(e===ge)return A.REPEAT;if(e===ve)return A.CLAMP_TO_EDGE;if(e===ye)return A.MIRRORED_REPEAT;if(e===xe)return A.NEAREST;if(e===Ee)return A.NEAREST_MIPMAP_NEAREST;if(e===we)return A.NEAREST_MIPMAP_LINEAR;if(e===Me)return A.LINEAR;if(e===Ae)return A.LINEAR_MIPMAP_NEAREST;if(e===_e)return A.LINEAR_MIPMAP_LINEAR;if(e===Se)return A.UNSIGNED_BYTE;if(e===Pe)return A.UNSIGNED_SHORT_4_4_4_4;if(e===je)return A.UNSIGNED_SHORT_5_5_5_1;if(e===ke)return A.UNSIGNED_SHORT_5_6_5;if(e===Ne)return A.BYTE;if(e===Ce)return A.SHORT;if(e===Ie)return A.UNSIGNED_SHORT;if(e===Le)return A.INT;if(e===De)return A.UNSIGNED_INT;if(e===Oe)return A.FLOAT;if(e===Re&&null!==(t=nt.get("OES_texture_half_float")))return t.HALF_FLOAT_OES;if(e===Fe)return A.ALPHA;if(e===ze)return A.RGB;if(e===Be)return A.RGBA;if(e===Ge)return A.LUMINANCE;if(e===He)return A.LUMINANCE_ALPHA;if(e===Ye)return A.DEPTH_COMPONENT;if(e===We)return A.DEPTH_STENCIL;if(e===C)return A.FUNC_ADD;if(e===I)return A.FUNC_SUBTRACT;if(e===L)return A.FUNC_REVERSE_SUBTRACT;if(e===R)return A.ZERO;if(e===P)return A.ONE;if(e===j)return A.SRC_COLOR;if(e===k)return A.ONE_MINUS_SRC_COLOR;if(e===U)return A.SRC_ALPHA;if(e===F)return A.ONE_MINUS_SRC_ALPHA;if(e===z)return A.DST_ALPHA;if(e===B)return A.ONE_MINUS_DST_ALPHA;if(e===G)return A.DST_COLOR;if(e===H)return A.ONE_MINUS_DST_COLOR;if(e===V)return A.SRC_ALPHA_SATURATE;if((e===Xe||e===Qe||e===qe||e===Ke)&&null!==(t=nt.get("WEBGL_compressed_texture_s3tc"))){if(e===Xe)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Qe)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===qe)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Ke)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===Ze||e===Je||e===$e||e===et)&&null!==(t=nt.get("WEBGL_compressed_texture_pvrtc"))){if(e===Ze)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Je)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===$e)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===et)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===tt&&null!==(t=nt.get("WEBGL_compressed_texture_etc1")))return t.COMPRESSED_RGB_ETC1_WEBGL;if((e===D||e===O)&&null!==(t=nt.get("EXT_blend_minmax"))){if(e===D)return t.MIN_EXT;if(e===O)return t.MAX_EXT}return e===Ue&&null!==(t=nt.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:0}this.getContext=function(){return A},this.getContextAttributes=function(){return A.getContextAttributes()},this.forceContextLoss=function(){nt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return rt.getMaxAnisotropy()},this.getPrecision=function(){return rt.precision},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(e){void 0!==e&&(ne=e,this.setSize(ae.z,ae.w,!1))},this.getSize=function(){return{width:ee,height:te}},this.setSize=function(e,n,r){ee=e,te=n,t.width=e*ne,t.height=n*ne,!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n)},this.setViewport=function(e,t,n,r){it.viewport(ae.set(e,t,n,r))},this.setScissor=function(e,t,n,r){it.scissor(ie.set(e,t,n,r))},this.setScissorTest=function(e){it.setScissorTest(oe=e)},this.getClearColor=function(){return J},this.setClearColor=function(e,t){J.set(e),$=void 0!==t?t:1,it.buffers.color.setClear(J.r,J.g,J.b,$,u)},this.getClearAlpha=function(){return $},this.setClearAlpha=function(e){$=e,it.buffers.color.setClear(J.r,J.g,J.b,$,u)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=A.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=A.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=A.STENCIL_BUFFER_BIT),A.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.resetGLState=wt,this.dispose=function(){p=[],y=-1,f=[],d=-1,t.removeEventListener("webglcontextlost",Tt,!1)},this.renderBufferImmediate=function(e,t,n){it.initAttributes();var r=ot.get(e);e.hasPositions&&!r.position&&(r.position=A.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=A.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=A.createBuffer()),e.hasColors&&!r.color&&(r.color=A.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(A.bindBuffer(A.ARRAY_BUFFER,r.position),A.bufferData(A.ARRAY_BUFFER,e.positionArray,A.DYNAMIC_DRAW),it.enableAttribute(i.position),A.vertexAttribPointer(i.position,3,A.FLOAT,!1,0,0)),e.hasNormals){if(A.bindBuffer(A.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===v)for(var o=0,a=3*e.count;o<a;o+=9){var s=e.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,c=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=c,s[o+2]=l,s[o+3]=u,s[o+4]=c,s[o+5]=l,s[o+6]=u,s[o+7]=c,s[o+8]=l}A.bufferData(A.ARRAY_BUFFER,e.normalArray,A.DYNAMIC_DRAW),it.enableAttribute(i.normal),A.vertexAttribPointer(i.normal,3,A.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(A.bindBuffer(A.ARRAY_BUFFER,r.uv),A.bufferData(A.ARRAY_BUFFER,e.uvArray,A.DYNAMIC_DRAW),it.enableAttribute(i.uv),A.vertexAttribPointer(i.uv,2,A.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==b&&(A.bindBuffer(A.ARRAY_BUFFER,r.color),A.bufferData(A.ARRAY_BUFFER,e.colorArray,A.DYNAMIC_DRAW),it.enableAttribute(i.color),A.vertexAttribPointer(i.color,3,A.FLOAT,!1,0,0)),it.disableUnusedAttributes(),A.drawArrays(A.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){Vt(r);var a=Yt(e,t,r,i),s=!1,u=n.id+"_"+a.id+"_"+r.wireframe;u!==W&&(W=u,s=!0);var c=i.morphTargetInfluences;if(void 0!==c){for(var l=[],h=0,f=c.length;h<f;h++){var d=c[h];l.push([d,h])}l.sort(Rt),l.length>8&&(l.length=8);var p=n.morphAttributes;for(h=0,f=l.length;h<f;h++)if(d=l[h],x[h]=d[0],0!==d[0]){var m=d[1];!0===r.morphTargets&&p.position&&n.addAttribute("morphTarget"+h,p.position[m]),!0===r.morphNormals&&p.normal&&n.addAttribute("morphNormal"+h,p.normal[m])}else!0===r.morphTargets&&n.removeAttribute("morphTarget"+h),!0===r.morphNormals&&n.removeAttribute("morphNormal"+h);h=l.length;for(var g=x.length;h<g;h++)x[h]=0;a.getUniforms().setValue(A,"morphTargetInfluences",x),s=!0}m=n.index;var v,y=n.attributes.position,b=1;!0===r.wireframe&&(m=st.getWireframeAttribute(n),b=2),null!==m?(v=pt).setIndex(m):v=lt,s&&(Lt(r,a,n),null!==m&&A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,st.getAttributeBuffer(m)));var E=0;null!==m?E=m.count:void 0!==y&&(E=y.count);var w=n.drawRange.start*b,M=n.drawRange.count*b,_=null!==o?o.start*b:0,T=null!==o?o.count*b:1/0,S=Math.max(w,_),N=Math.min(E,w+M,_+T)-1,C=Math.max(0,N-S+1);if(0!==C){if(i.isMesh)if(!0===r.wireframe)it.setLineWidth(r.wireframeLinewidth*xt()),v.setMode(A.LINES);else switch(i.drawMode){case ht:v.setMode(A.TRIANGLES);break;case ft:v.setMode(A.TRIANGLE_STRIP);break;case dt:v.setMode(A.TRIANGLE_FAN)}else if(i.isLine){var I=r.linewidth;void 0===I&&(I=1),it.setLineWidth(I*xt()),i.isLineSegments?v.setMode(A.LINES):v.setMode(A.LINE_STRIP)}else i.isPoints&&v.setMode(A.POINTS);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,S,C):v.render(S,C)}},this.render=function(e,t,n,r){if(void 0===t||!0===t.isCamera){W="",Y=-1,X=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),fe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),se.setFromMatrix(fe),h.length=0,d=-1,y=-1,E.length=0,M.length=0,le=this.localClippingEnabled,ce=ue.init(this.clippingPlanes,le,t),Bt(e,t),f.length=d+1,p.length=y+1,!0===_.sortObjects&&(f.sort(Pt),p.sort(jt)),ce&&ue.beginShadows(),on(h),Mt.render(e,t),an(h,t),ce&&ue.endShadows(),Te.calls=0,Te.vertices=0,Te.faces=0,Te.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=e.background;if(null===i?it.buffers.color.setClear(J.r,J.g,J.b,$,u):i&&i.isColor&&(it.buffers.color.setClear(i.r,i.g,i.b,1,u),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(gt.projectionMatrix.copy(t.projectionMatrix),gt.matrixWorld.extractRotation(t.matrixWorld),gt.matrixWorldInverse.getInverse(gt.matrixWorld),bt.material.uniforms.tCube.value=i,bt.modelViewMatrix.multiplyMatrices(gt.matrixWorldInverse,bt.matrixWorld),st.update(bt),_.renderBufferDirect(gt,null,bt.geometry,bt.material,bt,null)):i&&i.isTexture&&(vt.material.map=i,st.update(vt),_.renderBufferDirect(mt,null,vt.geometry,vt.material,vt,null)),e.overrideMaterial){var o=e.overrideMaterial;Gt(f,e,t,o),Gt(p,e,t,o)}else it.setBlending(w),Gt(f,e,t),Gt(p,e,t);At.render(e,t),_t.render(e,t,K),n&&at.updateRenderTargetMipmap(n),it.setDepthTest(!0),it.setDepthWrite(!0),it.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(e,t){it.setCullFace(e),it.setFlipSided(t===c)},this.allocTextureUnit=sn,this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),at.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),at.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?at.setTextureCube(t,n):at.setTextureCubeDynamic(t,n)}}(),this.getCurrentRenderTarget=function(){return S},this.setRenderTarget=function(e){S=e,e&&void 0===ot.get(e).__webglFramebuffer&&at.setupRenderTarget(e);var t,n=e&&e.isWebGLRenderTargetCube;if(e){var r=ot.get(e);t=n?r.__webglFramebuffer[e.activeCubeFace]:r.__webglFramebuffer,Q.copy(e.scissor),q=e.scissorTest,K.copy(e.viewport)}else t=null,Q.copy(ie).multiplyScalar(ne),q=oe,K.copy(ae).multiplyScalar(ne);if(N!==t&&(A.bindFramebuffer(A.FRAMEBUFFER,t),N=t),it.scissor(Q),it.setScissorTest(q),it.viewport(K),n){var i=ot.get(e.texture);A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,i.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(!1!==(e&&e.isWebGLRenderTarget)){var a=ot.get(e).__webglFramebuffer;if(a){var s=!1;a!==N&&(A.bindFramebuffer(A.FRAMEBUFFER,a),s=!0);try{var u=e.texture,c=u.format,l=u.type;if(c!==Be&&un(c)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(l!==Se&&un(l)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==Oe||!nt.get("OES_texture_float")&&!nt.get("WEBGL_color_buffer_float"))&&(l!==Re||!nt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");A.checkFramebufferStatus(A.FRAMEBUFFER)===A.FRAMEBUFFER_COMPLETE?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&A.readPixels(t,n,r,i,un(c),un(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&A.bindFramebuffer(A.FRAMEBUFFER,N)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function Yr(e,t){this.name="",this.color=new Mn(e),this.density=void 0!==t?t:25e-5}function Wr(e,t,n){this.name="",this.color=new Mn(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Xr(){Yn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Qr(e,t,n,r,i){Yn.call(this),this.lensFlares=[],this.positionScreen=new Dt,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function qr(e){Dn.call(this),this.type="SpriteMaterial",this.color=new Mn(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(e)}function Kr(e){Yn.call(this),this.type="Sprite",this.material=void 0!==e?e:new qr}function Zr(){Yn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Jr(e,t,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new Ot,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=At.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new _n(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Be,Oe)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new Ot)}}function $r(){Yn.call(this),this.type="Bone"}function ei(e,t,n){hr.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new $r,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Jr(r,void 0,n),this.matrixWorld)}function ti(e){Dn.call(this),this.type="LineBasicMaterial",this.color=new Mn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(e)}function ni(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new ri(e,t);Yn.call(this),this.type="Line",this.geometry=void 0!==e?e:new lr,this.material=void 0!==t?t:new ti({color:16777215*Math.random()})}function ri(e,t){ni.call(this,e,t),this.type="LineSegments"}function ii(e){Dn.call(this),this.type="PointsMaterial",this.color=new Mn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function oi(e,t){Yn.call(this),this.type="Points",this.geometry=void 0!==e?e:new lr,this.material=void 0!==t?t:new ii({color:16777215*Math.random()})}function ai(){Yn.call(this),this.type="Group"}function si(e,t,n,r,i,o,a,s,u){St.call(this,e,t,n,r,i,o,a,s,u),this.generateMipmaps=!1;var c=this;function l(){requestAnimationFrame(l),e.readyState>=e.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}l()}function ui(e,t,n,r,i,o,a,s,u,c,l,h){St.call(this,null,o,a,s,u,c,r,i,l,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function ci(e,t,n,r,i,o,a,s,u){St.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function li(e,t,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:Ye)!==Ye&&c!==We)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ye&&(n=Ie),void 0===n&&c===We&&(n=Ue),St.call(this,null,r,i,o,a,s,c,n,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function hi(e){lr.call(this);var t=[0,0],n={};function r(e,t){return e-t}var i=["a","b","c"];if(e&&e.isGeometry){for(var o=e.vertices,a=e.faces,s=0,u=new Uint32Array(6*a.length),c=0,l=a.length;c<l;c++)for(var h=a[c],f=0;f<3;f++)t[0]=h[i[f]],t[1]=h[i[(f+1)%3]],t.sort(r),void 0===n[w=t.toString()]&&(u[2*s]=t[0],u[2*s+1]=t[1],n[w]=!0,s++);var d=new Float32Array(2*s*3);for(c=0,l=s;c<l;c++)for(f=0;f<2;f++){var p=o[u[2*c+f]];d[0+(M=6*c+3*f)]=p.x,d[M+1]=p.y,d[M+2]=p.z}this.addAttribute("position",new Kn(d,3))}else if(e&&e.isBufferGeometry)if(null!==e.index){var m=e.index.array,g=(o=e.attributes.position,e.groups);s=0,0===g.length&&e.addGroup(0,m.length),u=new Uint32Array(2*m.length);for(var v=0,y=g.length;v<y;++v)for(var b=g[v],x=b.start,E=(c=x,x+b.count);c<E;c+=3)for(f=0;f<3;f++){var w;t[0]=m[c+f],t[1]=m[c+(f+1)%3],t.sort(r),void 0===n[w=t.toString()]&&(u[2*s]=t[0],u[2*s+1]=t[1],n[w]=!0,s++)}for(d=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(f=0;f<2;f++){var M=6*c+3*f,A=u[2*c+f];d[M+0]=o.getX(A),d[M+1]=o.getY(A),d[M+2]=o.getZ(A)}this.addAttribute("position",new Kn(d,3))}else{var _=(s=(o=e.attributes.position.array).length/3)/3;for(d=new Float32Array(2*s*3),c=0,l=_;c<l;c++)for(f=0;f<3;f++){var T=9*c+3*f;d[0+(M=18*c+6*f)]=o[T],d[M+1]=o[T+1],d[M+2]=o[T+2],A=9*c+(f+1)%3*3,d[M+3]=o[A],d[M+4]=o[A+1],d[M+5]=o[A+2]}this.addAttribute("position",new Kn(d,3))}}function fi(e,t,n){lr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o,a,s,u=[],c=[],l=t+1;for(r=0;r<=n;r++)for(s=r/n,i=0;i<=t;i++)o=e(a=i/t,s),u.push(o.x,o.y,o.z),c.push(a,s);var h,f,d,p,m=[];for(r=0;r<n;r++)for(i=0;i<t;i++)h=r*l+i,f=r*l+i+1,d=(r+1)*l+i+1,p=(r+1)*l+i,m.push(h,f,p),m.push(f,d,p);this.setIndex(new(m.length>65535?rr:tr)(m,1)),this.addAttribute("position",new ir(u,3)),this.addAttribute("uv",new ir(c,2)),this.computeVertexNormals()}function di(e,t,n){sr.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new fi(e,t,n)),this.mergeVertices()}function pi(e,t,n,r){lr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e){for(var n=new Dt,r=new Dt,i=new Dt,o=0;o<t.length;o+=3)f(t[o+0],n),f(t[o+1],r),f(t[o+2],i),s(n,r,i,e)}function s(e,t,n,r){var i,o,a=Math.pow(2,r),s=[];for(i=0;i<=a;i++){s[i]=[];var u=e.clone().lerp(n,i/a),c=t.clone().lerp(n,i/a),l=a-i;for(o=0;o<=l;o++)s[i][o]=0===o&&i===a?u:u.clone().lerp(c,o/l)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var f=Math.floor(o/2);o%2===0?(h(s[i][f+1]),h(s[i+1][f]),h(s[i][f])):(h(s[i][f+1]),h(s[i+1][f+1]),h(s[i+1][f]))}}function u(e){for(var t=new Dt,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}function c(){for(var e=new Dt,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=m(e)/2/Math.PI+.5,r=g(e)/Math.PI+.5;o.push(n,1-r)}d(),l()}function l(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}function h(e){i.push(e.x,e.y,e.z)}function f(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function d(){for(var e=new Dt,t=new Dt,n=new Dt,r=new Dt,a=new _t,s=new _t,u=new _t,c=0,l=0;c<i.length;c+=9,l+=6){e.set(i[c+0],i[c+1],i[c+2]),t.set(i[c+3],i[c+4],i[c+5]),n.set(i[c+6],i[c+7],i[c+8]),a.set(o[l+0],o[l+1]),s.set(o[l+2],o[l+3]),u.set(o[l+4],o[l+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=m(r);p(a,l+0,e,h),p(s,l+2,t,h),p(u,l+4,n,h)}}function p(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}a(r=r||0),u(n),c(),this.addAttribute("position",new ir(i,3)),this.addAttribute("normal",new ir(i.slice(),3)),this.addAttribute("uv",new ir(o,2)),this.normalizeNormals(),this.boundingSphere=new jn(new Dt,n)}function mi(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];pi.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function gi(e,t){sr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new mi(e,t)),this.mergeVertices()}function vi(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];pi.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function yi(e,t){sr.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new vi(e,t)),this.mergeVertices()}function bi(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];pi.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function xi(e,t){sr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new bi(e,t)),this.mergeVertices()}function Ei(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];pi.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function wi(e,t){sr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ei(e,t)),this.mergeVertices()}function Mi(e,t,n,r){sr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new pi(e,t,n,r)),this.mergeVertices()}function Ai(e,t,n,r,i){lr.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,u=new Dt,c=new Dt,l=new _t,h=[],f=[],d=[],p=[];function m(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),y(),v()}function g(i){var a=e.getPointAt(i/t),l=o.normals[i],d=o.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);c.x=g*l.x+m*d.x,c.y=g*l.y+m*d.y,c.z=g*l.z+m*d.z,c.normalize(),f.push(c.x,c.y,c.z),u.x=a.x+n*c.x,u.y=a.y+n*c.y,u.z=a.z+n*c.z,h.push(u.x,u.y,u.z)}}function v(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;p.push(e,n,o),p.push(n,i,o)}}function y(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)l.x=a/t,l.y=s/r,d.push(l.x,l.y)}m(),this.setIndex(new(p.length>65535?rr:tr)(p,1)),this.addAttribute("position",new ir(h,3)),this.addAttribute("normal",new ir(f,3)),this.addAttribute("uv",new ir(d,2))}function _i(e,t,n,r,i,o){sr.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Ai(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Ti(e,t,n,r,i,o){lr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||100,t=t||40,n=Math.floor(n)||64,i=i||2,o=o||3;var a,s,u=((r=Math.floor(r)||8)+1)*(n+1),c=r*n*2*3,l=new Kn(new(c>65535?Uint32Array:Uint16Array)(c),1),h=new Kn(new Float32Array(3*u),3),f=new Kn(new Float32Array(3*u),3),d=new Kn(new Float32Array(2*u),2),p=0,m=0,g=new Dt,v=new Dt,y=new _t,b=new Dt,x=new Dt,E=new Dt,w=new Dt,M=new Dt;for(a=0;a<=n;++a){var A=a/n*i*Math.PI*2;for(D(A,i,o,e,b),D(A+.01,i,o,e,x),w.subVectors(x,b),M.addVectors(x,b),E.crossVectors(w,M),M.crossVectors(E,w),E.normalize(),M.normalize(),s=0;s<=r;++s){var _=s/r*Math.PI*2,T=-t*Math.cos(_),S=t*Math.sin(_);g.x=b.x+(T*M.x+S*E.x),g.y=b.y+(T*M.y+S*E.y),g.z=b.z+(T*M.z+S*E.z),h.setXYZ(p,g.x,g.y,g.z),v.subVectors(g,b).normalize(),f.setXYZ(p,v.x,v.y,v.z),y.x=a/n,y.y=s/r,d.setXY(p,y.x,y.y),p++}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var N=(r+1)*(s-1)+(a-1),C=(r+1)*s+(a-1),I=(r+1)*s+a,L=(r+1)*(s-1)+a;l.setX(m,N),m++,l.setX(m,C),m++,l.setX(m,L),m++,l.setX(m,C),m++,l.setX(m,I),m++,l.setX(m,L),m++}function D(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",h),this.addAttribute("normal",f),this.addAttribute("uv",d)}function Si(e,t,n,r,i,o,a){sr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Ti(e,t,n,r,i,o)),this.mergeVertices()}function Ni(e,t,n,r,i){lr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=(n+1)*(r+1),u=n*r*2*3,c=new(u>65535?Uint32Array:Uint16Array)(u),l=new Float32Array(3*s),h=new Float32Array(3*s),f=new Float32Array(2*s),d=0,p=0,m=0,g=new Dt,v=new Dt,y=new Dt;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var b=a/r*i,x=o/n*Math.PI*2;v.x=(e+t*Math.cos(x))*Math.cos(b),v.y=(e+t*Math.cos(x))*Math.sin(b),v.z=t*Math.sin(x),l[d]=v.x,l[d+1]=v.y,l[d+2]=v.z,g.x=e*Math.cos(b),g.y=e*Math.sin(b),y.subVectors(v,g).normalize(),h[d]=y.x,h[d+1]=y.y,h[d+2]=y.z,f[p]=a/r,f[p+1]=o/n,d+=3,p+=2}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var E=(r+1)*o+a-1,w=(r+1)*(o-1)+a-1,M=(r+1)*(o-1)+a,A=(r+1)*o+a;c[m]=E,c[m+1]=w,c[m+2]=A,c[m+3]=w,c[m+4]=M,c[m+5]=A,m+=6}this.setIndex(new Kn(c,1)),this.addAttribute("position",new Kn(l,3)),this.addAttribute("normal",new Kn(h,3)),this.addAttribute("uv",new Kn(f,2))}function Ci(e,t,n,r,i){sr.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ni(e,t,n,r,i))}Yr.prototype.isFogExp2=!0,Yr.prototype.clone=function(){return new Yr(this.color.getHex(),this.density)},Yr.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Wr.prototype.isFog=!0,Wr.prototype.clone=function(){return new Wr(this.color.getHex(),this.near,this.far)},Wr.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Xr.prototype=Object.create(Yn.prototype),Xr.prototype.constructor=Xr,Xr.prototype.copy=function(e,t){return Yn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},Xr.prototype.toJSON=function(e){var t=Yn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},Qr.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Qr,isLensFlare:!0,copy:function(e){Yn.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Mn(16777215)),void 0===r&&(r=M),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),qr.prototype=Object.create(Dn.prototype),qr.prototype.constructor=qr,qr.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},Kr.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Kr,isSprite:!0,raycast:function(){var e=new Dt;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Zr.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Zr,copy:function(e){Yn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new Dt;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new Dt,t=new Dt;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(e){var t=Yn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Object.assign(Jr.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Ot;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e,t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new Ot;return function(){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new Jr(this.bones,this.boneInverses,this.useVertexTexture)}}),$r.prototype=Object.assign(Object.create(Yn.prototype),{constructor:$r,isBone:!0}),ei.prototype=Object.assign(Object.create(hr.prototype),{constructor:ei,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e];(i=1/t.lengthManhattan())!==1/0?t.multiplyScalar(i):t.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new Nt,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++){var i;n.x=r.getX(e),n.y=r.getY(e),n.z=r.getZ(e),n.w=r.getW(e),(i=1/n.lengthManhattan())!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(e,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(e){hr.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),ti.prototype=Object.create(Dn.prototype),ti.prototype.constructor=ti,ti.prototype.isLineBasicMaterial=!0,ti.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},ni.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ni,isLine:!0,raycast:function(){var e=new Ot,t=new Bn,n=new jn;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var c=new Dt,l=new Dt,h=new Dt,f=new Dt,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var p=s.index,m=s.attributes.position.array;if(null!==p)for(var g=p.array,v=0,y=g.length-1;v<y;v+=d){var b=g[v],x=g[v+1];c.fromArray(m,3*b),l.fromArray(m,3*x),t.distanceSqToSegment(c,l,f,h)>a||(f.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(f))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else for(v=0,y=m.length/3-1;v<y;v+=d)c.fromArray(m,3*v),l.fromArray(m,3*v+3),t.distanceSqToSegment(c,l,f,h)>a||(f.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(f))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}else if(s.isGeometry){var E=s.vertices,w=E.length;for(v=0;v<w-1;v+=d){var M;t.distanceSqToSegment(E[v],E[v+1],f,h)>a||(f.applyMatrix4(this.matrixWorld),(M=r.ray.origin.distanceTo(f))<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ri.prototype=Object.assign(Object.create(ni.prototype),{constructor:ri,isLineSegments:!0}),ii.prototype=Object.create(Dn.prototype),ii.prototype.constructor=ii,ii.prototype.isPointsMaterial=!0,ii.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},oi.prototype=Object.assign(Object.create(Yn.prototype),{constructor:oi,isPoints:!0,raycast:function(){var e=new Ot,t=new Bn,n=new jn;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new Dt;if(a.isBufferGeometry){var f=a.index,d=a.attributes.position.array;if(null!==f)for(var p=f.array,m=0,g=p.length;m<g;m++){var v=p[m];h.fromArray(d,3*v),x(h,v)}else{m=0;for(var y=d.length/3;m<y;m++)h.fromArray(d,3*m),x(h,m)}}else{var b=a.vertices;for(m=0,y=b.length;m<y;m++)x(b[m],m)}}function x(e,n){var a=t.distanceSqToPoint(e);if(a<l){var u=t.closestPointToPoint(e);u.applyMatrix4(s);var c=r.ray.origin.distanceTo(u);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(a),point:u.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ai.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ai}),si.prototype=Object.create(St.prototype),si.prototype.constructor=si,ui.prototype=Object.create(St.prototype),ui.prototype.constructor=ui,ui.prototype.isCompressedTexture=!0,ci.prototype=Object.create(St.prototype),ci.prototype.constructor=ci,li.prototype=Object.create(St.prototype),li.prototype.constructor=li,li.prototype.isDepthTexture=!0,hi.prototype=Object.create(lr.prototype),hi.prototype.constructor=hi,fi.prototype=Object.create(lr.prototype),fi.prototype.constructor=fi,di.prototype=Object.create(sr.prototype),di.prototype.constructor=di,pi.prototype=Object.create(lr.prototype),pi.prototype.constructor=pi,mi.prototype=Object.create(pi.prototype),mi.prototype.constructor=mi,gi.prototype=Object.create(sr.prototype),gi.prototype.constructor=gi,vi.prototype=Object.create(pi.prototype),vi.prototype.constructor=vi,yi.prototype=Object.create(sr.prototype),yi.prototype.constructor=yi,bi.prototype=Object.create(pi.prototype),bi.prototype.constructor=bi,xi.prototype=Object.create(sr.prototype),xi.prototype.constructor=xi,Ei.prototype=Object.create(pi.prototype),Ei.prototype.constructor=Ei,wi.prototype=Object.create(sr.prototype),wi.prototype.constructor=wi,Mi.prototype=Object.create(sr.prototype),Mi.prototype.constructor=Mi,Ai.prototype=Object.create(lr.prototype),Ai.prototype.constructor=Ai,_i.prototype=Object.create(sr.prototype),_i.prototype.constructor=_i,Ti.prototype=Object.create(lr.prototype),Ti.prototype.constructor=Ti,Si.prototype=Object.create(sr.prototype),Si.prototype.constructor=Si,Ni.prototype=Object.create(lr.prototype),Ni.prototype.constructor=Ni,Ci.prototype=Object.create(sr.prototype),Ci.prototype.constructor=Ci;var Ii={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,f,d,p,m,g,v,y,b,x,E,w;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,(c-s)*((f=e[o[r]].y)-u)-(l-u)*(h-s)<=0)return!1;for(m=h-c,g=f-l,v=s-h,y=u-f,b=c-s,x=l-u,a=0;a<i;a++)if(d=e[o[a]].x,p=e[o[a]].y,!(d===s&&p===u||d===c&&p===l||d===h&&p===f)&&(E=b*(p-u)-x*(d-s),w=v*(p-f)-y*(d-h),m*(p-l)-g*(d-c)>=-Number.EPSILON&&w>=-Number.EPSILON&&E>=-Number.EPSILON))return!1;return!0}return function(t,n){var r=t.length;if(r<3)return null;var i,o,a,s=[],u=[],c=[];if(Ii.area(t)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,h=2*l;for(o=l-1;l>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:s;if(l<=(i=o)&&(i=0),l<=(o=i+1)&&(o=0),l<=(a=o+1)&&(a=0),e(t,i,o,a,l,u)){var f,d,p,m,g;for(f=u[i],d=u[o],p=u[a],s.push([t[f],t[d],t[p]]),c.push([u[i],u[o],u[a]]),m=o,g=o+1;g<l;m++,g++)u[m]=u[g];h=2*--l}}return n?c:s}}(),triangulateShape:function(e,t){function n(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function i(e,t,n,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-n.x,c=i.y-n.y,l=e.x-n.x,h=e.y-n.y,f=s*u-a*c,d=s*l-a*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if((p=c*l-u*h)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=c*l-u*h)>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[e]:[];if(p===f)return!o||0!==d&&d!==f?[t]:[];if(0===d)return[n];if(d===f)return[i];var m=p/f;return[{x:e.x+m*a,y:e.y+m*s}]}if(0!==d||c*l!==u*h)return[];var g,v,y,b,x,E,w,M,A=0===a&&0===s,_=0===u&&0===c;return A&&_?e.x!==n.x||e.y!==n.y?[]:[e]:A?r(n,i,e)?[e]:[]:_?r(e,t,n)?[n]:[]:(0!==a?(e.x<t.x?(g=e,y=e.x,v=t,b=t.x):(g=t,y=t.x,v=e,b=e.x),n.x<i.x?(x=n,w=n.x,E=i,M=i.x):(x=i,w=i.x,E=n,M=n.x)):(e.y<t.y?(g=e,y=e.y,v=t,b=t.y):(g=t,y=t.y,v=e,b=e.y),n.y<i.y?(x=n,w=n.y,E=i,M=i.y):(x=i,w=i.y,E=n,M=n.y)),y<=w?b<w?[]:b===w?o?[]:[x]:b<=M?[x,v]:[x,E]:y>M?[]:y===M?o?[]:[g]:b<=M?[g,v]:[g,E])}function o(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function a(e,t){var n,r=e.concat();function a(e,t){var i=r.length-1,a=e-1;a<0&&(a=i);var s=e+1;s>i&&(s=0);var u=o(r[e],r[a],r[s],n[t]);if(!u)return!1;var c=n.length-1,l=t-1;l<0&&(l=c);var h=t+1;return h>c&&(h=0),!!(u=o(n[t],n[l],n[h],r[e]))}function s(e,t){var n,o;for(n=0;n<r.length;n++)if(o=n+1,o%=r.length,i(e,t,r[n],r[o],!0).length>0)return!0;return!1}var u=[];function c(e,n){var r,o,a,s;for(r=0;r<u.length;r++)for(o=t[u[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,i(e,n,o[a],o[s],!0).length>0)return!0;return!1}for(var l,h,f,d,p,m,g,v,y,b,x=[],E=0,w=t.length;E<w;E++)u.push(E);for(var M=0,A=2*u.length;u.length>0;){if(--A<0){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(h=M;h<r.length;h++){for(f=r[h],l=-1,E=0;E<u.length;E++)if(p=u[E],void 0===x[m=f.x+":"+f.y+":"+p]){n=t[p];for(var _=0;_<n.length;_++)if(d=n[_],a(h,_)&&!s(f,d)&&!c(f,d)){l=_,u.splice(E,1),g=r.slice(0,h+1),v=r.slice(h),y=n.slice(l),b=n.slice(0,l+1),r=g.concat(y).concat(b).concat(v),M=h;break}if(l>=0)break;x[m]=!0}if(l>=0)break}}return r}n(e),t.forEach(n);for(var s,u,c,l,h,f,d={},p=e.concat(),m=0,g=t.length;m<g;m++)Array.prototype.push.apply(p,t[m]);for(s=0,u=p.length;s<u;s++)void 0!==d[h=p[s].x+":"+p[s].y]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),d[h]=s;var v=a(e,t),y=Ii.triangulate(v,!1);for(s=0,u=y.length;s<u;s++)for(l=y[s],c=0;c<3;c++)void 0!==(f=d[h=l[c].x+":"+l[c].y])&&(l[c]=f);return y.concat()},isClockWise:function(e){return Ii.area(e)<0},b2:function(){function e(e,t){var n=1-e;return n*n*t}function t(e,t){return 2*(1-e)*e*t}function n(e,t){return e*e*t}return function(r,i,o,a){return e(r,i)+t(r,o)+n(r,a)}}(),b3:function(){function e(e,t){var n=1-e;return n*n*n*t}function t(e,t){var n=1-e;return 3*n*n*e*t}function n(e,t){return 3*(1-e)*e*e*t}function r(e,t){return e*e*e*t}return function(i,o,a,s,u){return e(i,o)+t(i,a)+n(i,s)+r(i,u)}}()};function Li(e,t){"undefined"!==typeof e?(sr.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeFaceNormals()):e=[]}function Di(e,t){var n=(t=t||{}).font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new sr;var r=n.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Li.call(this,r,t),this.type="TextGeometry"}function Oi(e,t,n,r,i,o,a){lr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;for(var s=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),u=(t+1)*(n+1),c=new Kn(new Float32Array(3*u),3),l=new Kn(new Float32Array(3*u),3),h=new Kn(new Float32Array(2*u),2),f=0,d=[],p=new Dt,m=0;m<=n;m++){for(var g=[],v=m/n,y=0;y<=t;y++){var b=y/t,x=-e*Math.cos(r+b*i)*Math.sin(o+v*a),E=e*Math.cos(o+v*a),w=e*Math.sin(r+b*i)*Math.sin(o+v*a);p.set(x,E,w).normalize(),c.setXYZ(f,x,E,w),l.setXYZ(f,p.x,p.y,p.z),h.setXY(f,b,1-v),g.push(f),f++}d.push(g)}var M=[];for(m=0;m<n;m++)for(y=0;y<t;y++){var A=d[m][y+1],_=d[m][y],T=d[m+1][y],S=d[m+1][y+1];(0!==m||o>0)&&M.push(A,_,S),(m!==n-1||s<Math.PI)&&M.push(_,T,S)}this.setIndex(new(c.count>65535?rr:tr)(M,1)),this.addAttribute("position",c),this.addAttribute("normal",l),this.addAttribute("uv",h),this.boundingSphere=new jn(new Dt,e)}function Ri(e,t,n,r,i,o,a){sr.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Oi(e,t,n,r,i,o,a))}function Pi(e,t,n,r,i,o){lr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||20,t=t||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;var a,s,u,c=((n=void 0!==n?Math.max(3,n):8)+1)*((r=void 0!==r?Math.max(1,r):1)+1),l=n*r*2*3,h=new Kn(new(l>65535?Uint32Array:Uint16Array)(l),1),f=new Kn(new Float32Array(3*c),3),d=new Kn(new Float32Array(3*c),3),p=new Kn(new Float32Array(2*c),2),m=0,g=0,v=e,y=(t-e)/r,b=new Dt,x=new _t;for(s=0;s<=r;s++){for(u=0;u<=n;u++)a=i+u/n*o,b.x=v*Math.cos(a),b.y=v*Math.sin(a),f.setXYZ(m,b.x,b.y,b.z),d.setXYZ(m,0,0,1),x.x=(b.x/t+1)/2,x.y=(b.y/t+1)/2,p.setXY(m,x.x,x.y),m++;v+=y}for(s=0;s<r;s++){var E=s*(n+1);for(u=0;u<n;u++){var w=a=u+E,M=a+n+1,A=a+n+2,_=a+1;h.setX(g,w),g++,h.setX(g,M),g++,h.setX(g,A),g++,h.setX(g,w),g++,h.setX(g,A),g++,h.setX(g,_),g++}}this.setIndex(h),this.addAttribute("position",f),this.addAttribute("normal",d),this.addAttribute("uv",p)}function ji(e,t,n,r,i,o){sr.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Pi(e,t,n,r,i,o))}function ki(e,t,n,r){sr.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new dr(e,t,n,r))}function Ui(e,t,n,r){lr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=At.clamp(r,0,2*Math.PI);var i,o,a,s=(t+1)*e.length,u=t*e.length*2*3,c=new Kn(new(u>65535?Uint32Array:Uint16Array)(u),1),l=new Kn(new Float32Array(3*s),3),h=new Kn(new Float32Array(2*s),2),f=0,d=0,p=1/t,m=new Dt,g=new _t;for(o=0;o<=t;o++){var v=n+o*p*r,y=Math.sin(v),b=Math.cos(v);for(a=0;a<=e.length-1;a++)m.x=e[a].x*y,m.y=e[a].y,m.z=e[a].x*b,l.setXYZ(f,m.x,m.y,m.z),g.x=o/t,g.y=a/(e.length-1),h.setXY(f,g.x,g.y),f++}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var x=i=a+o*e.length,E=i+e.length,w=i+e.length+1,M=i+1;c.setX(d,x),d++,c.setX(d,E),d++,c.setX(d,M),d++,c.setX(d,E),d++,c.setX(d,w),d++,c.setX(d,M),d++}if(this.setIndex(c),this.addAttribute("position",l),this.addAttribute("uv",h),this.computeVertexNormals(),r===2*Math.PI){var A=this.attributes.normal.array,_=new Dt,T=new Dt,S=new Dt;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)_.x=A[a+0],_.y=A[a+1],_.z=A[a+2],T.x=A[i+a+0],T.y=A[i+a+1],T.z=A[i+a+2],S.addVectors(_,T).normalize(),A[a+0]=A[i+a+0]=S.x,A[a+1]=A[i+a+1]=S.y,A[a+2]=A[i+a+2]=S.z}}function Fi(e,t,n,r){sr.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Ui(e,t,n,r)),this.mergeVertices()}function zi(e,t){lr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var u=0;u<e.length;u++)c(e[u]),this.addGroup(a,s,u),a+=s,s=0;function c(e){var a,u,c,l=n.length/3,h=e.extractPoints(t),f=h.shape,d=h.holes;if(!1===Ii.isClockWise(f))for(f=f.reverse(),a=0,u=d.length;a<u;a++)c=d[a],!0===Ii.isClockWise(c)&&(d[a]=c.reverse());var p=Ii.triangulateShape(f,d);for(a=0,u=d.length;a<u;a++)c=d[a],f=f.concat(c);for(a=0,u=f.length;a<u;a++){var m=f[a];n.push(m.x,m.y,0),r.push(0,0,1),i.push(m.x,m.y)}for(a=0,u=p.length;a<u;a++){var g=p[a],v=g[0]+l,y=g[1]+l,b=g[2]+l;o.push(v,y,b),s+=3}}this.setIndex(new(o.length>65535?rr:tr)(o,1)),this.addAttribute("position",new ir(n,3)),this.addAttribute("normal",new ir(r,3)),this.addAttribute("uv",new ir(i,2))}function Bi(e,t){sr.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new zi(e,t)),this.mergeVertices()}function Gi(e,t){lr.call(this),t=void 0!==t?t:1;var n=Math.cos(At.DEG2RAD*t),r=[0,0],i={};function o(e,t){return e-t}var a,s=["a","b","c"];e.isBufferGeometry?(a=new sr).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,c=a.faces,l=0,h=c.length;l<h;l++)for(var f=c[l],d=0;d<3;d++)r[0]=f[s[d]],r[1]=f[s[(d+1)%3]],r.sort(o),void 0===i[m=r.toString()]?i[m]={vert1:r[0],vert2:r[1],face1:l,face2:void 0}:i[m].face2=l;var p=[];for(var m in i){var g=i[m];if(void 0===g.face2||c[g.face1].normal.dot(c[g.face2].normal)<=n){var v=u[g.vert1];p.push(v.x),p.push(v.y),p.push(v.z),v=u[g.vert2],p.push(v.x),p.push(v.y),p.push(v.z)}}this.addAttribute("position",new ir(p,3))}function Hi(e,t,n,r,i,o,a,s){lr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var u=this;e=void 0!==e?e:20,t=void 0!==t?t:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=0;!1===o&&(e>0&&c++,t>0&&c++);var l=E(),h=w(),f=new Kn(new(h>65535?Uint32Array:Uint16Array)(h),1),d=new Kn(new Float32Array(3*l),3),p=new Kn(new Float32Array(3*l),3),m=new Kn(new Float32Array(2*l),2),g=0,v=0,y=[],b=n/2,x=0;function E(){var e=(r+1)*(i+1);return!1===o&&(e+=(r+1)*c+r*c),e}function w(){var e=r*i*2*3;return!1===o&&(e+=r*c*3),e}function M(){var o,c,l=new Dt,h=new Dt,E=0,w=(t-e)/n;for(c=0;c<=i;c++){var M=[],A=c/i,_=A*(t-e)+e;for(o=0;o<=r;o++){var T=o/r,S=T*s+a,N=Math.sin(S),C=Math.cos(S);h.x=_*N,h.y=-A*n+b,h.z=_*C,d.setXYZ(g,h.x,h.y,h.z),l.set(N,w,C).normalize(),p.setXYZ(g,l.x,l.y,l.z),m.setXY(g,T,1-A),M.push(g),g++}y.push(M)}for(o=0;o<r;o++)for(c=0;c<i;c++){var I=y[c][o],L=y[c+1][o],D=y[c+1][o+1],O=y[c][o+1];f.setX(v,I),v++,f.setX(v,L),v++,f.setX(v,O),v++,f.setX(v,L),v++,f.setX(v,D),v++,f.setX(v,O),v++,E+=6}u.addGroup(x,E,0),x+=E}function A(n){var i,o,c,l=new _t,h=new Dt,y=0,E=!0===n?e:t,w=!0===n?1:-1;for(o=g,i=1;i<=r;i++)d.setXYZ(g,0,b*w,0),p.setXYZ(g,0,w,0),l.x=.5,l.y=.5,m.setXY(g,l.x,l.y),g++;for(c=g,i=0;i<=r;i++){var M=i/r*s+a,A=Math.cos(M),_=Math.sin(M);h.x=E*_,h.y=b*w,h.z=E*A,d.setXYZ(g,h.x,h.y,h.z),p.setXYZ(g,0,w,0),l.x=.5*A+.5,l.y=.5*_*w+.5,m.setXY(g,l.x,l.y),g++}for(i=0;i<r;i++){var T=o+i,S=c+i;!0===n?(f.setX(v,S),v++,f.setX(v,S+1),v++,f.setX(v,T),v++):(f.setX(v,S+1),v++,f.setX(v,S),v++,f.setX(v,T),v++),y+=3}u.addGroup(x,y,!0===n?1:2),x+=y}M(),!1===o&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(f),this.addAttribute("position",d),this.addAttribute("normal",p),this.addAttribute("uv",m)}function Vi(e,t,n,r,i,o,a,s){sr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Hi(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Yi(e,t,n,r,i,o,a){Vi.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Wi(e,t,n,r,i,o,a){Hi.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Xi(e,t,n,r){lr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=t+2,o=new Float32Array(3*i),a=new Float32Array(3*i),s=new Float32Array(2*i);a[2]=1,s[0]=.5,s[1]=.5;for(var u=0,c=3,l=2;u<=t;u++,c+=3,l+=2){var h=n+u/t*r;o[c]=e*Math.cos(h),o[c+1]=e*Math.sin(h),a[c+2]=1,s[l]=(o[c]/e+1)/2,s[l+1]=(o[c+1]/e+1)/2}var f=[];for(c=1;c<=t;c++)f.push(c,c+1,0);this.setIndex(new Kn(new Uint16Array(f),1)),this.addAttribute("position",new Kn(o,3)),this.addAttribute("normal",new Kn(a,3)),this.addAttribute("uv",new Kn(s,2)),this.boundingSphere=new jn(new Dt,e)}function Qi(e,t,n,r){sr.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Xi(e,t,n,r))}function qi(e,t,n,r,i,o){sr.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new fr(e,t,n,r,i,o)),this.mergeVertices()}Li.prototype=Object.create(sr.prototype),Li.prototype.constructor=Li,Li.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];this.addShape(i,t)}},Li.prototype.addShape=function(e,t){var n,r,i,o,a,s,u,c,l=void 0!==t.amount?t.amount:100,h=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:h-2,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=void 0===t.bevelEnabled||t.bevelEnabled,m=void 0!==t.curveSegments?t.curveSegments:12,g=void 0!==t.steps?t.steps:1,v=t.extrudePath,y=!1,b=void 0!==t.UVGenerator?t.UVGenerator:Li.WorldUVGenerator;v&&(n=v.getSpacedPoints(g),y=!0,p=!1,r=void 0!==t.frames?t.frames:v.computeFrenetFrames(g,!1),i=new Dt,o=new Dt,a=new Dt),p||(d=0,h=0,f=0);var x=this,E=this.vertices.length,w=e.extractPoints(m),M=w.shape,A=w.holes,_=!Ii.isClockWise(M);if(_){for(M=M.reverse(),u=0,c=A.length;u<c;u++)s=A[u],Ii.isClockWise(s)&&(A[u]=s.reverse());_=!1}var T=Ii.triangulateShape(M,A),S=M;for(u=0,c=A.length;u<c;u++)s=A[u],M=M.concat(s);function N(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var C,I,L,D,O,R,P=M.length,j=T.length;function k(e,t,n){var r,i,o=1,a=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=a*a+s*s,h=a*c-s*u;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(l),d=Math.sqrt(u*u+c*c),p=t.x-s/f,m=t.y+a/f,g=((n.x-c/d-p)*c-(n.y+u/d-m)*u)/(a*c-s*u),v=(r=p+a*g-e.x)*r+(i=m+s*g-e.y)*i;if(v<=2)return new _t(r,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?u>Number.EPSILON&&(y=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new _t(r/o,i/o)}for(var U=[],F=0,z=S.length,B=z-1,G=F+1;F<z;F++,B++,G++)B===z&&(B=0),G===z&&(G=0),U[F]=k(S[F],S[B],S[G]);var H,V,Y=[],W=U.concat();for(u=0,c=A.length;u<c;u++){for(s=A[u],H=[],F=0,B=(z=s.length)-1,G=F+1;F<z;F++,B++,G++)B===z&&(B=0),G===z&&(G=0),H[F]=k(s[F],s[B],s[G]);Y.push(H),W=W.concat(H)}for(C=0;C<d;C++){for(L=C/d,D=h*Math.cos(L*Math.PI/2),I=f*Math.sin(L*Math.PI/2),F=0,z=S.length;F<z;F++)K((O=N(S[F],U[F],I)).x,O.y,-D);for(u=0,c=A.length;u<c;u++)for(s=A[u],H=Y[u],F=0,z=s.length;F<z;F++)K((O=N(s[F],H[F],I)).x,O.y,-D)}for(I=f,F=0;F<P;F++)O=p?N(M[F],W[F],I):M[F],y?(o.copy(r.normals[0]).multiplyScalar(O.x),i.copy(r.binormals[0]).multiplyScalar(O.y),a.copy(n[0]).add(o).add(i),K(a.x,a.y,a.z)):K(O.x,O.y,0);for(V=1;V<=g;V++)for(F=0;F<P;F++)O=p?N(M[F],W[F],I):M[F],y?(o.copy(r.normals[V]).multiplyScalar(O.x),i.copy(r.binormals[V]).multiplyScalar(O.y),a.copy(n[V]).add(o).add(i),K(a.x,a.y,a.z)):K(O.x,O.y,l/g*V);for(C=d-1;C>=0;C--){for(L=C/d,D=h*Math.cos(L*Math.PI/2),I=f*Math.sin(L*Math.PI/2),F=0,z=S.length;F<z;F++)K((O=N(S[F],U[F],I)).x,O.y,l+D);for(u=0,c=A.length;u<c;u++)for(s=A[u],H=Y[u],F=0,z=s.length;F<z;F++)O=N(s[F],H[F],I),y?K(O.x,O.y+n[g-1].y,n[g-1].x+D):K(O.x,O.y,l+D)}function X(){if(p){var e=0,t=P*e;for(F=0;F<j;F++)Z((R=T[F])[2]+t,R[1]+t,R[0]+t);for(t=P*(e=g+2*d),F=0;F<j;F++)Z((R=T[F])[0]+t,R[1]+t,R[2]+t)}else{for(F=0;F<j;F++)Z((R=T[F])[2],R[1],R[0]);for(F=0;F<j;F++)Z((R=T[F])[0]+P*g,R[1]+P*g,R[2]+P*g)}}function Q(){var e=0;for(q(S,e),e+=S.length,u=0,c=A.length;u<c;u++)q(s=A[u],e),e+=s.length}function q(e,t){var n,r;for(F=e.length;--F>=0;){n=F,(r=F-1)<0&&(r=e.length-1);var i=0,o=g+2*d;for(i=0;i<o;i++){var a=P*i,s=P*(i+1);J(t+n+a,t+r+a,t+r+s,t+n+s,e,i,o,n,r)}}}function K(e,t,n){x.vertices.push(new Dt(e,t,n))}function Z(e,t,n){e+=E,t+=E,n+=E,x.faces.push(new Qn(e,t,n,null,null,0));var r=b.generateTopUV(x,e,t,n);x.faceVertexUvs[0].push(r)}function J(e,t,n,r,i,o,a,s,u){e+=E,t+=E,n+=E,r+=E,x.faces.push(new Qn(e,t,r,null,null,1)),x.faces.push(new Qn(t,n,r,null,null,1));var c=b.generateSideWallUV(x,e,t,n,r);x.faceVertexUvs[0].push([c[0],c[1],c[3]]),x.faceVertexUvs[0].push([c[1],c[2],c[3]])}X(),Q()},Li.WorldUVGenerator={generateTopUV:function(e,t,n,r){var i=e.vertices,o=i[t],a=i[n],s=i[r];return[new _t(o.x,o.y),new _t(a.x,a.y),new _t(s.x,s.y)]},generateSideWallUV:function(e,t,n,r,i){var o=e.vertices,a=o[t],s=o[n],u=o[r],c=o[i];return Math.abs(a.y-s.y)<.01?[new _t(a.x,1-a.z),new _t(s.x,1-s.z),new _t(u.x,1-u.z),new _t(c.x,1-c.z)]:[new _t(a.y,1-a.z),new _t(s.y,1-s.z),new _t(u.y,1-u.z),new _t(c.y,1-c.z)]}},Di.prototype=Object.create(Li.prototype),Di.prototype.constructor=Di,Oi.prototype=Object.create(lr.prototype),Oi.prototype.constructor=Oi,Ri.prototype=Object.create(sr.prototype),Ri.prototype.constructor=Ri,Pi.prototype=Object.create(lr.prototype),Pi.prototype.constructor=Pi,ji.prototype=Object.create(sr.prototype),ji.prototype.constructor=ji,ki.prototype=Object.create(sr.prototype),ki.prototype.constructor=ki,Ui.prototype=Object.create(lr.prototype),Ui.prototype.constructor=Ui,Fi.prototype=Object.create(sr.prototype),Fi.prototype.constructor=Fi,zi.prototype=Object.create(lr.prototype),zi.prototype.constructor=zi,Bi.prototype=Object.create(sr.prototype),Bi.prototype.constructor=Bi,Gi.prototype=Object.create(lr.prototype),Gi.prototype.constructor=Gi,Hi.prototype=Object.create(lr.prototype),Hi.prototype.constructor=Hi,Vi.prototype=Object.create(sr.prototype),Vi.prototype.constructor=Vi,Yi.prototype=Object.create(Vi.prototype),Yi.prototype.constructor=Yi,Wi.prototype=Object.create(Hi.prototype),Wi.prototype.constructor=Wi,Xi.prototype=Object.create(lr.prototype),Xi.prototype.constructor=Xi,Qi.prototype=Object.create(sr.prototype),Qi.prototype.constructor=Qi,qi.prototype=Object.create(sr.prototype),qi.prototype.constructor=qi;var Ki=Object.freeze({WireframeGeometry:hi,ParametricGeometry:di,ParametricBufferGeometry:fi,TetrahedronGeometry:gi,TetrahedronBufferGeometry:mi,OctahedronGeometry:yi,OctahedronBufferGeometry:vi,IcosahedronGeometry:xi,IcosahedronBufferGeometry:bi,DodecahedronGeometry:wi,DodecahedronBufferGeometry:Ei,PolyhedronGeometry:Mi,PolyhedronBufferGeometry:pi,TubeGeometry:_i,TubeBufferGeometry:Ai,TorusKnotGeometry:Si,TorusKnotBufferGeometry:Ti,TorusGeometry:Ci,TorusBufferGeometry:Ni,TextGeometry:Di,SphereBufferGeometry:Oi,SphereGeometry:Ri,RingGeometry:ji,RingBufferGeometry:Pi,PlaneBufferGeometry:dr,PlaneGeometry:ki,LatheGeometry:Fi,LatheBufferGeometry:Ui,ShapeGeometry:Bi,ShapeBufferGeometry:zi,ExtrudeGeometry:Li,EdgesGeometry:Gi,ConeGeometry:Yi,ConeBufferGeometry:Wi,CylinderGeometry:Vi,CylinderBufferGeometry:Hi,CircleBufferGeometry:Xi,CircleGeometry:Qi,BoxBufferGeometry:fr,BoxGeometry:qi});function Zi(){On.call(this,{uniforms:En.merge([Tn.lights,{opacity:{value:1}}]),vertexShader:wn.shadow_vert,fragmentShader:wn.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}}})}function Ji(e){On.call(this,e),this.type="RawShaderMaterial"}function $i(e){this.uuid=At.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(e)?e:[],this.visible=!0}function eo(e){Dn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function to(e){eo.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(e)}function no(e){Dn.call(this),this.type="MeshPhongMaterial",this.color=new Mn(16777215),this.specular=new Mn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ro(e){no.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function io(e){Dn.call(this,e),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new _t(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function oo(e){Dn.call(this),this.type="MeshLambertMaterial",this.color=new Mn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ao(e){Dn.call(this),this.type="LineDashedMaterial",this.color=new Mn(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(e)}Zi.prototype=Object.create(On.prototype),Zi.prototype.constructor=Zi,Zi.prototype.isShadowMaterial=!0,Ji.prototype=Object.create(On.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isRawShaderMaterial=!0,$i.prototype={constructor:$i,isMultiMaterial:!0,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(e);delete o.metadata,t.materials.push(o)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},eo.prototype=Object.create(Dn.prototype),eo.prototype.constructor=eo,eo.prototype.isMeshStandardMaterial=!0,eo.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},to.prototype=Object.create(eo.prototype),to.prototype.constructor=to,to.prototype.isMeshPhysicalMaterial=!0,to.prototype.copy=function(e){return eo.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},no.prototype=Object.create(Dn.prototype),no.prototype.constructor=no,no.prototype.isMeshPhongMaterial=!0,no.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ro.prototype=Object.create(no.prototype),ro.prototype.constructor=ro,ro.prototype.isMeshToonMaterial=!0,ro.prototype.copy=function(e){return no.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},io.prototype=Object.create(Dn.prototype),io.prototype.constructor=io,io.prototype.isMeshNormalMaterial=!0,io.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},oo.prototype=Object.create(Dn.prototype),oo.prototype.constructor=oo,oo.prototype.isMeshLambertMaterial=!0,oo.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ao.prototype=Object.create(Dn.prototype),ao.prototype.constructor=ao,ao.prototype.isLineDashedMaterial=!0,ao.prototype.copy=function(e){return Dn.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var so=Object.freeze({ShadowMaterial:Zi,SpriteMaterial:qr,RawShaderMaterial:Ji,ShaderMaterial:On,PointsMaterial:ii,MultiMaterial:$i,MeshPhysicalMaterial:to,MeshStandardMaterial:eo,MeshPhongMaterial:no,MeshToonMaterial:ro,MeshNormalMaterial:io,MeshLambertMaterial:oo,MeshDepthMaterial:Rn,MeshBasicMaterial:qn,LineDashedMaterial:ao,LineBasicMaterial:ti,Material:Dn}),uo={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function co(e,t,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}}var lo=new co;function ho(e){this.manager=void 0!==e?e:lo}function fo(e){this.manager=void 0!==e?e:lo,this._parser=null}Object.assign(ho.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,o=uo.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);if(s){var u=s[1],c=!!s[2],l=s[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var h,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(l.length);for(var d=new Uint8Array(h),p=0;p<l.length;p++)d[p]=l.charCodeAt(p);"blob"===f&&(h=new Blob([h],{type:u}));break;case"document":var m=new DOMParser;h=m.parseFromString(l,u);break;case"json":h=JSON.parse(l);break;default:h=l}window.setTimeout((function(){t&&t(h),i.manager.itemEnd(e)}),0)}catch(v){window.setTimeout((function(){r&&r(v),i.manager.itemError(e)}),0)}}else{var g=new XMLHttpRequest;g.open("GET",e,!0),g.addEventListener("load",(function(n){var o=n.target.response;uo.add(e,o),200===this.status?(t&&t(o),i.manager.itemEnd(e)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),t&&t(o),i.manager.itemEnd(e)):(r&&r(n),i.manager.itemError(e))}),!1),void 0!==n&&g.addEventListener("progress",(function(e){n(e)}),!1),g.addEventListener("error",(function(t){r&&r(t),i.manager.itemError(e)}),!1),void 0!==this.responseType&&(g.responseType=this.responseType),void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials),g.overrideMimeType&&g.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),g.send(null)}return i.manager.itemStart(e),g},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Object.assign(fo.prototype,{load:function(e,t,n,r){var i=this,o=[],a=new ui;a.image=o;var s=new ho(this.manager);function u(u){s.load(e[u],(function(e){var n=i._parser(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=Me),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=0,h=e.length;l<h;++l)u(l);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Me),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a},setPath:function(e){return this.path=e,this}});var po=mo;function mo(e){this.manager=void 0!==e?e:lo,this._parser=null}function go(e){this.manager=void 0!==e?e:lo}function vo(e){this.manager=void 0!==e?e:lo}function yo(e){this.manager=void 0!==e?e:lo}function bo(e,t){Yn.call(this),this.type="Light",this.color=new Mn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function xo(e,t,n){bo.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.groundColor=new Mn(t)}function Eo(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new _t(512,512),this.map=null,this.matrix=new Ot}function wo(){Eo.call(this,new mr(50,1,.5,500))}function Mo(e,t,n,r,i,o){bo.call(this,e,t),this.type="SpotLight",this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.target=new Yn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new wo}function Ao(e,t,n,r){bo.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Eo(new mr(90,1,.5,500))}function _o(e){Eo.call(this,new gr(-5,5,5,-5,.5,500))}function To(e,t){bo.call(this,e,t),this.type="DirectionalLight",this.position.copy(Yn.DefaultUp),this.updateMatrix(),this.target=new Yn,this.shadow=new _o}function So(e,t){bo.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}Object.assign(mo.prototype,{load:function(e,t,n,r){var i=this,o=new _n,a=new ho(this.manager);return a.setResponseType("arraybuffer"),a.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ve,o.wrapT=void 0!==n.wrapT?n.wrapT:ve,o.magFilter=void 0!==n.magFilter?n.magFilter:Me,o.minFilter=void 0!==n.minFilter?n.minFilter:_e,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Me),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),Object.assign(go.prototype,{load:function(e,t,n,r){var i=this,o=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(o.onload=function(){o.onload=null,URL.revokeObjectURL(o.src),t&&t(o),i.manager.itemEnd(e)},o.onerror=r,0===e.indexOf("data:"))o.src=e;else if(void 0!==this.crossOrigin)o.crossOrigin=this.crossOrigin,o.src=e;else{var a=new ho;a.setPath(this.path),a.setResponseType("blob"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){o.src=URL.createObjectURL(e)}),n,r)}return i.manager.itemStart(e),o},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(vo.prototype,{load:function(e,t,n,r){var i=new Rt,o=new go(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(yo.prototype,{load:function(e,t,n,r){var i=new St,o=new go(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setWithCredentials(this.withCredentials),o.setPath(this.path),o.load(e,(function(n){var r=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?ze:Be,i.image=n,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this}}),bo.prototype=Object.assign(Object.create(Yn.prototype),{constructor:bo,isLight:!0,copy:function(e){return Yn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Yn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),xo.prototype=Object.assign(Object.create(bo.prototype),{constructor:xo,isHemisphereLight:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Eo.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),wo.prototype=Object.assign(Object.create(Eo.prototype),{constructor:wo,isSpotLightShadow:!0,update:function(e){var t=2*At.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,r=e.distance||500,i=this.camera;t===i.fov&&n===i.aspect&&r===i.far||(i.fov=t,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Mo.prototype=Object.assign(Object.create(bo.prototype),{constructor:Mo,isSpotLight:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ao.prototype=Object.assign(Object.create(bo.prototype),{constructor:Ao,isPointLight:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),_o.prototype=Object.assign(Object.create(Eo.prototype),{constructor:_o}),To.prototype=Object.assign(Object.create(bo.prototype),{constructor:To,isDirectionalLight:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),So.prototype=Object.assign(Object.create(bo.prototype),{constructor:So,isAmbientLight:!0});var No,Co={arraySlice:function(e,t,n){return Co.isTypedArray(e)?new e.constructor(e.subarray(t,n)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}for(var n=e.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function Io(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Lo(e,t,n,r){Io.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Do(e,t,n,r){Io.call(this,e,t,n,r)}function Oo(e,t,n,r){Io.call(this,e,t,n,r)}function Ro(e,t,n,r){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=Co.convertArray(t,this.TimeBufferType),this.values=Co.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Po(e,t,n,r){Ro.call(this,e,t,n,r)}function jo(e,t,n,r){Io.call(this,e,t,n,r)}function ko(e,t,n,r){Ro.call(this,e,t,n,r)}function Uo(e,t,n,r){Ro.call(this,e,t,n,r)}function Fo(e,t,n,r){Ro.call(this,e,t,n,r)}function zo(e,t,n){Ro.call(this,e,t,n)}function Bo(e,t,n,r){Ro.call(this,e,t,n,r)}function Go(e,t,n,r){Ro.apply(this,arguments)}function Ho(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=At.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Vo(e){this.manager=void 0!==e?e:lo,this.textures={}}function Yo(e){this.manager=void 0!==e?e:lo}function Wo(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Xo(e){"boolean"===typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:lo,this.withCredentials=!1}function Qo(e){this.manager=void 0!==e?e:lo,this.texturePath=""}function qo(){}function Ko(e,t){this.v1=e,this.v2=t}function Zo(){this.curves=[],this.autoClose=!1}function Jo(e,t,n,r,i,o,a,s){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}Io.prototype={constructor:Io,evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];for(e<s&&(n=2,i=s),a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var u=n+o>>>1;e<t[u]?o=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(e,t,n,r){throw new Error("call to abstract method")},intervalChanged_:function(e,t,n){}},Object.assign(Io.prototype,{beforeStart_:Io.prototype.copySampleValue_,afterEnd_:Io.prototype.copySampleValue_}),Lo.prototype=Object.assign(Object.create(Io.prototype),{constructor:Lo,DefaultSettings_:{endingStart:ut,endingEnd:ut},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case ct:i=e,a=2*t-n;break;case lt:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ct:o=e,s=2*n-t;break;case lt:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p,x=0;x!==a;++x)i[x]=g*o[c+x]+v*o[u+x]+y*o[s+x]+b*o[l+x];return i}}),Do.prototype=Object.assign(Object.create(Io.prototype),{constructor:Do,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,h=0;h!==a;++h)i[h]=o[u+h]*l+o[s+h]*c;return i}}),Oo.prototype=Object.assign(Object.create(Io.prototype),{constructor:Oo,interpolate_:function(e,t,n,r){return this.copySampleValue_(e-1)}}),No={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:at,InterpolantFactoryMethodDiscrete:function(e){return new Oo(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Do(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Lo(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case ot:t=this.InterpolantFactoryMethodDiscrete;break;case at:t=this.InterpolantFactoryMethodLinear;break;case st:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn(n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ot;case this.InterpolantFactoryMethodLinear:return at;case this.InterpolantFactoryMethodSmooth:return st}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Co.arraySlice(n,i,o),this.values=Co.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("invalid value size in track",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Co.isTypedArray(r)){a=0;for(var u=r.length;a!==u;++a){var c=r[a];if(isNaN(c)){console.error("value is not a valid number",this,a,c),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===st,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,h=c+n,f=0;f!==n;++f){var d=t[c+f];if(d!==t[l+f]||d!==t[h+f]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var p=a*n,m=i*n;for(f=0;f!==n;++f)t[m+f]=t[p+f]}++i}}if(o>0){for(e[i]=e[o],p=o*n,m=i*n,f=0;f!==n;++f)t[m+f]=t[p+f];++i}return i!==e.length&&(this.times=Co.arraySlice(e,0,i),this.values=Co.arraySlice(t,0,i*n)),this}},Po.prototype=Object.assign(Object.create(No),{constructor:Po,ValueTypeName:"vector"}),jo.prototype=Object.assign(Object.create(Io.prototype),{constructor:jo,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=(n-t)/(r-t),c=s+a;s!==c;s+=4)Lt.slerpFlat(i,0,o,s-a,o,s,u);return i}}),ko.prototype=Object.assign(Object.create(No),{constructor:ko,ValueTypeName:"quaternion",DefaultInterpolation:at,InterpolantFactoryMethodLinear:function(e){return new jo(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Uo.prototype=Object.assign(Object.create(No),{constructor:Uo,ValueTypeName:"number"}),Fo.prototype=Object.assign(Object.create(No),{constructor:Fo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ot,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zo.prototype=Object.assign(Object.create(No),{constructor:zo,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ot,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Bo.prototype=Object.assign(Object.create(No),{constructor:Bo,ValueTypeName:"color"}),Go.prototype=No,No.constructor=Go,Object.assign(Go,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=Go._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];Co.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Co.convertArray(e.times,Array),values:Co.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Uo;case"vector":case"vector2":case"vector3":case"vector4":return Po;case"color":return Bo;case"quaternion":return ko;case"bool":case"boolean":return zo;case"string":return Fo}throw new Error("Unsupported typeName: "+e)}}),Ho.prototype={constructor:Ho,resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(Ho,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Go.parse(n[i]).scale(r));return new Ho(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t},i=0,o=n.length;i!==o;++i)t.push(Go.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=Co.getKeyframeOrder(s);s=Co.sortedArray(s,1,c),u=Co.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Uo(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new Ho(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=r[h=u[1]];c||(r[h]=c=[]),c.push(s)}}var l=[];for(var h in r)l.push(Ho.CreateFromMorphTargetSequence(h,r[h],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Co.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var c=s[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)l[c[h].morphTargets[f]]=-1;for(var d in l){var p=[],m=[];for(f=0;f!==c[h].morphTargets.length;++f){var g=c[h];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Uo(".morphTargetInfluence["+d+"]",p,m))}o=l.length*(a||1)}else{var v=".bones["+t[u].name+"]";n(Po,v+".position",c,"pos",r),n(ko,v+".quaternion",c,"rot",r),n(Po,v+".scale",c,"scl",r)}}return 0===r.length?null:new Ho(i,o,r)}}),Object.assign(Vo.prototype,{load:function(e,t,n,r){var i=this;new ho(i.manager).load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new so[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearCoat&&(r.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(r.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(r.uniforms=e.uniforms),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.shading&&(r.shading=e.shading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalScale){var i=e.normalScale;!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new _t).fromArray(i)}if(void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.materials)for(var o=0,a=e.materials.length;o<a;o++)r.materials.push(this.parse(e.materials[o]));return r}}),Object.assign(Yo.prototype,{load:function(e,t,n,r){var i=this;new ho(i.manager).load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new lr,n=e.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);t.setIndex(new Kn(i,1))}var o=e.data.attributes;for(var a in o){var s=o[a];i=new r[s.type](s.array),t.addAttribute(a,new Kn(i,s.itemSize,s.normalized))}var u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(var c=0,l=u.length;c!==l;++c){var h=u[c];t.addGroup(h.start,h.count,h.materialIndex)}var f=e.data.boundingSphere;if(void 0!==f){var d=new Dt;void 0!==f.center&&d.fromArray(f.center),t.boundingSphere=new jn(d,f.radius)}return t}}),Wo.prototype={constructor:Wo,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e,t,n;return function(r,i,o){void 0===e&&(e=new Mn),void 0===t&&(t=new yo),void 0===n&&(n=new Vo);var a={};function s(e,n,r,s,u){var c,l=i+e,h=Wo.Handlers.get(l);null!==h?c=h.load(l):(t.setCrossOrigin(o),c=t.load(l)),void 0!==n&&(c.repeat.fromArray(n),1!==n[0]&&(c.wrapS=ge),1!==n[1]&&(c.wrapT=ge)),void 0!==r&&c.offset.fromArray(r),void 0!==s&&("repeat"===s[0]&&(c.wrapS=ge),"mirror"===s[0]&&(c.wrapS=ye),"repeat"===s[1]&&(c.wrapT=ge),"mirror"===s[1]&&(c.wrapT=ye)),void 0!==u&&(c.anisotropy=u);var f=At.generateUUID();return a[f]=c,f}var u={uuid:At.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var l=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"DbgName":u.name=l;break;case"blending":u.blending=N[l];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=e.fromArray(l).getHex();break;case"colorSpecular":u.specular=e.fromArray(l).getHex();break;case"colorEmissive":u.emissive=e.fromArray(l).getHex();break;case"specularCoef":u.shininess=l;break;case"shading":"basic"===l.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===l.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===l.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(l,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapEmissive":u.emissiveMap=s(l,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapLight":u.lightMap=s(l,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapAO":u.aoMap=s(l,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapBump":u.bumpMap=s(l,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=l;break;case"mapNormal":u.normalMap=s(l,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[l,l];break;case"mapSpecular":u.specularMap=s(l,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapMetalness":u.metalnessMap=s(l,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapRoughness":u.roughnessMap=s(l,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapAlpha":u.alphaMap=s(l,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"flipSided":u.side=m;break;case"doubleSided":u.side=g;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=l;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=l;break;case"vertexColors":!0===l&&(u.vertexColors=E),"face"===l&&(u.vertexColors=x);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,l)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),n.setTextures(a),n.parse(u)}}()},Wo.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(Xo.prototype,{load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Wo.prototype.extractUrlBase(e),a=new ho(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,(function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);t(u.geometry,u.materials)}),n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){var n=new sr,r=void 0!==e.scale?1/e.scale:1;function i(t){function r(e,t){return e&1<<t}var i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,x,E,w,M,A,_,T,S,N,C=e.faces,I=e.vertices,L=e.normals,D=e.colors,O=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&O++;for(i=0;i<O;i++)n.faceVertexUvs[i]=[]}for(s=0,u=I.length;s<u;)(E=new Dt).x=I[s++]*t,E.y=I[s++]*t,E.z=I[s++]*t,n.vertices.push(E);for(s=0,u=C.length;s<u;)if(p=r(d=C[s++],0),m=r(d,1),g=r(d,3),v=r(d,4),y=r(d,5),b=r(d,6),x=r(d,7),p){if((M=new Qn).a=C[s],M.b=C[s+1],M.c=C[s+3],(A=new Qn).a=C[s+1],A.b=C[s+2],A.c=C[s+3],s+=4,m&&(f=C[s++],M.materialIndex=f,A.materialIndex=f),a=n.faces.length,g)for(i=0;i<O;i++)for(S=e.uvs[i],n.faceVertexUvs[i][a]=[],n.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)N=new _t(S[2*(h=C[s++])],S[2*h+1]),2!==o&&n.faceVertexUvs[i][a].push(N),0!==o&&n.faceVertexUvs[i][a+1].push(N);if(v&&(l=3*C[s++],M.normal.set(L[l++],L[l++],L[l]),A.normal.copy(M.normal)),y)for(i=0;i<4;i++)l=3*C[s++],T=new Dt(L[l++],L[l++],L[l]),2!==i&&M.vertexNormals.push(T),0!==i&&A.vertexNormals.push(T);if(b&&(_=D[c=C[s++]],M.color.setHex(_),A.color.setHex(_)),x)for(i=0;i<4;i++)_=D[c=C[s++]],2!==i&&M.vertexColors.push(new Mn(_)),0!==i&&A.vertexColors.push(new Mn(_));n.faces.push(M),n.faces.push(A)}else{if((w=new Qn).a=C[s++],w.b=C[s++],w.c=C[s++],m&&(f=C[s++],w.materialIndex=f),a=n.faces.length,g)for(i=0;i<O;i++)for(S=e.uvs[i],n.faceVertexUvs[i][a]=[],o=0;o<3;o++)N=new _t(S[2*(h=C[s++])],S[2*h+1]),n.faceVertexUvs[i][a].push(N);if(v&&(l=3*C[s++],w.normal.set(L[l++],L[l++],L[l])),y)for(i=0;i<3;i++)l=3*C[s++],T=new Dt(L[l++],L[l++],L[l]),w.vertexNormals.push(T);if(b&&(c=C[s++],w.color.setHex(D[c])),x)for(i=0;i<3;i++)c=C[s++],w.vertexColors.push(new Mn(D[c]));n.faces.push(w)}}function o(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=t){var o=e.skinWeights[r],a=t>1?e.skinWeights[r+1]:0,s=t>2?e.skinWeights[r+2]:0,u=t>3?e.skinWeights[r+3]:0;n.skinWeights.push(new Nt(o,a,s,u))}if(e.skinIndices)for(r=0,i=e.skinIndices.length;r<i;r+=t){var c=e.skinIndices[r],l=t>1?e.skinIndices[r+1]:0,h=t>2?e.skinIndices[r+2]:0,f=t>3?e.skinIndices[r+3]:0;n.skinIndices.push(new Nt(c,l,h,f))}n.bones=e.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}function a(t){if(void 0!==e.morphTargets)for(var r=0,i=e.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=e.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var o=n.morphTargets[r].vertices,a=e.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var c=new Dt;c.x=a[s]*t,c.y=a[s+1]*t,c.z=a[s+2]*t,o.push(c)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=n.faces,h=e.morphColors[0].colors;for(r=0,i=l.length;r<i;r++)l[r].color.fromArray(h,3*r)}}function s(){var t=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i=0;i<r.length;i++){var o=Ho.parseAnimation(r[i],n.bones);o&&t.push(o)}if(n.morphTargets){var a=Ho.CreateClipsFromMorphTargetSequences(n.morphTargets,10);t=t.concat(a)}t.length>0&&(n.animations=t)}if(i(r),o(),a(r),s(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:n};var u=Wo.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:n,materials:u}}}),Object.assign(Qo.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this;new ho(i.manager).load(e,(function(n){var r=null;try{r=JSON.parse(n)}catch(a){return void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}var o=r.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(r,t):console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead.")}),n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,(function(){void 0!==t&&t(a)})),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new Xo,r=new Yo,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Ki[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Ki[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Ki[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Ki[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Ki[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Ki[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Ki[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Ki[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Ki[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Ki[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Ki[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new Vo;r.setTextures(t);for(var i=0,o=e.length;i<o;i++){var a=r.parse(e[i]);n[a.uuid]=a}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=Ho.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e)}))}if(void 0!==e&&e.length>0){var o=new go(new co(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var u=e[a],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=i(c)}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new St(t[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,me)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],be),s.wrapT=n(a.wrap[1],be)),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Te)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Te)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),r[a.uuid]=s}return r},parseObject:function(){var e=new Ot;return function(t,n,r){var i;function o(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function a(e){if(void 0!==e)return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}switch(t.type){case"Scene":i=new Xr,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new Mn(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new Wr(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new Yr(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new mr(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new gr(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":i=new So(t.color,t.intensity);break;case"DirectionalLight":i=new To(t.color,t.intensity);break;case"PointLight":i=new Ao(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":i=new Mo(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new xo(t.color,t.groundColor,t.intensity);break;case"Mesh":var s=o(t.geometry),u=a(t.material);i=s.bones&&s.bones.length>0?new ei(s,u):new hr(s,u);break;case"LOD":i=new Zr;break;case"Line":i=new ni(o(t.geometry),a(t.material),t.mode);break;case"LineSegments":i=new ri(o(t.geometry),a(t.material));break;case"PointCloud":case"Points":i=new oi(o(t.geometry),a(t.material));break;case"Sprite":i=new Kr(a(t.material));break;case"Group":i=new ai;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:i=new Yn}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.children)for(var c in t.children)i.add(this.parseObject(t.children[c],n,r));if("LOD"===t.type)for(var l=t.levels,h=0;h<l.length;h++){var f=l[h];void 0!==(c=i.getObjectByProperty("uuid",f.object))&&i.addLevel(c,f.distance)}return i}}()}),qo.prototype={constructor:qo,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e||(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new Dt,a=[],s=[],u=[],c=new Dt,l=new Ot;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new Dt,u[0]=new Dt;var h=Number.MAX_VALUE,f=Math.abs(a[0].x),d=Math.abs(a[0].y),p=Math.abs(a[0].z);for(f<=h&&(h=f,o.set(1,0,0)),d<=h&&(h=d,o.set(0,1,0)),p<=h&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),u[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(At.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(c,i))),u[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(At.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(c.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(l.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}},qo.create=function(e,t){return e.prototype=Object.create(qo.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Ko.prototype=Object.create(qo.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isLineCurve=!0,Ko.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},Ko.prototype.getPointAt=function(e){return this.getPoint(e)},Ko.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},Zo.prototype=Object.assign(Object.create(qo.prototype),{constructor:Zo,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ko(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e||(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&o.isLineCurve?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){for(var t=new sr,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new Dt(i.x,i.y,i.z||0))}return t}}),Jo.prototype=Object.create(qo.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isEllipseCurve=!0,Jo.prototype.getPoint=function(e){for(var t=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=t;for(;n>t;)n-=t;n<Number.EPSILON&&(n=r?0:t),!0!==this.aClockwise||r||(n===t?n=-t:n-=t);var i=this.aStartAngle+e*n,o=this.aX+this.xRadius*Math.cos(i),a=this.aY+this.yRadius*Math.sin(i);if(0!==this.aRotation){var s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),c=o-this.aX,l=a-this.aY;o=c*s-l*u+this.aX,a=c*u+l*s+this.aY}return new _t(o,a)};var $o={tangentQuadraticBezier:function(e,t,n,r){return 2*(1-e)*(n-t)+2*e*(r-n)},tangentCubicBezier:function(e,t,n,r,i){return-3*t*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*i},tangentSpline:function(e,t,n,r,i){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}};function ea(e){this.points=void 0===e?[]:e}function ta(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r}function na(e,t,n){this.v0=e,this.v1=t,this.v2=n}ea.prototype=Object.create(qo.prototype),ea.prototype.constructor=ea,ea.prototype.isSplineCurve=!0,ea.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),i=n-r,o=t[0===r?r:r-1],a=t[r],s=t[r>t.length-2?t.length-1:r+1],u=t[r>t.length-3?t.length-1:r+2],c=$o.interpolate;return new _t(c(o.x,a.x,s.x,u.x,i),c(o.y,a.y,s.y,u.y,i))},ta.prototype=Object.create(qo.prototype),ta.prototype.constructor=ta,ta.prototype.getPoint=function(e){var t=Ii.b3;return new _t(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},ta.prototype.getTangent=function(e){var t=$o.tangentCubicBezier;return new _t(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},na.prototype=Object.create(qo.prototype),na.prototype.constructor=na,na.prototype.getPoint=function(e){var t=Ii.b2;return new _t(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},na.prototype.getTangent=function(e){var t=$o.tangentQuadraticBezier;return new _t(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()};var ra,ia=Object.assign(Object.create(Zo.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new Ko(this.currentPoint.clone(),new _t(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new na(this.currentPoint.clone(),new _t(e,t),new _t(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new ta(this.currentPoint.clone(),new _t(e,t),new _t(n,r),new _t(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new ea([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(e+u,t+c,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var u=new Jo(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});function oa(){aa.apply(this,arguments),this.holes=[]}function aa(e){Zo.call(this),this.currentPoint=new _t,e&&this.fromPoints(e)}function sa(){this.subPaths=[],this.currentPath=null}function ua(e){this.data=e}function ca(e){this.manager=void 0!==e?e:lo}oa.prototype=Object.assign(Object.create(ia),{constructor:oa,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),aa.prototype=ia,ia.constructor=aa,sa.prototype={moveTo:function(e,t){this.currentPath=new aa,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new oa;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Ii.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new oa).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var h,f,d=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(h=(s=o[v]).getPoints()),(a=e?!a:a)?(!l&&p[g]&&g++,p[g]={s:new oa,p:h},p[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var b=!1,x=[],E=0,w=p.length;E<w;E++)d[E]=[];for(E=0,w=p.length;E<w;E++)for(var M=m[E],A=0;A<M.length;A++){for(var _=M[A],T=!0,S=0;S<p.length;S++)r(_.p,p[S].p)&&(E!==S&&x.push({froms:E,tos:S,hole:A}),T?(T=!1,d[S].push(_)):b=!0);T&&d[E].push(_)}x.length>0&&(b||(m=d))}v=0;for(var N=p.length;v<N;v++){u=p[v].s,c.push(u);for(var C=0,I=(f=m[v]).length;C<I;C++)u.holes.push(f[C].h)}return c}},Object.assign(ua.prototype,{isFont:!0,generateShapes:function(e,t,n){function r(e){for(var n=String(e).split(""),r=t/o.resolution,a=0,s=[],u=0;u<n.length;u++){var c=i(n[u],r,a);a+=c.offset,s.push(c.path)}return s}function i(e,t,r){var i=o.glyphs[e]||o.glyphs["?"];if(i){var a,s,u,c,l,h,f,d,p,m,g,v=new sa,y=[],b=Ii.b2,x=Ii.b3;if(i.o)for(var E=i._cachedOutline||(i._cachedOutline=i.o.split(" ")),w=0,M=E.length;w<M;)switch(E[w++]){case"m":a=E[w++]*t+r,s=E[w++]*t,v.moveTo(a,s);break;case"l":a=E[w++]*t+r,s=E[w++]*t,v.lineTo(a,s);break;case"q":if(u=E[w++]*t+r,c=E[w++]*t,f=E[w++]*t+r,d=E[w++]*t,v.quadraticCurveTo(f,d,u,c),g=y[y.length-1]){l=g.x,h=g.y;for(var A=1;A<=n;A++)b(_=A/n,l,f,u),b(_,h,d,c)}break;case"b":if(u=E[w++]*t+r,c=E[w++]*t,f=E[w++]*t+r,d=E[w++]*t,p=E[w++]*t+r,m=E[w++]*t,v.bezierCurveTo(f,d,p,m,u,c),g=y[y.length-1])for(l=g.x,h=g.y,A=1;A<=n;A++){var _;x(_=A/n,l,f,p,u),x(_,h,d,m,c)}}return{offset:i.ha*t,path:v}}}void 0===t&&(t=100),void 0===n&&(n=4);for(var o=this.data,a=r(e),s=[],u=0,c=a.length;u<c;u++)Array.prototype.push.apply(s,a[u].toShapes());return s}}),Object.assign(ca.prototype,{load:function(t,n,r,i){var o=this;new ho(this.manager).load(t,(function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var i=o.parse(r);n&&n(i)}),r,i)},parse:function(e){return new ua(e)}});var la={getContext:function(){return void 0===ra&&(ra=new(window.AudioContext||window.webkitAudioContext)),ra},setContext:function(e){ra=e}};function ha(e){this.manager=void 0!==e?e:lo}function fa(e,t,n,r){bo.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function da(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function pa(e,t,n){Yn.call(this),this.type="CubeCamera";var r=90,i=1,o=new mr(r,i,e,t);o.up.set(0,-1,0),o.lookAt(new Dt(1,0,0)),this.add(o);var a=new mr(r,i,e,t);a.up.set(0,-1,0),a.lookAt(new Dt(-1,0,0)),this.add(a);var s=new mr(r,i,e,t);s.up.set(0,0,1),s.lookAt(new Dt(0,1,0)),this.add(s);var u=new mr(r,i,e,t);u.up.set(0,0,-1),u.lookAt(new Dt(0,-1,0)),this.add(u);var c=new mr(r,i,e,t);c.up.set(0,-1,0),c.lookAt(new Dt(0,0,1)),this.add(c);var l=new mr(r,i,e,t);l.up.set(0,-1,0),l.lookAt(new Dt(0,0,-1)),this.add(l);var h={format:ze,magFilter:Me,minFilter:Me};this.renderTarget=new It(n,n,h),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,o,n),n.activeCubeFace=1,e.render(t,a,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,u,n),n.activeCubeFace=4,e.render(t,c,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,l,n),e.setRenderTarget(null)}}function ma(){Yn.call(this),this.type="AudioListener",this.context=la.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function ga(e){Yn.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function va(e){ga.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ya(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function ba(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function xa(e,t,n){this.path=t,this.parsedPath=n||xa.parseTrackName(t),this.node=xa.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Ea(e){this.uuid=At.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function wa(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:ut,endingEnd:ut},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ma(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Aa(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function _a(){lr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Ta(e,t,n,r){this.uuid=At.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Sa(e,t){this.uuid=At.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Na(e,t,n){Sa.call(this,e,t),this.meshPerAttribute=n||1}function Ca(e,t,n){Kn.call(this,e,t),this.meshPerAttribute=n||1}function Ia(e,t,n,r){this.ray=new Bn(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function La(e,t){return e.distance-t.distance}function Da(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)Da(i[o],t,n,!0)}function Oa(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ra(e){this.points=e;var t,n,r,i,o,a,s,u,c,l=[],h={x:0,y:0,z:0};function f(e,t,n,r,i,o,a){var s=.5*(n-e),u=.5*(r-t);return(2*(t-n)+s+u)*a+(-3*(t-n)-2*s-u)*o+s*i+t}this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return t=(this.points.length-1)*e,n=Math.floor(t),r=t-n,l[0]=0===n?n:n-1,l[1]=n,l[2]=n>this.points.length-2?this.points.length-1:n+1,l[3]=n>this.points.length-3?this.points.length-1:n+2,a=this.points[l[0]],s=this.points[l[1]],u=this.points[l[2]],c=this.points[l[3]],o=r*(i=r*r),h.x=f(a.x,s.x,u.x,c.x,r,i,o),h.y=f(a.y,s.y,u.y,c.y,r,i,o),h.z=f(a.z,s.z,u.z,c.z,r,i,o),h},this.getControlPointsArray=function(){var e,t,n=this.points.length,r=[];for(e=0;e<n;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,n,r,i,o=0,a=0,s=0,u=new Dt,c=new Dt,l=[],h=0;for(l[0]=0,e||(e=100),r=this.points.length*e,u.copy(this.points[0]),t=1;t<r;t++)n=t/r,i=this.getPoint(n),c.copy(i),h+=c.distanceTo(u),u.copy(i),o=(this.points.length-1)*n,(a=Math.floor(o))!==s&&(l[a]=h,s=a);return l[l.length]=h,{chunks:l,total:h}},this.reparametrizeByArcLength=function(e){var t,n,r,i,o,a,s,u,c=[],l=new Dt,h=this.getLength();for(c.push(l.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(a=h.chunks[t]-h.chunks[t-1],s=Math.ceil(e*a/h.total),i=(t-1)/(this.points.length-1),o=t/(this.points.length-1),n=1;n<s-1;n++)r=i+n*(1/s)*(o-i),u=this.getPoint(r),c.push(l.copy(u).clone());c.push(l.copy(this.points[t]).clone())}this.points=c}}function Pa(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function ja(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function ka(e,t){hr.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,a=n/1;this.createAnimation(r,i,o,a),this.setAnimationWeight(r,1)}function Ua(e){Yn.call(this),this.material=e,this.render=function(e){}}function Fa(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new lr,c=new ir(2*a*3,3);u.addAttribute("position",c),ri.call(this,u,new ti({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function za(e){Yn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;for(var t=new lr,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var a=r/o*Math.PI*2,s=i/o*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}t.addAttribute("position",new ir(n,3));var u=new ti({fog:!1});this.cone=new ri(t,u),this.add(this.cone),this.update()}function Ba(e){this.bones=this.getBoneList(e);for(var t=new lr,n=[],r=[],i=new Mn(0,0,1),o=new Mn(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}t.addAttribute("position",new ir(n,3)),t.addAttribute("color",new ir(r,3));var u=new ti({vertexColors:E,depthTest:!1,depthWrite:!1,transparent:!0});ri.call(this,t,u),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Ga(e,t){this.light=e,this.light.updateMatrixWorld();var n=new Oi(t,4,2),r=new qn({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),hr.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Ha(e){Yn.call(this),this.light=e,this.light.updateMatrixWorld();var t=new qn({color:e.color,fog:!1}),n=new qn({color:e.color,fog:!1,wireframe:!0}),r=new lr;r.addAttribute("position",new Kn(new Float32Array(18),3)),this.add(new hr(r,t)),this.add(new hr(r,n)),this.update()}function Va(e,t){Yn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var n=new vi(t);n.rotateY(.5*Math.PI);var r=new qn({vertexColors:E,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new Kn(o,3)),this.add(new hr(n,r)),this.update()}function Ya(e,t,n,r){e=e||10,t=t||10,n=new Mn(void 0!==n?n:4473924),r=new Mn(void 0!==r?r:8947848);for(var i=t/2,o=2*e/t,a=[],s=[],u=0,c=0,l=-e;u<=t;u++,l+=o){a.push(-e,0,l,e,0,l),a.push(l,0,-e,l,0,e);var h=u===i?n:r;h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3,h.toArray(s,c),c+=3}var f=new lr;f.addAttribute("position",new ir(a,3)),f.addAttribute("color",new ir(s,3));var d=new ti({vertexColors:E});ri.call(this,f,d)}function Wa(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Mn(void 0!==i?i:4473924),o=new Mn(void 0!==o?o:8947848);var a,s,u,c,l,h,f,d=[],p=[];for(c=0;c<=t;c++)u=c/t*(2*Math.PI),a=Math.sin(u)*e,s=Math.cos(u)*e,d.push(0,0,0),d.push(a,0,s),f=1&c?i:o,p.push(f.r,f.g,f.b),p.push(f.r,f.g,f.b);for(c=0;c<=n;c++)for(f=1&c?i:o,h=e-e/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b),u=(l+1)/r*(2*Math.PI),a=Math.sin(u)*h,s=Math.cos(u)*h,d.push(a,0,s),p.push(f.r,f.g,f.b);var m=new lr;m.addAttribute("position",new ir(d,3)),m.addAttribute("color",new ir(p,3));var g=new ti({vertexColors:E});ri.call(this,m,g)}function Xa(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new lr,c=new ir(2*a*3,3);u.addAttribute("position",c),ri.call(this,u,new ti({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Qa(e,t){Yn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,void 0===t&&(t=1);var n=new lr;n.addAttribute("position",new ir([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new ti({fog:!1});this.add(new ni(n,r)),(n=new lr).addAttribute("position",new ir([0,0,0,0,0,1],3)),this.add(new ni(n,r)),this.update()}function qa(e){var t=new lr,n=new ti({color:16777215,vertexColors:x}),r=[],i=[],o={},a=new Mn(16755200),s=new Mn(16711680),u=new Mn(43775),c=new Mn(16777215),l=new Mn(3355443);function h(e,t,n){f(e,n),f(t,n)}function f(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",c),h("p","c",l),h("cn1","cn2",l),h("cn3","cn4",l),h("cf1","cf2",l),h("cf3","cf4",l),t.addAttribute("position",new ir(r,3)),t.addAttribute("color",new ir(i,3)),ri.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Ka(e,t){void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new lr;i.setIndex(new Kn(n,1)),i.addAttribute("position",new Kn(r,3)),ri.call(this,i,new ti({color:t})),void 0!==e&&this.update(e)}Object.assign(ha.prototype,{load:function(e,t,n,r){var i=new ho(this.manager);i.setResponseType("arraybuffer"),i.load(e,(function(e){la.getContext().decodeAudioData(e,(function(e){t(e)}))}),n,r)}}),fa.prototype=Object.assign(Object.create(bo.prototype),{constructor:fa,isRectAreaLight:!0,copy:function(e){return bo.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this}}),Object.assign(da.prototype,{update:function(){var e,t,n,r,i,o,a,s=new Ot,u=new Ot;return function(c){if(e!==this||t!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||o!==c.far||a!==c.zoom){e=this,t=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,o=c.far,a=c.zoom;var l,h,f=c.projectionMatrix.clone(),d=this.eyeSep/2,p=d*i/t,m=i*Math.tan(At.DEG2RAD*n*.5)/a;u.elements[12]=-d,s.elements[12]=d,l=-m*r+p,h=m*r+p,f.elements[0]=2*i/(h-l),f.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(f),l=-m*r-p,h=m*r-p,f.elements[0]=2*i/(h-l),f.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(s)}}()}),pa.prototype=Object.create(Yn.prototype),pa.prototype.constructor=pa,ma.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ma,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new Dt,t=new Lt,n=new Dt,r=new Dt;return function(i){Yn.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.positionX?(o.positionX.setValueAtTime(e.x,this.context.currentTime),o.positionY.setValueAtTime(e.y,this.context.currentTime),o.positionZ.setValueAtTime(e.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),ga.prototype=Object.assign(Object.create(Yn.prototype),{constructor:ga,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),va.prototype=Object.assign(Object.create(ga.prototype),{constructor:va,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new Dt;return function(t){Yn.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(ya.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),ba.prototype={constructor:ba,accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r,i){Lt.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}},xa.prototype={constructor:xa,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=xa.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("  can not bind to objectName of node, undefined",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;void 0!==e.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!e.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("  trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(xa.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:xa.prototype.getValue,_setValue_unbound:xa.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),xa.Composite=function(e,t,n){var r=n||xa.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)},xa.Composite.prototype={constructor:xa.Composite,getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},xa.create=function(e,t,n){return e&&e.isAnimationObjectGroup?new xa.Composite(e,t,n):new xa(e,t,n)},xa.parseTrackName=function(e){var t=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(e);if(!t)throw new Error("cannot parse trackName at all: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return n},xa.findNode=function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null},r=n(e.skeleton);if(r)return r}if(e.children){var i=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(i)return i}return null},Ea.prototype={constructor:Ea,isAnimationObjectGroup:!0,add:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],f=h.uuid,d=i[f],p=void 0;if(void 0===d){d=n++,i[f]=d,t.push(h);for(var m=0,g=u;m!==g;++m)s[m].push(new xa(h,o[m],a[m]))}else if(d<r){p=t[d];var v=--r,y=t[v];for(i[y.uuid]=d,t[d]=y,i[f]=v,t[v]=h,m=0,g=u;m!==g;++m){var b=s[m],x=b[v],E=b[d];b[d]=x,void 0===E&&(E=new xa(h,o[m],a[m])),b[v]=E}}else t[d]!==p&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(e){for(var t=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,f=t[h];r[f.uuid]=l,t[l]=f,r[c]=h,t[h]=u;for(var d=0,p=o;d!==p;++d){var m=i[d],g=m[h],v=m[l];m[l]=g,m[h]=v}}}this.nCachedObjects_=n},uncache:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s].uuid,l=i[c];if(void 0!==l)if(delete i[c],l<r){var h=--r,f=t[h],d=t[y=--n];i[f.uuid]=l,t[l]=f,i[d.uuid]=h,t[h]=d,t.pop();for(var p=0,m=a;p!==m;++p){var g=(b=o[p])[h],v=b[y];b[l]=g,b[h]=v,b.pop()}}else{var y;for(i[(d=t[y=--n]).uuid]=l,t[l]=d,t.pop(),p=0,m=a;p!==m;++p){var b;(b=o[p])[l]=b[y],b.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var h=c,f=s.length;h!==f;++h){var d=s[h];l[h]=new xa(d,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},wa.prototype={constructor:wa,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(a),c[l].accumulate(r,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===nt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var o=r===it;if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(0===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&i))return this.time=t,n-t}return this.time=t,t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=ct,r.endingEnd=ct):(r.endingStart=e?this.zeroSlopeAtStart?ct:ut:lt,r.endingEnd=t?this.zeroSlopeAtEnd?ct:ut:lt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}},Object.assign(Ma.prototype,n.prototype,{clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ho.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new wa(this,i,t);return this._bindAction(c,s),this._addInactiveAction(c,o,r),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ho.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){var s=t[a];s.enabled&&s._update(r,e,i,o)}var u=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Object.assign(Ma.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],f=h.name,d=c[f];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;++(d=new ba(xa.create(n,f,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i];e:{for(var c in a)break e;delete o[r]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Do(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Aa.prototype.clone=function(){return new Aa(void 0===this.value.clone?this.value:this.value.clone())},_a.prototype=Object.create(lr.prototype),_a.prototype.constructor=_a,_a.prototype.isInstancedBufferGeometry=!0,_a.prototype.addGroup=function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n})},_a.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Ta.prototype={constructor:Ta,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},Sa.prototype={constructor:Sa,isInterleavedBuffer:!0,set needsUpdate(e){!0===e&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}},Na.prototype=Object.create(Sa.prototype),Na.prototype.constructor=Na,Na.prototype.isInstancedInterleavedBuffer=!0,Na.prototype.copy=function(e){return Sa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ca.prototype=Object.create(Kn.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isInstancedBufferAttribute=!0,Ca.prototype.copy=function(e){return Kn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ia.prototype={constructor:Ia,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Da(e,this,n,t),n.sort(La),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)Da(e[r],this,n,t);return n.sort(La),n}},Oa.prototype={constructor:Oa,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=(performance||Date).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},Pa.prototype={constructor:Pa,set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(At.clamp(e.y/this.radius,-1,1))),this}},ja.prototype={constructor:ja,set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}},ka.prototype=Object.create(hr.prototype),ka.prototype.constructor=ka,ka.prototype.createAnimation=function(e,t,n,r){var i={start:t,end:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},ka.prototype.autoCreateAnimations=function(e){for(var t,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(n);s&&s.length>1&&(r[u=s[1]]||(r[u]={start:1/0,end:-1/0}),o<(c=r[u]).start&&(c.start=o),o>c.end&&(c.end=o),t||(t=u))}for(var u in r){var c=r[u];this.createAnimation(u,c.start,c.end,e)}this.firstAnimation=t},ka.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},ka.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},ka.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},ka.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},ka.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},ka.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},ka.prototype.getAnimationTime=function(e){var t=0,n=this.animationsMap[e];return n&&(t=n.time),t},ka.prototype.getAnimationDuration=function(e){var t=-1,n=this.animationsMap[e];return n&&(t=n.duration),t},ka.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},ka.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},ka.prototype.update=function(e){for(var t=0,n=this.animationsList.length;t<n;t++){var r=this.animationsList[t];if(r.active){var i=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+At.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},Ua.prototype=Object.create(Yn.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isImmediateRenderObject=!0,Fa.prototype=Object.create(ri.prototype),Fa.prototype.constructor=Fa,Fa.prototype.update=function(){var e=new Dt,t=new Dt,n=new kn;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,c=0,l=0,h=u.length;l<h;l++)for(var f=u[l],d=0,p=f.vertexNormals.length;d<p;d++){var m=s[f[r[d]]],g=f.vertexNormals[d];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(c=0,d=0,p=v.count;d<p;d++)e.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),t.set(y.getX(d),y.getY(d),y.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(c,e.x,e.y,e.z),c+=1,o.setXYZ(c,t.x,t.y,t.z),c+=1}return o.needsUpdate=!0,this}}(),za.prototype=Object.create(Yn.prototype),za.prototype.constructor=za,za.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},za.prototype.update=function(){var e=new Dt,t=new Dt;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Ba.prototype=Object.create(ri.prototype),Ba.prototype.constructor=Ba,Ba.prototype.getBoneList=function(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,this.getBoneList(e.children[n]));return t},Ba.prototype.update=function(){var e=new Dt,t=new Ot,n=new Ot;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(t.multiplyMatrices(n,s.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(a,e.x,e.y,e.z),t.multiplyMatrices(n,s.parent.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(a+1,e.x,e.y,e.z),a+=2)}r.getAttribute("position").needsUpdate=!0}}(),Ga.prototype=Object.create(hr.prototype),Ga.prototype.constructor=Ga,Ga.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ga.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Ha.prototype=Object.create(Yn.prototype),Ha.prototype.constructor=Ha,Ha.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},Ha.prototype.update=function(){var e=new Dt,t=new Dt;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld);var i=t.clone().sub(e);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute("position"),u=s.array;u[0]=o,u[1]=-a,u[2]=0,u[3]=o,u[4]=a,u[5]=0,u[6]=-o,u[7]=a,u[8]=0,u[9]=-o,u[10]=a,u[11]=0,u[12]=-o,u[13]=-a,u[14]=0,u[15]=o,u[16]=-a,u[17]=0,s.needsUpdate=!0}}(),Va.prototype=Object.create(Yn.prototype),Va.prototype.constructor=Va,Va.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Va.prototype.update=function(){var e=new Dt,t=new Mn,n=new Mn;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");t.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?t:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),Ya.prototype=Object.create(ri.prototype),Ya.prototype.constructor=Ya,Wa.prototype=Object.create(ri.prototype),Wa.prototype.constructor=Wa,Xa.prototype=Object.create(ri.prototype),Xa.prototype.constructor=Xa,Xa.prototype.update=function(){var e=new Dt,t=new Dt,n=new kn;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],f=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}return i.needsUpdate=!0,this}}(),Qa.prototype=Object.create(Yn.prototype),Qa.prototype.constructor=Qa,Qa.prototype.dispose=function(){var e=this.children[0],t=this.children[1];e.geometry.dispose(),e.material.dispose(),t.geometry.dispose(),t.material.dispose()},Qa.prototype.update=function(){var e=new Dt,t=new Dt,n=new Dt;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),qa.prototype=Object.create(ri.prototype),qa.prototype.constructor=qa,qa.prototype.update=function(){var e,t,n=new Dt,r=new pr;function i(i,o,a,s){n.set(o,a,s).unproject(r);var u=t[i];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,h=u.length;l<h;l++)c.setXYZ(u[l],n.x,n.y,n.z)}return function(){e=this.geometry,t=this.pointMap;var n=1,o=1;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-n,-o,-1),i("n2",n,-o,-1),i("n3",-n,o,-1),i("n4",n,o,-1),i("f1",-n,-o,1),i("f2",n,-o,1),i("f3",-n,o,1),i("f4",n,o,1),i("u1",.7*n,1.1*o,-1),i("u2",.7*-n,1.1*o,-1),i("u3",0,2*o,-1),i("cf1",-n,0,1),i("cf2",n,0,1),i("cf3",0,-o,1),i("cf4",0,o,1),i("cn1",-n,0,-1),i("cn2",n,0,-1),i("cn3",0,-o,-1),i("cn4",0,o,-1),e.getAttribute("position").needsUpdate=!0}}(),Ka.prototype=Object.create(ri.prototype),Ka.prototype.constructor=Ka,Ka.prototype.update=function(){var e=new Pn;return function(t){if(t&&t.isBox3?e.copy(t):e.setFromObject(t),!e.isEmpty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Za=new lr;Za.addAttribute("position",new ir([0,0,0,0,1,0],3));var Ja=new Hi(0,.5,1,5,1);function $a(e,t,n,r,i,o){Yn.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),this.position.copy(t),this.line=new ni(Za,new ti({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new hr(Ja,new qn({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function es(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new lr;r.addAttribute("position",new ir(t,3)),r.addAttribute("color",new ir(n,3));var i=new ti({vertexColors:E});ri.call(this,r,i)}Ja.translate(0,-.5,0),$a.prototype=Object.create(Yn.prototype),$a.prototype.constructor=$a,$a.prototype.setDirection=function(){var e,t=new Dt;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),$a.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},$a.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},es.prototype=Object.create(ri.prototype),es.prototype.constructor=es;var ts=function(){var e=new Dt,t=new i,n=new i,r=new i;function i(){}return i.prototype.init=function(e,t,n,r){this.c0=e,this.c1=n,this.c2=-3*e+3*t-2*n-r,this.c3=2*e-2*t+n+r},i.prototype.initNonuniformCatmullRom=function(e,t,n,r,i,o,a){var s=(t-e)/i-(n-e)/(i+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+a)+(r-n)/a;s*=o,u*=o,this.init(t,n,s,u)},i.prototype.initCatmullRom=function(e,t,n,r,i){this.init(t,n,i*(n-e),i*(r-t))},i.prototype.calc=function(e){var t=e*e,n=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*n},qo.create((function(e){this.points=e||[],this.closed=!1}),(function(i){var o,a,s,u,c,l,h,f,d=this.points;if((u=d.length)<2&&console.log("duh, you need at least 2 points"),s=(o=(u-(this.closed?0:1))*i)-(a=Math.floor(o)),this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/d.length)+1)*d.length:0===s&&a===u-1&&(a=u-2,s=1),this.closed||a>0?c=d[(a-1)%u]:(e.subVectors(d[0],d[1]).add(d[0]),c=e),l=d[a%u],h=d[(a+1)%u],this.closed||a+2<u?f=d[(a+2)%u]:(e.subVectors(d[u-1],d[u-2]).add(d[u-1]),f=e),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var p="chordal"===this.type?.5:.25,m=Math.pow(c.distanceToSquared(l),p),g=Math.pow(l.distanceToSquared(h),p),v=Math.pow(h.distanceToSquared(f),p);g<1e-4&&(g=1),m<1e-4&&(m=g),v<1e-4&&(v=g),t.initNonuniformCatmullRom(c.x,l.x,h.x,f.x,m,g,v),n.initNonuniformCatmullRom(c.y,l.y,h.y,f.y,m,g,v),r.initNonuniformCatmullRom(c.z,l.z,h.z,f.z,m,g,v)}else if("catmullrom"===this.type){var y=void 0!==this.tension?this.tension:.5;t.initCatmullRom(c.x,l.x,h.x,f.x,y),n.initCatmullRom(c.y,l.y,h.y,f.y,y),r.initCatmullRom(c.z,l.z,h.z,f.z,y)}return new Dt(t.calc(s),n.calc(s),r.calc(s))}))}(),ns=qo.create((function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===e?[]:e}),(function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),i=n-r,o=t[0==r?r:r-1],a=t[r],s=t[r>t.length-2?t.length-1:r+1],u=t[r>t.length-3?t.length-1:r+2],c=$o.interpolate;return new Dt(c(o.x,a.x,s.x,u.x,i),c(o.y,a.y,s.y,u.y,i),c(o.z,a.z,s.z,u.z,i))})),rs=qo.create((function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r}),(function(e){var t=Ii.b3;return new Dt(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),is=qo.create((function(e,t,n){this.v0=e,this.v1=t,this.v2=n}),(function(e){var t=Ii.b2;return new Dt(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))})),os=qo.create((function(e,t){this.v1=e,this.v2=t}),(function(e){if(1===e)return this.v2.clone();var t=new Dt;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}));function as(e,t,n,r,i,o){Jo.call(this,e,t,n,n,r,i,o)}as.prototype=Object.create(Jo.prototype),as.prototype.constructor=as;var ss={createMultiMaterialObject:function(e,t){for(var n=new ai,r=0,i=t.length;r<i;r++)n.add(new hr(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new Ot;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}};function us(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Qn(e,t,n,i,o,a)}var cs=0,ls=1;function hs(e){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new $i(e)}function fs(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new oi(e,t)}function ds(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Kr(e)}function ps(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new oi(e,t)}function ms(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ii(e)}function gs(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ii(e)}function vs(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ii(e)}function ys(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Dt(e,t,n)}function bs(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Kn(e,t).setDynamic(!0)}function xs(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Zn(e,t)}function Es(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Jn(e,t)}function ws(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new $n(e,t)}function Ms(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new er(e,t)}function As(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new tr(e,t)}function _s(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new nr(e,t)}function Ts(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new rr(e,t)}function Ss(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ir(e,t)}function Ns(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new or(e,t)}function Cs(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ts.call(this,e),this.type="catmullrom",this.closed=!0}function Is(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Ka(e,t)}function Ls(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ri(new Gi(e.geometry),new ti({color:void 0!==t?t:16777215}))}function Ds(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ri(new hi(e.geometry),new ti({color:void 0!==t?t:16777215}))}function Os(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ho(e)}Cs.prototype=Object.create(ts.prototype),Ya.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Nn.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Pn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Wn.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},At.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(kn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)}}),Object.assign(Ot.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new Dt),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)}}),Un.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Lt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Bn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(oa.prototype,{extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Li(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Bi(this,e)}}),Object.assign(Dt.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)}}),sr.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(Yn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(Yn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Zr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),mr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(bo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Kn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(lr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(lr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Aa.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Dn.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new Mn}}}),Object.defineProperties(no.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(On.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),n.prototype=Object.assign(Object.create({constructor:n,apply:function(e){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(e,this)}}),n.prototype),Object.assign(Vr.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Vr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(zn.prototype,{cullFace:{get:function(){return this.renderReverseSided?s:a},set:function(e){var t=e!==a;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(Ct.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),ga.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new ha).load(e,(function(e){t.setBuffer(e)})),this},ya.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Rs={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},Ps={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new yo;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new vo;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function js(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function ks(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}t.WebGLRenderTargetCube=It,t.WebGLRenderTarget=Ct,t.WebGLRenderer=Vr,t.ShaderLib=Sn,t.UniformsLib=Tn,t.UniformsUtils=En,t.ShaderChunk=wn,t.FogExp2=Yr,t.Fog=Wr,t.Scene=Xr,t.LensFlare=Qr,t.Sprite=Kr,t.LOD=Zr,t.SkinnedMesh=ei,t.Skeleton=Jr,t.Bone=$r,t.Mesh=hr,t.LineSegments=ri,t.Line=ni,t.Points=oi,t.Group=ai,t.VideoTexture=si,t.DataTexture=_n,t.CompressedTexture=ui,t.CubeTexture=Rt,t.CanvasTexture=ci,t.DepthTexture=li,t.Texture=St,t.CompressedTextureLoader=fo,t.BinaryTextureLoader=mo,t.DataTextureLoader=po,t.CubeTextureLoader=vo,t.TextureLoader=yo,t.ObjectLoader=Qo,t.MaterialLoader=Vo,t.BufferGeometryLoader=Yo,t.DefaultLoadingManager=lo,t.LoadingManager=co,t.JSONLoader=Xo,t.ImageLoader=go,t.FontLoader=ca,t.FileLoader=ho,t.Loader=Wo,t.Cache=uo,t.AudioLoader=ha,t.SpotLightShadow=wo,t.SpotLight=Mo,t.PointLight=Ao,t.RectAreaLight=fa,t.HemisphereLight=xo,t.DirectionalLightShadow=_o,t.DirectionalLight=To,t.AmbientLight=So,t.LightShadow=Eo,t.Light=bo,t.StereoCamera=da,t.PerspectiveCamera=mr,t.OrthographicCamera=gr,t.CubeCamera=pa,t.Camera=pr,t.AudioListener=ma,t.PositionalAudio=va,t.AudioContext=la,t.AudioAnalyser=ya,t.Audio=ga,t.VectorKeyframeTrack=Po,t.StringKeyframeTrack=Fo,t.QuaternionKeyframeTrack=ko,t.NumberKeyframeTrack=Uo,t.ColorKeyframeTrack=Bo,t.BooleanKeyframeTrack=zo,t.PropertyMixer=ba,t.PropertyBinding=xa,t.KeyframeTrack=Go,t.AnimationUtils=Co,t.AnimationObjectGroup=Ea,t.AnimationMixer=Ma,t.AnimationClip=Ho,t.Uniform=Aa,t.InstancedBufferGeometry=_a,t.BufferGeometry=lr,t.GeometryIdCount=cr,t.Geometry=sr,t.InterleavedBufferAttribute=Ta,t.InstancedInterleavedBuffer=Na,t.InterleavedBuffer=Sa,t.InstancedBufferAttribute=Ca,t.Face3=Qn,t.Object3D=Yn,t.Raycaster=Ia,t.Layers=Hn,t.EventDispatcher=n,t.Clock=Oa,t.QuaternionLinearInterpolant=jo,t.LinearInterpolant=Do,t.DiscreteInterpolant=Oo,t.CubicInterpolant=Lo,t.Interpolant=Io,t.Triangle=Xn,t.Spline=Ra,t.Math=At,t.Spherical=Pa,t.Cylindrical=ja,t.Plane=Un,t.Frustum=Fn,t.Sphere=jn,t.Ray=Bn,t.Matrix4=Ot,t.Matrix3=kn,t.Box3=Pn,t.Box2=Nn,t.Line3=Wn,t.Euler=Gn,t.Vector4=Nt,t.Vector3=Dt,t.Vector2=_t,t.Quaternion=Lt,t.Color=Mn,t.MorphBlendMesh=ka,t.ImmediateRenderObject=Ua,t.VertexNormalsHelper=Fa,t.SpotLightHelper=za,t.SkeletonHelper=Ba,t.PointLightHelper=Ga,t.RectAreaLightHelper=Ha,t.HemisphereLightHelper=Va,t.GridHelper=Ya,t.PolarGridHelper=Wa,t.FaceNormalsHelper=Xa,t.DirectionalLightHelper=Qa,t.CameraHelper=qa,t.BoxHelper=Ka,t.ArrowHelper=$a,t.AxisHelper=es,t.CatmullRomCurve3=ts,t.SplineCurve3=ns,t.CubicBezierCurve3=rs,t.QuadraticBezierCurve3=is,t.LineCurve3=os,t.ArcCurve=as,t.EllipseCurve=Jo,t.SplineCurve=ea,t.CubicBezierCurve=ta,t.QuadraticBezierCurve=na,t.LineCurve=Ko,t.Shape=oa,t.ShapePath=sa,t.Path=aa,t.Font=ua,t.CurvePath=Zo,t.Curve=qo,t.ShapeUtils=Ii,t.SceneUtils=ss,t.CurveUtils=$o,t.WireframeGeometry=hi,t.ParametricGeometry=di,t.ParametricBufferGeometry=fi,t.TetrahedronGeometry=gi,t.TetrahedronBufferGeometry=mi,t.OctahedronGeometry=yi,t.OctahedronBufferGeometry=vi,t.IcosahedronGeometry=xi,t.IcosahedronBufferGeometry=bi,t.DodecahedronGeometry=wi,t.DodecahedronBufferGeometry=Ei,t.PolyhedronGeometry=Mi,t.PolyhedronBufferGeometry=pi,t.TubeGeometry=_i,t.TubeBufferGeometry=Ai,t.TorusKnotGeometry=Si,t.TorusKnotBufferGeometry=Ti,t.TorusGeometry=Ci,t.TorusBufferGeometry=Ni,t.TextGeometry=Di,t.SphereBufferGeometry=Oi,t.SphereGeometry=Ri,t.RingGeometry=ji,t.RingBufferGeometry=Pi,t.PlaneBufferGeometry=dr,t.PlaneGeometry=ki,t.LatheGeometry=Fi,t.LatheBufferGeometry=Ui,t.ShapeGeometry=Bi,t.ShapeBufferGeometry=zi,t.ExtrudeGeometry=Li,t.EdgesGeometry=Gi,t.ConeGeometry=Yi,t.ConeBufferGeometry=Wi,t.CylinderGeometry=Vi,t.CylinderBufferGeometry=Hi,t.CircleBufferGeometry=Xi,t.CircleGeometry=Qi,t.BoxBufferGeometry=fr,t.BoxGeometry=qi,t.ShadowMaterial=Zi,t.SpriteMaterial=qr,t.RawShaderMaterial=Ji,t.ShaderMaterial=On,t.PointsMaterial=ii,t.MultiMaterial=$i,t.MeshPhysicalMaterial=to,t.MeshStandardMaterial=eo,t.MeshPhongMaterial=no,t.MeshToonMaterial=ro,t.MeshNormalMaterial=io,t.MeshLambertMaterial=oo,t.MeshDepthMaterial=Rn,t.MeshBasicMaterial=qn,t.LineDashedMaterial=ao,t.LineBasicMaterial=ti,t.Material=Dn,t.Float64BufferAttribute=or,t.Float32BufferAttribute=ir,t.Uint32BufferAttribute=rr,t.Int32BufferAttribute=nr,t.Uint16BufferAttribute=tr,t.Int16BufferAttribute=er,t.Uint8ClampedBufferAttribute=$n,t.Uint8BufferAttribute=Jn,t.Int8BufferAttribute=Zn,t.BufferAttribute=Kn,t.REVISION=r,t.MOUSE=i,t.CullFaceNone=o,t.CullFaceBack=a,t.CullFaceFront=s,t.CullFaceFrontBack=u,t.FrontFaceDirectionCW=c,t.FrontFaceDirectionCCW=l,t.BasicShadowMap=h,t.PCFShadowMap=f,t.PCFSoftShadowMap=d,t.FrontSide=p,t.BackSide=m,t.DoubleSide=g,t.FlatShading=v,t.SmoothShading=y,t.NoColors=b,t.FaceColors=x,t.VertexColors=E,t.NoBlending=w,t.NormalBlending=M,t.AdditiveBlending=A,t.SubtractiveBlending=_,t.MultiplyBlending=T,t.CustomBlending=S,t.BlendingMode=N,t.AddEquation=C,t.SubtractEquation=I,t.ReverseSubtractEquation=L,t.MinEquation=D,t.MaxEquation=O,t.ZeroFactor=R,t.OneFactor=P,t.SrcColorFactor=j,t.OneMinusSrcColorFactor=k,t.SrcAlphaFactor=U,t.OneMinusSrcAlphaFactor=F,t.DstAlphaFactor=z,t.OneMinusDstAlphaFactor=B,t.DstColorFactor=G,t.OneMinusDstColorFactor=H,t.SrcAlphaSaturateFactor=V,t.NeverDepth=Y,t.AlwaysDepth=W,t.LessDepth=X,t.LessEqualDepth=Q,t.EqualDepth=q,t.GreaterEqualDepth=K,t.GreaterDepth=Z,t.NotEqualDepth=J,t.MultiplyOperation=$,t.MixOperation=ee,t.AddOperation=te,t.NoToneMapping=ne,t.LinearToneMapping=re,t.ReinhardToneMapping=ie,t.Uncharted2ToneMapping=oe,t.CineonToneMapping=ae,t.UVMapping=se,t.CubeReflectionMapping=ue,t.CubeRefractionMapping=ce,t.EquirectangularReflectionMapping=le,t.EquirectangularRefractionMapping=he,t.SphericalReflectionMapping=fe,t.CubeUVReflectionMapping=de,t.CubeUVRefractionMapping=pe,t.TextureMapping=me,t.RepeatWrapping=ge,t.ClampToEdgeWrapping=ve,t.MirroredRepeatWrapping=ye,t.TextureWrapping=be,t.NearestFilter=xe,t.NearestMipMapNearestFilter=Ee,t.NearestMipMapLinearFilter=we,t.LinearFilter=Me,t.LinearMipMapNearestFilter=Ae,t.LinearMipMapLinearFilter=_e,t.TextureFilter=Te,t.UnsignedByteType=Se,t.ByteType=Ne,t.ShortType=Ce,t.UnsignedShortType=Ie,t.IntType=Le,t.UnsignedIntType=De,t.FloatType=Oe,t.HalfFloatType=Re,t.UnsignedShort4444Type=Pe,t.UnsignedShort5551Type=je,t.UnsignedShort565Type=ke,t.UnsignedInt248Type=Ue,t.AlphaFormat=Fe,t.RGBFormat=ze,t.RGBAFormat=Be,t.LuminanceFormat=Ge,t.LuminanceAlphaFormat=He,t.RGBEFormat=Ve,t.DepthFormat=Ye,t.DepthStencilFormat=We,t.RGB_S3TC_DXT1_Format=Xe,t.RGBA_S3TC_DXT1_Format=Qe,t.RGBA_S3TC_DXT3_Format=qe,t.RGBA_S3TC_DXT5_Format=Ke,t.RGB_PVRTC_4BPPV1_Format=Ze,t.RGB_PVRTC_2BPPV1_Format=Je,t.RGBA_PVRTC_4BPPV1_Format=$e,t.RGBA_PVRTC_2BPPV1_Format=et,t.RGB_ETC1_Format=tt,t.LoopOnce=nt,t.LoopRepeat=rt,t.LoopPingPong=it,t.InterpolateDiscrete=ot,t.InterpolateLinear=at,t.InterpolateSmooth=st,t.ZeroCurvatureEnding=ut,t.ZeroSlopeEnding=ct,t.WrapAroundEnding=lt,t.TrianglesDrawMode=ht,t.TriangleStripDrawMode=ft,t.TriangleFanDrawMode=dt,t.LinearEncoding=pt,t.sRGBEncoding=mt,t.GammaEncoding=gt,t.RGBEEncoding=vt,t.LogLuvEncoding=yt,t.RGBM7Encoding=bt,t.RGBM16Encoding=xt,t.RGBDEncoding=Et,t.BasicDepthPacking=wt,t.RGBADepthPacking=Mt,t.CubeGeometry=qi,t.Face4=us,t.LineStrip=cs,t.LinePieces=ls,t.MeshFaceMaterial=hs,t.PointCloud=fs,t.Particle=ds,t.ParticleSystem=ps,t.PointCloudMaterial=ms,t.ParticleBasicMaterial=gs,t.ParticleSystemMaterial=vs,t.Vertex=ys,t.DynamicBufferAttribute=bs,t.Int8Attribute=xs,t.Uint8Attribute=Es,t.Uint8ClampedAttribute=ws,t.Int16Attribute=Ms,t.Uint16Attribute=As,t.Int32Attribute=_s,t.Uint32Attribute=Ts,t.Float32Attribute=Ss,t.Float64Attribute=Ns,t.ClosedSplineCurve3=Cs,t.BoundingBoxHelper=Is,t.EdgesHelper=Ls,t.WireframeHelper=Ds,t.XHRLoader=Os,t.GeometryUtils=Rs,t.ImageUtils=Ps,t.Projector=js,t.CanvasRenderer=ks,Object.defineProperty(t,"__esModule",{value:!0})},"object"===typeof i&&"undefined"!==typeof r?a(i):"function"===typeof t&&t.amd?t(["exports"],a):a(o.THREE=o.THREE||{})},{}],43:[function(e,t,n){THREE.BlendCharacter=function(){this.weightSchedule=[],this.warpSchedule=[],this.load=function(e,t){var n=this;(new THREE.ObjectLoader).load(e,(function(r){if(r.traverse((function(e){e instanceof THREE.SkinnedMesh&&(n.skinnedMesh=e)})),THREE.SkinnedMesh.call(n,n.skinnedMesh.geometry,n.skinnedMesh.material),void 0!=n.skinnedMesh){n.material.skinning=!0,n.mixer=new THREE.AnimationMixer(n);for(var i=0;i<n.geometry.animations.length;++i)n.mixer.clipAction(n.geometry.animations[i]);void 0!==t&&t()}else console.log("unable to find skinned mesh in "+e)}))},this.loadJSON=function(e,t){var n=this;(new THREE.JSONLoader).load(e,(function(e,r){var i=r[0];i.skinning=!0,THREE.SkinnedMesh.call(n,e,i);var o=new THREE.AnimationMixer(n);n.mixer=o;for(var a=0;a<e.animations.length;++a)o.clipAction(e.animations[a]);void 0!==t&&t()}))},this.update=function(e){this.mixer.update(e)},this.play=function(e,t){return this.mixer.clipAction(e).setEffectiveWeight(t).play()},this.crossfade=function(e,t,n){this.mixer.stopAllAction();var r=this.play(e,1),i=this.play(t,1);r.crossFadeTo(i,n,!1)},this.warp=function(e,t,n){this.mixer.stopAllAction();var r=this.play(e,1),i=this.play(t,1);r.crossFadeTo(i,n,!0)},this.applyWeight=function(e,t){this.mixer.clipAction(e).setEffectiveWeight(t)},this.getWeight=function(e){return this.mixer.clipAction(e).getEffectiveWeight()},this.pauseAll=function(){this.mixer.timeScale=0},this.unPauseAll=function(){this.mixer.timeScale=1},this.stopAll=function(){this.mixer.stopAllAction()},this.showModel=function(e){this.visible=e}},THREE.BlendCharacter.prototype=Object.create(THREE.SkinnedMesh.prototype),THREE.BlendCharacter.prototype.constructor=THREE.BlendCharacter,THREE.BlendCharacter.prototype.getForward=function(){var e=new THREE.Vector3;return function(){return e.set(-this.matrix.elements[8],-this.matrix.elements[9],-this.matrix.elements[10]),e}}},{}],44:[function(e,t,n){THREE.ColladaLoader=function(){var e,t,n,r,i,o,a,s,u,c=null,l=null,h=null,f={},d={},p={},m={},g={},v={},y={},b={},x={},E=THREE.SmoothShading,w={centerGeometry:!1,convertUpAxis:!1,subdivideFaces:!0,upAxis:"Y",defaultEnvMap:null},M=1,A="Y",_=null;function T(e,t,n,r){var i=0;if(document.implementation&&document.implementation.createDocument){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState?0===o.status||200===o.status?o.response?(h=t,S(o.response,void 0,e)):r?r({type:"error",url:e}):console.error("ColladaLoader: Empty or non-existing file ("+e+")"):r?r({type:"error",url:e}):console.error("ColladaLoader: Couldn't load \""+e+'" ('+o.status+")"):3===o.readyState&&n&&(0===i&&(i=o.getResponseHeader("Content-Length")),n({total:i,loaded:o.responseText.length}))},o.open("GET",e,!0),o.send(null)}else alert("Don't know how to parse XML!")}function S(f,E,w){if(c=(new DOMParser).parseFromString(f,"text/xml"),E=E||h,void 0!==w){var A=w.split("/");A.pop(),a=(A.length<1?".":A.join("/"))+"/"}C(),We(),d=I("library_images image",J,"image"),v=I("library_materials material",ye,"material"),y=I("library_effects effect",Me,"effect"),g=I("library_geometries geometry",ue,"geometry"),b=I("library_cameras camera",Ce,"camera"),x=I("library_lights light",Le,"light"),m=I("library_controllers controller",$,"controller"),p=I("library_animations animation",_e,"animation"),i=I("library_visual_scenes visual_scene",ne,"visual_scene"),o=I("library_kinematics_models kinematics_model",Oe,"kinematics_model"),s=[],u=[],e=L(),l=new THREE.Group;for(var _=0;_<e.nodes.length;_++)l.add(H(e.nodes[_]));l.scale.multiplyScalar(M),O(),t=D(),G();var T={scene:l,morphs:s,skins:u,animations:n,kinematics:r,dae:{images:d,materials:v,cameras:b,lights:x,effects:y,geometries:g,controllers:m,animations:p,visualScenes:i,visualScene:e,scene:e,kinematicsModels:o,kinematicsModel:t}};return E&&E(T),T}function N(e){E=e}function C(){var e=c.querySelectorAll("asset")[0];if(e&&e.childNodes)for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"unit":var r=n.getAttribute("meter");r&&(M=parseFloat(r));break;case"up_axis":A=n.textContent.charAt(0)}}}function I(e,t,n){for(var r=c.querySelectorAll(e),i={},o=0,a=r.length,s=0;s<a;s++){var u=r[s],l=(new t).parse(u);l.id&&0!==l.id.length||(l.id=n+o++),i[l.id]=l}return i}function L(){var e=c.querySelectorAll("scene instance_visual_scene")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return i[t.length>0?t:"visual_scene0"]}return null}function D(){var e=c.querySelectorAll("instance_kinematics_model")[0];if(e){var t=e.getAttribute("url").replace(/^#/,"");return o[t.length>0?t:"kinematics_model0"]}return null}function O(){n=[],R(l)}function R(t){var r=e.getChildById(t.colladaId,!0),i=null;if(r&&r.keys){i={fps:60,hierarchy:[{node:r,keys:r.keys,sids:r.sids}],node:t,name:"animation_"+t.name,length:0},n.push(i);for(var o=0,a=r.keys.length;o<a;o++)i.length=Math.max(i.length,r.keys[o].time)}else i={hierarchy:[{keys:[],sids:[]}]};for(o=0,a=t.children.length;o<a;o++)for(var s=0,u=R(t.children[o]).hierarchy.length;s<u;s++)i.hierarchy.push({keys:[],sids:[]});return i}function P(){var e,t=1e6,n=-t,r=0;for(var i in p){var o=p[i];e=e||o.id;for(var a=0;a<o.sampler.length;a++){var s=o.sampler[a];s.create(),t=Math.min(t,s.startTime),n=Math.max(n,s.endTime),r=Math.max(r,s.input.length)}}return{start:t,end:n,frames:r,ID:e}}function j(e,t){var n=t instanceof oe?m[t.url]:t;if(n&&n.morph){for(var r=n.morph,i=0;i<r.targets.length;i++){var o=r.targets[i],a=g[o];if(a.mesh&&a.mesh.primitives&&a.mesh.primitives.length){var s=a.mesh.primitives[0].geometry;s.vertices.length===e.vertices.length&&e.morphTargets.push({name:"target_1",vertices:s.vertices})}}e.morphTargets.push({name:"target_Z",vertices:e.vertices})}else console.log("could not find morph controller!")}function k(e,t,n,r){if(e.world=e.world||new THREE.Matrix4,e.localworld=e.localworld||new THREE.Matrix4,e.world.copy(e.matrix),e.localworld.copy(e.matrix),e.channels&&e.channels.length){var i=e.channels[0].sampler.output[n];i instanceof THREE.Matrix4&&(e.world.copy(i),e.localworld.copy(i),0===n&&e.matrix.copy(i))}r&&e.world.multiplyMatrices(r,e.world),t.push(e);for(var o=0;o<e.nodes.length;o++)k(e.nodes[o],t,n,e.world)}function U(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=-1;if("JOINT"==r.type){for(var o=0;o<t.joints.length;o++)if(r.sid===t.joints[o]){i=o;break}if(i>=0){var a=t.invBindMatrices[i];for(r.invBindMatrix=a,r.skinningMatrix=new THREE.Matrix4,r.skinningMatrix.multiplyMatrices(r.world,a),r.animatrix=new THREE.Matrix4,r.animatrix.copy(r.localworld),r.weights=[],o=0;o<t.weights.length;o++)for(var s=0;s<t.weights[o].length;s++){var u=t.weights[o][s];u.joint===i&&r.weights.push(u)}}else console.warn("ColladaLoader: Could not find joint '"+r.sid+"'."),r.skinningMatrix=new THREE.Matrix4,r.weights=[]}}}function F(e){var t=[],n=function e(t,n,r){var i={};i.name=n.sid,i.parent=t,i.matrix=n.matrix;var o=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];for(var a in i.matrix.decompose(o[0],o[1],o[2]),i.pos=[o[0].x,o[0].y,o[0].z],i.scl=[o[2].x,o[2].y,o[2].z],i.rotq=[o[1].x,o[1].y,o[1].z,o[1].w],r.push(i),n.nodes)e(n.sid,n.nodes[a],r)};return n(-1,e,t),t}function z(e,t,n){var r=[];k(t,r,-1),U(r,n.skin);for(var i=new THREE.Vector3,o=[],a=0;a<e.vertices.length;a++)o.push(new THREE.Vector3);for(a=0;a<r.length;a++)if("JOINT"==r[a].type)for(var s=0;s<r[a].weights.length;s++){var u=r[a].weights[s],c=u.index,l=u.weight,h=e.vertices[c],f=o[c];i.x=h.x,i.y=h.y,i.z=h.z,i.applyMatrix4(r[a].skinningMatrix),f.x+=i.x*l,f.y+=i.y*l,f.z+=i.z*l}for(a=0;a<e.vertices.length;a++)e.vertices[a]=o[a]}function B(t,n,r){var i=m[n.url];if(r=void 0!==r?r:40,i&&i.skin)if(n.skeleton&&n.skeleton.length){for(var o=P(),a=e.getChildById(n.skeleton[0],!0)||e.getChildBySid(n.skeleton[0],!0),s=F(a),u=i.skin.joints,c=[],l=0;l<u.length;l++)for(var h=0;h<s.length;h++)s[h].name===u[l]&&(c[l]=s[h]);for(var l=0;l<c.length;l++)for(var h=0;h<c.length;h++)c[l].parent===c[h].name&&(c[l].parent=h);for(new THREE.Vector3,l=0;l<t.vertices.length;l++)t.vertices[l].applyMatrix4(i.skin.bindShapeMatrix);var f=[],d=[],p=i.skin.weights;for(l=0;l<p.length;l++){var g=new THREE.Vector4(p[l][0]?p[l][0].joint:0,p[l][1]?p[l][1].joint:0,p[l][2]?p[l][2].joint:0,p[l][3]?p[l][3].joint:0),v=new THREE.Vector4(p[l][0]?p[l][0].weight:0,p[l][1]?p[l][1].weight:0,p[l][2]?p[l][2].weight:0,p[l][3]?p[l][3].weight:0);f.push(g),d.push(v)}t.skinIndices=f,t.skinWeights=d,t.bones=c;var y={name:o.ID,fps:30,length:o.frames/30,hierarchy:[]};for(h=0;h<c.length;h++)y.hierarchy.push({parent:c[h].parent,name:c[h].name,keys:[]});for(console.log("ColladaLoader:",o.ID+" has "+c.length+" bones."),z(t,a,i),r=0;r<o.frames;r++){var b=[];for(k(a,b,r),U(b,i.skin),l=0;l<b.length;l++)for(h=0;h<y.hierarchy.length;h++)if(y.hierarchy[h].name===b[l].sid){var x={};x.time=r/30,x.matrix=b[l].animatrix,0===r&&(b[l].matrix=x.matrix);var E=[new THREE.Vector3,new THREE.Quaternion,new THREE.Vector3];x.matrix.decompose(E[0],E[1],E[2]),x.pos=[E[0].x,E[0].y,E[0].z],x.scl=[E[2].x,E[2].y,E[2].z],x.rot=E[1],y.hierarchy[h].keys.push(x)}t.animation=y}}else console.log("ColladaLoader: Could not find the skeleton for the skin. ");else console.log("ColladaLoader: Could not find skin controller.")}function G(){if(t&&0===t.joints.length)r=void 0;else{var n={},i=function(r,i){var o=i.getAttribute("id"),a=e.getChildById(o,!0),s=t.joints[r];l.traverse((function(e){e.colladaId==o&&(n[r]={node:e,transforms:a.transforms,joint:s,position:s.zeroPosition})}))};r={joints:t&&t.joints,getJointValue:function(e){var t=n[e];if(t)return t.position;console.log("getJointValue: joint "+e+" doesn't exist")},setJointValue:function(e,t){var r=n[e];if(r){var i=r.joint;if(t>i.limits.max||t<i.limits.min)console.log("setJointValue: joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+")");else if(i.static)console.log("setJointValue: joint "+e+" is static");else{var o=r.node,s=i.axis,u=r.transforms,c=new THREE.Matrix4;for(a=0;a<u.length;a++){var l=u[a];if(l.sid&&-1!==l.sid.indexOf("joint"+e))switch(i.type){case"revolute":c.multiply(h.makeRotationAxis(s,THREE.Math.degToRad(t)));break;case"prismatic":c.multiply(h.makeTranslation(s.x*t,s.y*t,s.z*t));break;default:console.warn("setJointValue: unknown joint type: "+i.type)}else{var h=new THREE.Matrix4;switch(l.type){case"matrix":c.multiply(l.obj);break;case"translate":c.multiply(h.makeTranslation(l.obj.x,l.obj.y,l.obj.z));break;case"rotate":c.multiply(h.makeRotationAxis(l.obj,l.angle))}}}var f=c.elements,d=Array.prototype.slice.call(f),p=[d[0],d[4],d[8],d[12],d[1],d[5],d[9],d[13],d[2],d[6],d[10],d[14],d[3],d[7],d[11],d[15]];o.matrix.set.apply(o.matrix,p),o.matrix.decompose(o.position,o.quaternion,o.scale)}}else console.log("setJointValue: joint "+e+" doesn't exist")}};var o=c.querySelector("scene instance_kinematics_scene");if(o)for(var a=0;a<o.childNodes.length;a++){var s=o.childNodes[a];if(1==s.nodeType&&"bind_joint_axis"===s.nodeName){var u=s.getAttribute("target").split("/").pop(),h=s.querySelector("axis param").textContent,f=parseInt(h.split("joint").pop().split(".")[0]),d=c.querySelector('[sid="'+u+'"]');d&&i(f,d.parentElement)}}}}function H(e,t){var n,r,i,o,a=new THREE.Object3D;for(i=0;i<e.controllers.length;i++){var c=m[e.controllers[i].url];switch(c.type){case"skin":if(g[c.skin.source])(h=new se).url=c.skin.source,h.instance_material=e.controllers[i].instance_material,e.geometries.push(h),n=e.controllers[i];else if(m[c.skin.source]){var l=m[c.skin.source];r=l,l.morph&&g[l.morph.source]&&((h=new se).url=l.morph.source,h.instance_material=e.controllers[i].instance_material,e.geometries.push(h))}break;case"morph":var h;g[c.morph.source]&&((h=new se).url=c.morph.source,h.instance_material=e.controllers[i].instance_material,e.geometries.push(h),r=e.controllers[i]),console.log("ColladaLoader: Morph-controller partially supported.")}}var f={};for(i=0;i<e.geometries.length;i++){var d,p=e.geometries[i],E=p.instance_material,M=g[p.url],A={},_=[],T=0;if(M){if(!M.mesh||!M.mesh.primitives)continue;if(0===a.name.length&&(a.name=M.id),E)for(o=0;o<E.length;o++){var S=E[o],N=v[S.target],C=N.instance_effect.url,I=y[C].shader.material;if(M.doubleSided){if(!(S.symbol in f)){var L=I.clone();L.side=THREE.DoubleSide,f[S.symbol]=L}I=f[S.symbol]}I.opacity=I.opacity?I.opacity:1,A[S.symbol]=T,_.push(I),(d=I).name=null===N.name||""===N.name?N.id:N.name,T++}var D,O=d||new THREE.MeshLambertMaterial({color:14540253,side:M.doubleSided?THREE.DoubleSide:THREE.FrontSide}),R=M.mesh.geometry3js;if(T>1)for(O=new THREE.MultiMaterial(_),o=0;o<R.faces.length;o++){var P=R.faces[o];P.materialIndex=A[P.daeMaterial]}void 0!==n?(B(R,n),R.morphTargets.length>0?(O.morphTargets=!0,O.skinning=!1):(O.morphTargets=!1,O.skinning=!0),(D=new THREE.SkinnedMesh(R,O,!1)).name="skin_"+u.length,u.push(D)):void 0!==r?(j(R,r),O.morphTargets=!0,(D=new THREE.Mesh(R,O)).name="morph_"+s.length,s.push(D)):D=!0===R.isLineStrip?new THREE.Line(R):new THREE.Mesh(R,O),a.add(D)}}for(i=0;i<e.cameras.length;i++){var k=e.cameras[i],U=b[k.url],F=new THREE.PerspectiveCamera(U.yfov,parseFloat(U.aspect_ratio),parseFloat(U.znear),parseFloat(U.zfar));a.add(F)}for(i=0;i<e.lights.length;i++){var z=null,G=e.lights[i],V=x[G.url];if(V&&V.technique){var Y=V.color.getHex(),W=V.intensity,X=V.distance,Q=V.falloff_angle;switch(V.technique){case"directional":(z=new THREE.DirectionalLight(Y,W,X)).position.set(0,0,1);break;case"point":z=new THREE.PointLight(Y,W,X);break;case"spot":(z=new THREE.SpotLight(Y,W,X,Q)).position.set(0,0,1);break;case"ambient":z=new THREE.AmbientLight(Y)}}z&&a.add(z)}if(a.name=e.name||e.id||"",a.colladaId=e.id||"",a.layer=e.layer||"",a.matrix=e.matrix,a.matrix.decompose(a.position,a.quaternion,a.scale),w.centerGeometry&&a.geometry){var q=a.geometry.center();q.multiply(a.scale),q.applyQuaternion(a.quaternion),a.position.sub(q)}for(i=0;i<e.nodes.length;i++)a.add(H(e.nodes[i],e));return a}function V(e){for(var t=c.querySelectorAll("library_nodes node"),n=0;n<t.length;n++){var r=t[n].attributes.getNamedItem("id");if(r&&r.value===e)return t[n]}}function Y(e){var t=[],n=1e6,r=-1e6;for(var i in p)for(var o=p[i],a=0;a<o.channel.length;a++){var s=o.channel[a],u=o.sampler[a];(i=s.target.split("/")[0])==e.id&&(u.create(),s.sampler=u,n=Math.min(n,u.startTime),r=Math.max(r,u.endTime),t.push(s))}return t.length&&(e.startTime=n,e.endTime=r),t}function W(e){if(e.channels&&e.channels.length){for(var t=[],n=[],r=0,i=e.channels.length;r<i;r++){var o,a=e.channels[r],s=a.fullSid,u=a.sampler,c=u.input,l=e.getTransformBySid(a.sid);if(a.arrIndices){o=[];for(var h=0,f=a.arrIndices.length;h<f;h++)o[h]=Ze(a.arrIndices[h])}else o=Je(a.member);if(l)for(-1===n.indexOf(s)&&n.push(s),h=0,f=c.length;h<f;h++){var d=c[h],p=u.getData(l.type,h,o);if(!(v=X(t,d))){v=new Ne(d);var m=Q(t,d);t.splice(-1===m?t.length:m,0,v)}v.addTarget(s,l,o,p)}else console.log('Could not find transform "'+a.sid+'" in node '+e.id)}for(r=0;r<n.length;r++){var g=n[r];for(h=0;h<t.length;h++){var v;(v=t[h]).hasTarget(g)||q(t,v,h,g)}}e.keys=t,e.sids=n}}function X(e,t){for(var n=null,r=0,i=e.length;r<i&&null===n;r++){var o=e[r];if(o.time===t)n=o;else if(o.time>t)break}return n}function Q(e,t){for(var n=-1,r=0,i=e.length;r<i&&-1===n;r++)e[r].time>=t&&(n=r);return n}function q(e,t,n,r){var i=Z(e,r,n?n-1:0),o=K(e,r,n+1);if(i&&o){var a,s=(t.time-i.time)/(o.time-i.time),u=i.getTarget(r),c=o.getTarget(r).data,l=u.data;if("matrix"===u.type)a=l;else if(l.length){a=[];for(var h=0;h<l.length;++h)a[h]=l[h]+(c[h]-l[h])*s}else a=l+(c-l)*s;t.addTarget(r,u.transform,u.member,a)}}function K(e,t,n){for(;n<e.length;n++){var r=e[n];if(r.hasTarget(t))return r}return null}function Z(e,t,n){for(n=n>=0?n:n+e.length;n>=0;n--){var r=e[n];if(r.hasTarget(t))return r}return null}function J(){this.id="",this.init_from=""}function $(){this.id="",this.name="",this.type="",this.skin=null,this.morph=null}function ee(){this.method=null,this.source=null,this.targets=null,this.weights=null}function te(){this.source="",this.bindShapeMatrix=null,this.invBindMatrices=[],this.joints=[],this.weights=[]}function ne(){this.id="",this.name="",this.nodes=[],this.scene=new THREE.Group}function re(){this.id="",this.name="",this.sid="",this.nodes=[],this.controllers=[],this.transforms=[],this.geometries=[],this.channels=[],this.matrix=new THREE.Matrix4}function ie(){this.sid="",this.type="",this.data=[],this.obj=null}function oe(){this.url="",this.skeleton=[],this.instance_material=[]}function ae(){this.symbol="",this.target=""}function se(){this.url="",this.instance_material=[]}function ue(){this.id="",this.mesh=null}function ce(e){this.geometry=e.id,this.primitives=[],this.vertices=null,this.geometry3js=null}function le(){this.material="",this.count=0,this.inputs=[],this.vcount=null,this.p=[],this.geometry=new THREE.Geometry}function he(){le.call(this),this.vcount=[]}function fe(){le.call(this),this.vcount=1}function de(){le.call(this),this.vcount=3}function pe(){this.source="",this.count=0,this.stride=0,this.params=[]}function me(){this.input={}}function ge(){this.semantic="",this.offset=0,this.source="",this.set=0}function ve(e){this.id=e,this.type=null}function ye(){this.id="",this.name="",this.instance_effect=null}function be(){this.color=new THREE.Color,this.color.setRGB(Math.random(),Math.random(),Math.random()),this.color.a=1,this.texture=null,this.texcoord=null,this.texOpts=null}function xe(e,t){this.type=e,this.effect=t,this.material=null}function Ee(e){this.effect=e,this.init_from=null,this.format=null}function we(e){this.effect=e,this.source=null,this.wrap_s=null,this.wrap_t=null,this.minfilter=null,this.magfilter=null,this.mipfilter=null}function Me(){this.id="",this.name="",this.shader=null,this.surface={},this.sampler={}}function Ae(){this.url=""}function _e(){this.id="",this.name="",this.source={},this.sampler=[],this.channel=[]}function Te(e){this.animation=e,this.source="",this.target="",this.fullSid=null,this.sid=null,this.dotSyntax=null,this.arrSyntax=null,this.arrIndices=null,this.member=null}function Se(e){this.id="",this.animation=e,this.inputs=[],this.input=null,this.output=null,this.strideOut=null,this.interpolation=null,this.startTime=null,this.endTime=null,this.duration=0}function Ne(e){this.targets=[],this.time=e}function Ce(){this.id="",this.name="",this.technique=""}function Ie(){this.url=""}function Le(){this.id="",this.name="",this.technique=""}function De(){this.url=""}function Oe(){this.id="",this.name="",this.joints=[],this.links=[]}function Re(){this.sid="",this.name="",this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0}function Pe(){this.sid="",this.name="",this.transforms=[],this.attachments=[]}function je(){this.joint="",this.transforms=[],this.links=[]}function ke(e){var t=e.getAttribute("id");return void 0!=f[t]||(f[t]=new ve(t).parse(e)),f[t]}function Ue(e){for(var t=Be(e),n=[],r=0,i=t.length;r<i;r++)n.push("true"===t[r]||"1"===t[r]);return n}function Fe(e){for(var t=Be(e),n=[],r=0,i=t.length;r<i;r++)n.push(parseFloat(t[r]));return n}function ze(e){for(var t=Be(e),n=[],r=0,i=t.length;r<i;r++)n.push(parseInt(t[r],10));return n}function Be(e){return e.length>0?Ge(e).split(/\s+/):[]}function Ge(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function He(e,t,n){return e.hasAttribute(t)?parseInt(e.getAttribute(t),10):n}function Ve(e,t){(new THREE.ImageLoader).load(t,(function(t){e.image=t,e.needsUpdate=!0}))}function Ye(e,t){e.doubleSided=!1;var n=t.querySelectorAll("extra double_sided")[0];n&&n&&1===parseInt(n.textContent,10)&&(e.doubleSided=!0)}function We(){if(!0!==w.convertUpAxis||A===w.upAxis)_=null;else switch(A){case"X":_="Y"===w.upAxis?"XtoY":"XtoZ";break;case"Y":_="X"===w.upAxis?"YtoX":"YtoZ";break;case"Z":_="X"===w.upAxis?"ZtoX":"ZtoY"}}function Xe(e,t){if(!0===w.convertUpAxis&&A!==w.upAxis)switch(_){case"XtoY":var n=e[0];e[0]=t*e[1],e[1]=n;break;case"XtoZ":n=e[2],e[2]=e[1],e[1]=e[0],e[0]=n;break;case"YtoX":n=e[0],e[0]=e[1],e[1]=t*n;break;case"YtoZ":n=e[1],e[1]=t*e[2],e[2]=n;break;case"ZtoX":n=e[0],e[0]=e[1],e[1]=e[2],e[2]=n;break;case"ZtoY":n=e[1],e[1]=e[2],e[2]=t*n}}function Qe(e,t){if(!0!==w.convertUpAxis||A===w.upAxis)return t;switch(e){case"X":t="XtoY"===_?-1*t:t;break;case"Y":t="YtoZ"===_||"YtoX"===_?-1*t:t;break;case"Z":t="ZtoY"===_?-1*t:t}return t}function qe(e,t){var n=[e[t],e[t+1],e[t+2]];return Xe(n,-1),new THREE.Vector3(n[0],n[1],n[2])}function Ke(e){if(w.convertUpAxis){var t=[e[0],e[4],e[8]];Xe(t,-1),e[0]=t[0],e[4]=t[1],e[8]=t[2],Xe(t=[e[1],e[5],e[9]],-1),e[1]=t[0],e[5]=t[1],e[9]=t[2],Xe(t=[e[2],e[6],e[10]],-1),e[2]=t[0],e[6]=t[1],e[10]=t[2],Xe(t=[e[0],e[1],e[2]],-1),e[0]=t[0],e[1]=t[1],e[2]=t[2],Xe(t=[e[4],e[5],e[6]],-1),e[4]=t[0],e[5]=t[1],e[6]=t[2],Xe(t=[e[8],e[9],e[10]],-1),e[8]=t[0],e[9]=t[1],e[10]=t[2],Xe(t=[e[3],e[7],e[11]],-1),e[3]=t[0],e[7]=t[1],e[11]=t[2]}return(new THREE.Matrix4).set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Ze(e){return e>-1&&e<3&&(e={X:0,Y:1,Z:2}[e=Je(["X","Y","Z"][e])]),e}function Je(e){if(w.convertUpAxis)switch(e){case"X":switch(_){case"XtoY":case"XtoZ":case"YtoX":e="Y";break;case"ZtoX":e="Z"}break;case"Y":switch(_){case"XtoY":case"YtoX":case"ZtoX":e="X";break;case"XtoZ":case"YtoZ":case"ZtoY":e="Z"}break;case"Z":switch(_){case"XtoZ":e="X";break;case"YtoZ":case"ZtoX":case"ZtoY":e="Y"}}return e}return J.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"init_from"===n.nodeName&&(this.init_from=n.textContent)}return this},$.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.type="none";for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"skin":this.skin=(new te).parse(n),this.type=n.nodeName;break;case"morph":this.morph=(new ee).parse(n),this.type=n.nodeName}}return this},ee.prototype.parse=function(e){var t,n={},r=[];for(this.method=e.getAttribute("method"),this.source=e.getAttribute("source").replace(/^#/,""),t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(1==i.nodeType)switch(i.nodeName){case"source":n[(a=(new ve).parse(i)).id]=a;break;case"targets":r=this.parseInputs(i);break;default:console.log(i.nodeName)}}for(t=0;t<r.length;t++){var o=r[t],a=n[o.source];switch(o.semantic){case"MORPH_TARGET":this.targets=a.read();break;case"MORPH_WEIGHT":this.weights=a.read()}}return this},ee.prototype.parseInputs=function(e){for(var t=[],n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1==r.nodeType&&"input"===r.nodeName&&t.push((new ge).parse(r))}return t},te.prototype.parse=function(e){var t,n,r={};this.source=e.getAttribute("source").replace(/^#/,""),this.invBindMatrices=[],this.joints=[],this.weights=[];for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];if(1==o.nodeType)switch(o.nodeName){case"bind_shape_matrix":var a=Fe(o.textContent);this.bindShapeMatrix=Ke(a);break;case"source":var s=(new ve).parse(o);r[s.id]=s;break;case"joints":t=o;break;case"vertex_weights":n=o;break;default:console.log(o.nodeName)}}return this.parseJoints(t,r),this.parseWeights(n,r),this},te.prototype.parseJoints=function(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType&&"input"===r.nodeName){var i=(new ge).parse(r),o=t[i.source];"JOINT"===i.semantic?this.joints=o.read():"INV_BIND_MATRIX"===i.semantic&&(this.invBindMatrices=o.read())}}},te.prototype.parseWeights=function(e,t){for(var n,r,i=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1==a.nodeType)switch(a.nodeName){case"input":i.push((new ge).parse(a));break;case"v":n=ze(a.textContent);break;case"vcount":r=ze(a.textContent)}}var s=0;for(o=0;o<r.length;o++){for(var u=r[o],c=[],l=0;l<u;l++){for(var h={},f=0;f<i.length;f++){var d=i[f],p=n[s+d.offset];switch(d.semantic){case"JOINT":h.joint=p;break;case"WEIGHT":h.weight=t[d.source].data[p]}}c.push(h),s+=i.length}for(l=0;l<c.length;l++)c[l].index=o;this.weights.push(c)}},ne.prototype.getChildById=function(e,t){for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildById(e,t);if(r)return r}return null},ne.prototype.getChildBySid=function(e,t){for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildBySid(e,t);if(r)return r}return null},ne.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.nodes=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"node"===n.nodeName&&this.nodes.push((new re).parse(n))}return this},re.prototype.getChannelForTransform=function(e){for(var t=0;t<this.channels.length;t++){var n,r=this.channels[t],i=r.target.split("/"),o=(i.shift(),i.shift()),a=o.indexOf(".")>=0,s=o.indexOf("(")>=0;if(a)i=o.split("."),o=i.shift(),i.shift();else if(s){n=o.split("("),o=n.shift();for(var u=0;u<n.length;u++)n[u]=parseInt(n[u].replace(/\)/,""))}if(o===e)return r.info={sid:o,dotSyntax:a,arrSyntax:s,arrIndices:n},r}return null},re.prototype.getChildById=function(e,t){if(this.id===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildById(e,t);if(r)return r}return null},re.prototype.getChildBySid=function(e,t){if(this.sid===e)return this;if(t)for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n].getChildBySid(e,t);if(r)return r}return null},re.prototype.getTransformBySid=function(e){for(var t=0;t<this.transforms.length;t++)if(this.transforms[t].sid===e)return this.transforms[t];return null},re.prototype.parse=function(e){this.id=e.getAttribute("id"),this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.type=e.getAttribute("type"),this.layer=e.getAttribute("layer"),this.type="JOINT"===this.type?this.type:"NODE",this.nodes=[],this.transforms=[],this.geometries=[],this.cameras=[],this.lights=[],this.controllers=[],this.matrix=new THREE.Matrix4;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"node":this.nodes.push((new re).parse(n));break;case"instance_camera":this.cameras.push((new Ie).parse(n));break;case"instance_controller":this.controllers.push((new oe).parse(n));break;case"instance_geometry":this.geometries.push((new se).parse(n));break;case"instance_light":this.lights.push((new De).parse(n));break;case"instance_node":var r=V(n.getAttribute("url").replace(/^#/,""));r&&this.nodes.push((new re).parse(r));break;case"rotate":case"translate":case"scale":case"matrix":case"lookat":case"skew":this.transforms.push((new ie).parse(n));break;case"extra":break;default:console.log(n.nodeName)}}return this.channels=Y(this),W(this),this.updateMatrix(),this},re.prototype.updateMatrix=function(){this.matrix.identity();for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(this.matrix)},ie.prototype.parse=function(e){return this.sid=e.getAttribute("sid"),this.type=e.nodeName,this.data=Fe(e.textContent),this.convert(),this},ie.prototype.convert=function(){switch(this.type){case"matrix":this.obj=Ke(this.data);break;case"rotate":this.angle=THREE.Math.degToRad(this.data[3]);case"translate":Xe(this.data,-1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;case"scale":Xe(this.data,1),this.obj=new THREE.Vector3(this.data[0],this.data[1],this.data[2]);break;default:console.log("Can not convert Transform of type "+this.type)}},ie.prototype.apply=function(){var e=new THREE.Matrix4;return function(t){switch(this.type){case"matrix":t.multiply(this.obj);break;case"translate":t.multiply(e.makeTranslation(this.obj.x,this.obj.y,this.obj.z));break;case"rotate":t.multiply(e.makeRotationAxis(this.obj,this.angle));break;case"scale":t.scale(this.obj)}}}(),ie.prototype.update=function(e,t){var n=["X","Y","Z","ANGLE"];switch(this.type){case"matrix":if(t)if(1===t.length)switch(t[0]){case 0:this.obj.n11=e[0],this.obj.n21=e[1],this.obj.n31=e[2],this.obj.n41=e[3];break;case 1:this.obj.n12=e[0],this.obj.n22=e[1],this.obj.n32=e[2],this.obj.n42=e[3];break;case 2:this.obj.n13=e[0],this.obj.n23=e[1],this.obj.n33=e[2],this.obj.n43=e[3];break;case 3:this.obj.n14=e[0],this.obj.n24=e[1],this.obj.n34=e[2],this.obj.n44=e[3]}else if(2===t.length){var r="n"+(t[0]+1)+(t[1]+1);this.obj[r]=e}else console.log("Incorrect addressing of matrix in transform.");else this.obj.copy(e);break;case"translate":case"scale":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2]}break;case"rotate":switch("[object Array]"===Object.prototype.toString.call(t)&&(t=n[t[0]]),t){case"X":this.obj.x=e;break;case"Y":this.obj.y=e;break;case"Z":this.obj.z=e;break;case"ANGLE":this.angle=THREE.Math.degToRad(e);break;default:this.obj.x=e[0],this.obj.y=e[1],this.obj.z=e[2],this.angle=THREE.Math.degToRad(e[3])}}},oe.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.skeleton=[],this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1===n.nodeType)switch(n.nodeName){case"skeleton":this.skeleton.push(n.textContent.replace(/^#/,""));break;case"bind_material":for(var r=n.querySelectorAll("instance_material"),i=0;i<r.length;i++){var o=r[i];this.instance_material.push((new ae).parse(o))}}}return this},ae.prototype.parse=function(e){return this.symbol=e.getAttribute("symbol"),this.target=e.getAttribute("target").replace(/^#/,""),this},se.prototype.parse=function(e){this.url=e.getAttribute("url").replace(/^#/,""),this.instance_material=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType&&"bind_material"===n.nodeName){for(var r=n.querySelectorAll("instance_material"),i=0;i<r.length;i++){var o=r[i];this.instance_material.push((new ae).parse(o))}break}}return this},ue.prototype.parse=function(e){this.id=e.getAttribute("id"),Ye(this,e);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"mesh"===n.nodeName&&(this.mesh=new ce(this).parse(n))}return this},ce.prototype.parse=function(e){this.primitives=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"source":ke(n);break;case"vertices":this.vertices=(new me).parse(n);break;case"linestrips":this.primitives.push((new fe).parse(n));break;case"triangles":this.primitives.push((new de).parse(n));break;case"polygons":this.primitives.push((new le).parse(n));break;case"polylist":this.primitives.push((new he).parse(n))}}if(this.geometry3js=new THREE.Geometry,null===this.vertices)return this;var r=f[this.vertices.input.POSITION.source].data;for(t=0;t<r.length;t+=3)this.geometry3js.vertices.push(qe(r,t).clone());for(t=0;t<this.primitives.length;t++){var i=this.primitives[t];i.setVertices(this.vertices),this.handlePrimitive(i,this.geometry3js)}return this.geometry3js.calcNormals&&(this.geometry3js.computeVertexNormals(),delete this.geometry3js.calcNormals),this},ce.prototype.handlePrimitive=function(e,t){if(e instanceof fe)t.isLineStrip=!0;else{var n,r,i,o,a,s,u,c=e.p,l=e.inputs,h=0,d=3,p=0,m=[];for(n=0;n<l.length;n++){var g=(i=l[n]).offset+1;p=p<g?g:p,"TEXCOORD"===i.semantic&&m.push(i.set)}for(var v=0;v<c.length;++v)for(var y=c[v],b=0;b<y.length;){var x=[],E=[],M=null,A=[];for(d=e.vcount?e.vcount.length?e.vcount[h++]:e.vcount:y.length/p,n=0;n<d;n++)for(r=0;r<l.length;r++)switch(i=l[r],s=f[i.source],a=(o=y[b+n*p+i.offset])*(u=s.accessor.params.length),i.semantic){case"VERTEX":x.push(o);break;case"NORMAL":E.push(qe(s.data,a));break;case"TEXCOORD":void 0===(M=M||{})[i.set]&&(M[i.set]=[]),M[i.set].push(new THREE.Vector2(s.data[a],s.data[a+1]));break;case"COLOR":A.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]))}if(0===E.length)if(i=this.vertices.input.NORMAL){u=(s=f[i.source]).accessor.params.length;for(var _=0,T=x.length;_<T;_++)E.push(qe(s.data,x[_]*u))}else t.calcNormals=!0;if(!M&&(M={},i=this.vertices.input.TEXCOORD))for(m.push(i.set),u=(s=f[i.source]).accessor.params.length,_=0,T=x.length;_<T;_++)a=x[_]*u,void 0===M[i.set]&&(M[i.set]=[]),M[i.set].push(new THREE.Vector2(s.data[a],1-s.data[a+1]));if(0===A.length&&(i=this.vertices.input.COLOR))for(u=(s=f[i.source]).accessor.params.length,_=0,T=x.length;_<T;_++)a=x[_]*u,A.push((new THREE.Color).setRGB(s.data[a],s.data[a+1],s.data[a+2]));var S,N,C=null,I=[];if(3===d)I.push(new THREE.Face3(x[0],x[1],x[2],E,A.length?A:new THREE.Color));else if(4===d)I.push(new THREE.Face3(x[0],x[1],x[3],E.length?[E[0].clone(),E[1].clone(),E[3].clone()]:[],A.length?[A[0],A[1],A[3]]:new THREE.Color)),I.push(new THREE.Face3(x[1],x[2],x[3],E.length?[E[1].clone(),E[2].clone(),E[3].clone()]:[],A.length?[A[1],A[2],A[3]]:new THREE.Color));else if(d>4&&w.subdivideFaces){var L=A.length?A:new THREE.Color;for(r=1;r<d-1;)I.push(new THREE.Face3(x[0],x[r],x[r+1],E.length?[E[0].clone(),E[r++].clone(),E[r].clone()]:[],L))}if(I.length)for(_=0,T=I.length;_<T;_++)for((C=I[_]).daeMaterial=e.material,t.faces.push(C),r=0;r<m.length;r++)S=M[m[r]],N=d>4?[S[0],S[_+1],S[_+2]]:4===d?0===_?[S[0],S[1],S[3]]:[S[1].clone(),S[2],S[3].clone()]:[S[0],S[1],S[2]],void 0===t.faceVertexUvs[r]&&(t.faceVertexUvs[r]=[]),t.faceVertexUvs[r].push(N);else console.log("dropped face with vcount "+d+" for geometry with id: "+t.id);b+=p*d}}},le.prototype.setVertices=function(e){for(var t=0;t<this.inputs.length;t++)this.inputs[t].source===e.id&&(this.inputs[t].source=e.input.POSITION.source)},le.prototype.parse=function(e){this.material=e.getAttribute("material"),this.count=He(e,"count",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"input":this.inputs.push((new ge).parse(e.childNodes[t]));break;case"vcount":this.vcount=ze(n.textContent);break;case"p":this.p.push(ze(n.textContent));break;case"ph":console.warn("polygon holes not yet supported!")}}return this},he.prototype=Object.create(le.prototype),he.prototype.constructor=he,fe.prototype=Object.create(le.prototype),fe.prototype.constructor=fe,de.prototype=Object.create(le.prototype),de.prototype.constructor=de,pe.prototype.parse=function(e){this.params=[],this.source=e.getAttribute("source"),this.count=He(e,"count",0),this.stride=He(e,"stride",0);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("param"===n.nodeName){var r={};r.name=n.getAttribute("name"),r.type=n.getAttribute("type"),this.params.push(r)}}return this},me.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++)if("input"===e.childNodes[t].nodeName){var n=(new ge).parse(e.childNodes[t]);this.input[n.semantic]=n}return this},ge.prototype.parse=function(e){return this.semantic=e.getAttribute("semantic"),this.source=e.getAttribute("source").replace(/^#/,""),this.set=He(e,"set",-1),this.offset=He(e,"offset",0),"TEXCOORD"===this.semantic&&this.set<0&&(this.set=0),this},ve.prototype.parse=function(e){this.id=e.getAttribute("id");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"bool_array":this.data=Ue(n.textContent),this.type=n.nodeName;break;case"float_array":this.data=Fe(n.textContent),this.type=n.nodeName;break;case"int_array":this.data=ze(n.textContent),this.type=n.nodeName;break;case"IDREF_array":case"Name_array":this.data=Be(n.textContent),this.type=n.nodeName;break;case"technique_common":for(var r=0;r<n.childNodes.length;r++)if("accessor"===n.childNodes[r].nodeName){this.accessor=(new pe).parse(n.childNodes[r]);break}}}return this},ve.prototype.read=function(){var e=[],t=this.accessor.params[0];switch(t.type){case"IDREF":case"Name":case"name":case"float":return this.data;case"float4x4":for(var n=0;n<this.data.length;n+=16){var r=Ke(this.data.slice(n,n+16));e.push(r)}break;default:console.log("ColladaLoader: Source: Read dont know how to read "+t.type+".")}return e},ye.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++)if("instance_effect"===e.childNodes[t].nodeName){this.instance_effect=(new Ae).parse(e.childNodes[t]);break}return this},be.prototype.isColor=function(){return null===this.texture},be.prototype.isTexture=function(){return null!=this.texture},be.prototype.parse=function(e){"transparent"===e.nodeName&&(this.opaque=e.getAttribute("opaque"));for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"color":var r=Fe(n.textContent);this.color=new THREE.Color,this.color.setRGB(r[0],r[1],r[2]),this.color.a=r[3];break;case"texture":this.texture=n.getAttribute("texture"),this.texcoord=n.getAttribute("texcoord"),this.texOpts={offsetU:0,offsetV:0,repeatU:1,repeatV:1,wrapU:1,wrapV:1},this.parseTexture(n)}}return this},be.prototype.parseTexture=function(e){if(!e.childNodes)return this;e.childNodes[1]&&"extra"===e.childNodes[1].nodeName&&(e=e.childNodes[1]).childNodes[1]&&"technique"===e.childNodes[1].nodeName&&(e=e.childNodes[1]);for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"offsetU":case"offsetV":case"repeatU":case"repeatV":this.texOpts[n.nodeName]=parseFloat(n.textContent);break;case"wrapU":case"wrapV":"TRUE"===n.textContent.toUpperCase()?this.texOpts[n.nodeName]=1:this.texOpts[n.nodeName]=parseInt(n.textContent);break;default:this.texOpts[n.nodeName]=n.textContent}}return this},xe.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"emission":case"diffuse":case"specular":case"transparent":this[n.nodeName]=(new be).parse(n);break;case"bump":var r=n.getAttribute("bumptype");r?"heightfield"===r.toLowerCase()?this.bump=(new be).parse(n):"normalmap"===r.toLowerCase()?this.normal=(new be).parse(n):(console.error("Shader.prototype.parse: Invalid value for attribute 'bumptype' ("+r+") - valid bumptypes are 'HEIGHTFIELD' and 'NORMALMAP' - defaulting to 'HEIGHTFIELD'"),this.bump=(new be).parse(n)):(console.warn("Shader.prototype.parse: Attribute 'bumptype' missing from bump node - defaulting to 'HEIGHTFIELD'"),this.bump=(new be).parse(n));break;case"shininess":case"reflectivity":case"index_of_refraction":case"transparency":var i=n.querySelectorAll("float");i.length>0&&(this[n.nodeName]=parseFloat(i[0].textContent))}}return this.create(),this},xe.prototype.create=function(){var e={},t=!1;if(void 0!==this.transparency&&void 0!==this.transparent){this.transparent;var n=(this.transparent.color.r+this.transparent.color.g+this.transparent.color.b)/3*this.transparency;n>0&&(t=!0,e.transparent=!0,e.opacity=1-n)}var r={diffuse:"map",ambient:"lightMap",specular:"specularMap",emission:"emissionMap",bump:"bumpMap",normal:"normalMap"};for(var i in this)switch(i){case"ambient":case"emission":case"diffuse":case"specular":case"bump":case"normal":var o=this[i];if(o instanceof be)if(o.isTexture()){var s=o.texture,u=this.effect.sampler[s];if(void 0!==u&&void 0!==u.source){var c=this.effect.surface[u.source];if(void 0!==c){var l=d[c.init_from];if(l){var h,f=a+l.init_from,p=THREE.Loader.Handlers.get(f);null!==p?h=p.load(f):Ve(h=new THREE.Texture,f),h.wrapS=o.texOpts.wrapU?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,h.wrapT=o.texOpts.wrapV?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,h.offset.x=o.texOpts.offsetU,h.offset.y=o.texOpts.offsetV,h.repeat.x=o.texOpts.repeatU,h.repeat.y=o.texOpts.repeatV,e[r[i]]=h,"emission"===i&&(e.emissive=16777215)}}}}else"diffuse"!==i&&t||("emission"===i?e.emissive=o.color.getHex():e[i]=o.color.getHex());break;case"shininess":e[i]=this[i];break;case"reflectivity":e[i]=this[i],e[i]>0&&(e.envMap=w.defaultEnvMap),e.combine=THREE.MixOperation;break;case"index_of_refraction":e.refractionRatio=this[i],1!==this[i]&&(e.envMap=w.defaultEnvMap)}switch(e.shading=E,e.side=this.effect.doubleSided?THREE.DoubleSide:THREE.FrontSide,void 0!==e.diffuse&&(e.color=e.diffuse,delete e.diffuse),this.type){case"constant":void 0!=e.emissive&&(e.color=e.emissive),this.material=new THREE.MeshBasicMaterial(e);break;case"phong":case"blinn":this.material=new THREE.MeshPhongMaterial(e);break;default:this.material=new THREE.MeshLambertMaterial(e)}return this.material},Ee.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"init_from":this.init_from=n.textContent;break;case"format":this.format=n.textContent;break;default:console.log("unhandled Surface prop: "+n.nodeName)}}return this},we.prototype.parse=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"source":this.source=n.textContent;break;case"minfilter":this.minfilter=n.textContent;break;case"magfilter":this.magfilter=n.textContent;break;case"mipfilter":this.mipfilter=n.textContent;break;case"wrap_s":this.wrap_s=n.textContent;break;case"wrap_t":this.wrap_t=n.textContent;break;default:console.log("unhandled Sampler2D prop: "+n.nodeName)}}return this},Me.prototype.create=function(){if(null===this.shader)return null},Me.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),Ye(this,e),this.shader=null;for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"profile_COMMON"===n.nodeName&&this.parseTechnique(this.parseProfileCOMMON(n))}return this},Me.prototype.parseNewparam=function(e){for(var t=e.getAttribute("sid"),n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"surface":this.surface[t]=new Ee(this).parse(r);break;case"sampler2D":this.sampler[t]=new we(this).parse(r);break;case"extra":break;default:console.log(r.nodeName)}}},Me.prototype.parseProfileCOMMON=function(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType)switch(r.nodeName){case"profile_COMMON":this.parseProfileCOMMON(r);break;case"technique":t=r;break;case"newparam":this.parseNewparam(r);break;case"image":var i=(new J).parse(r);d[i.id]=i;break;case"extra":break;default:console.log(r.nodeName)}}return t},Me.prototype.parseTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"constant":case"lambert":case"blinn":case"phong":this.shader=new xe(n.nodeName,this).parse(n);break;case"extra":this.parseExtra(n)}}},Me.prototype.parseExtra=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"technique"===n.nodeName&&this.parseExtraTechnique(n)}},Me.prototype.parseExtraTechnique=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"bump"===n.nodeName&&this.shader.parse(e)}},Ae.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},_e.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.source={};for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"animation":var r=(new _e).parse(n);for(var i in r.source)this.source[i]=r.source[i];for(var o=0;o<r.channel.length;o++)this.channel.push(r.channel[o]),this.sampler.push(r.sampler[o]);break;case"source":i=(new ve).parse(n),this.source[i.id]=i;break;case"sampler":this.sampler.push(new Se(this).parse(n));break;case"channel":this.channel.push(new Te(this).parse(n))}}return this},Te.prototype.parse=function(e){this.source=e.getAttribute("source").replace(/^#/,""),this.target=e.getAttribute("target");var t=this.target.split("/"),n=(t.shift(),t.shift()),r=n.indexOf(".")>=0,i=n.indexOf("(")>=0;if(r)t=n.split("."),this.sid=t.shift(),this.member=t.shift();else if(i){var o=n.split("(");this.sid=o.shift();for(var a=0;a<o.length;a++)o[a]=parseInt(o[a].replace(/\)/,""));this.arrIndices=o}else this.sid=n;return this.fullSid=n,this.dotSyntax=r,this.arrSyntax=i,this},Se.prototype.parse=function(e){this.id=e.getAttribute("id"),this.inputs=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"input"===n.nodeName&&this.inputs.push((new ge).parse(n))}return this},Se.prototype.create=function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],n=this.animation.source[t.source];switch(t.semantic){case"INPUT":this.input=n.read();break;case"OUTPUT":this.output=n.read(),this.strideOut=n.accessor.stride;break;case"INTERPOLATION":this.interpolation=n.read();break;case"IN_TANGENT":case"OUT_TANGENT":break;default:console.log(t.semantic)}}if(this.startTime=0,this.endTime=0,this.duration=0,this.input.length){for(this.startTime=1e8,this.endTime=-1e8,e=0;e<this.input.length;e++)this.startTime=Math.min(this.startTime,this.input[e]),this.endTime=Math.max(this.endTime,this.input[e]);this.duration=this.endTime-this.startTime}},Se.prototype.getData=function(e,t,n){var r;if("matrix"===e&&16===this.strideOut)r=this.output[t];else if(this.strideOut>1){r=[],t*=this.strideOut;for(var i=0;i<this.strideOut;++i)r[i]=this.output[t+i];if(3===this.strideOut)switch(e){case"rotate":case"translate":Xe(r,-1);break;case"scale":Xe(r,1)}else 4===this.strideOut&&"matrix"===e&&Xe(r,-1)}else r=this.output[t],n&&"translate"===e&&(r=Qe(n,r));return r},Ne.prototype.addTarget=function(e,t,n,r){this.targets.push({sid:e,member:n,transform:t,data:r})},Ne.prototype.apply=function(e){for(var t=0;t<this.targets.length;++t){var n=this.targets[t];e&&n.sid!==e||n.transform.update(n.data,n.member)}},Ne.prototype.getTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return this.targets[t];return null},Ne.prototype.hasTarget=function(e){for(var t=0;t<this.targets.length;++t)if(this.targets[t].sid===e)return!0;return!1},Ne.prototype.interpolate=function(e,t){for(var n=0,r=this.targets.length;n<r;n++){var i,o=this.targets[n],a=e.getTarget(o.sid);if("matrix"!==o.transform.type&&a){var s=(t-this.time)/(e.time-this.time),u=a.data,c=o.data;if(s<0&&(s=0),s>1&&(s=1),c.length){i=[];for(var l=0;l<c.length;++l)i[l]=c[l]+(u[l]-c[l])*s}else i=c+(u-c)*s}else i=o.data;o.transform.update(i,o.member)}},Ce.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"optics"===n.nodeName&&this.parseOptics(n)}return this},Ce.prototype.parseOptics=function(e){for(var t=0;t<e.childNodes.length;t++)if("technique_common"===e.childNodes[t].nodeName)for(var n=e.childNodes[t],r=0;r<n.childNodes.length;r++)if(this.technique=n.childNodes[r].nodeName,"perspective"===this.technique)for(var i=n.childNodes[r],o=0;o<i.childNodes.length;o++)switch((s=i.childNodes[o]).nodeName){case"yfov":this.yfov=s.textContent;break;case"xfov":this.xfov=s.textContent;break;case"znear":this.znear=s.textContent;break;case"zfar":this.zfar=s.textContent;break;case"aspect_ratio":this.aspect_ratio=s.textContent}else if("orthographic"===this.technique){var a=n.childNodes[r];for(o=0;o<a.childNodes.length;o++){var s;switch((s=a.childNodes[o]).nodeName){case"xmag":this.xmag=s.textContent;break;case"ymag":this.ymag=s.textContent;break;case"znear":this.znear=s.textContent;break;case"zfar":this.zfar=s.textContent;break;case"aspect_ratio":this.aspect_ratio=s.textContent}}}return this},Ie.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},Le.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"technique_common":this.parseCommon(n);break;case"technique":this.parseTechnique(n)}}return this},Le.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++)switch(e.childNodes[t].nodeName){case"directional":case"point":case"spot":case"ambient":this.technique=e.childNodes[t].nodeName;for(var n=e.childNodes[t],r=0;r<n.childNodes.length;r++){var i=n.childNodes[r];switch(i.nodeName){case"color":var o=Fe(i.textContent);this.color=new THREE.Color(0),this.color.setRGB(o[0],o[1],o[2]),this.color.a=o[3];break;case"falloff_angle":this.falloff_angle=parseFloat(i.textContent);break;case"quadratic_attenuation":var a=parseFloat(i.textContent);this.distance=a?Math.sqrt(1/a):0}}}return this},Le.prototype.parseTechnique=function(e){this.profile=e.getAttribute("profile");for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];"intensity"===n.nodeName&&(this.intensity=parseFloat(n.textContent))}return this},De.prototype.parse=function(e){return this.url=e.getAttribute("url").replace(/^#/,""),this},Oe.prototype.parse=function(e){this.id=e.getAttribute("id"),this.name=e.getAttribute("name"),this.joints=[],this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];1==n.nodeType&&"technique_common"===n.nodeName&&this.parseCommon(n)}return this},Oe.prototype.parseCommon=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(e.childNodes[t].nodeName){case"joint":this.joints.push((new Re).parse(n));break;case"link":this.links.push((new Pe).parse(n))}}return this},Re.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.axis=new THREE.Vector3,this.limits={min:0,max:0},this.type="",this.static=!1,this.zeroPosition=0,this.middlePosition=0;var t=Fe(e.querySelector("axis").textContent);this.axis=qe(t,0);var n=e.querySelector("limits min")?parseFloat(e.querySelector("limits min").textContent):-360,r=e.querySelector("limits max")?parseFloat(e.querySelector("limits max").textContent):360;this.limits={min:n,max:r};for(var i=["prismatic","revolute"],o=0;o<i.length;o++){var a=i[o];e.querySelector(a)&&(this.type=a)}return this.limits.min>=this.limits.max&&(this.static=!0),this.middlePosition=(this.limits.min+this.limits.max)/2,this},Pe.prototype.parse=function(e){this.sid=e.getAttribute("sid"),this.name=e.getAttribute("name"),this.transforms=[],this.attachments=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"attachment_full":this.attachments.push((new je).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new ie).parse(n))}}return this},je.prototype.parse=function(e){this.joint=e.getAttribute("joint").split("/").pop(),this.links=[];for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(1==n.nodeType)switch(n.nodeName){case"link":this.links.push((new Pe).parse(n));break;case"rotate":case"translate":case"matrix":this.transforms.push((new ie).parse(n))}}return this},{load:T,parse:S,setPreferredShading:N,applySkin:B,geometries:g,options:w}}},{}],45:[function(e,t,n){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}},update:function(t,n){for(var r in e){var i=e[r];i.update&&i.update(t,n)}}}}function n(e,t){var n={},r=e.material.uniforms;for(var i in r){var o=r[i];if(o.semantic){var a=o.node,s=e;a&&(s=t[a]),n[i]={semantic:o.semantic,sourceNode:s,targetNode:e,uniform:o}}}this.boundUniforms=n,this._m4=new THREE.Matrix4}function r(e,t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];o.times=THREE.AnimationUtils.arraySlice(o.times,0),o.values=THREE.AnimationUtils.arraySlice(o.values,0),o.target.updateMatrix(),o.target.matrixAutoUpdate=!0,n.push(new THREE.KeyframeTrack(o.name,o.times,o.values,o.type))}return new THREE.AnimationClip(e,void 0,n)}e.prototype={constructor:e,load:function(e,t,n,r){var i=this,o=this.path&&"string"===typeof this.path?this.path:THREE.Loader.prototype.extractUrlBase(e);new THREE.FileLoader(i.manager).load(e,(function(e){i.parse(JSON.parse(e),t,o)}),n,r)},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e},parse:function(e,t,n){console.time("GLTFLoader"),new g(e,{path:n||this.path,crossOrigin:!!this.crossOrigin}).parse((function(e,n,r){console.timeEnd("GLTFLoader"),t({scene:e,cameras:n,animations:r})}))}},e.Shaders=new t,n.prototype.update=function(e,t){e.updateMatrixWorld(),t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld);var n=this.boundUniforms;for(var r in n){var i=n[r];switch(i.semantic){case"MODELVIEW":i.uniform.value.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld);break;case"MODELVIEWINVERSETRANSPOSE":var o=i.uniform.value;this._m4.multiplyMatrices(t.matrixWorldInverse,i.sourceNode.matrixWorld),o.getNormalMatrix(this._m4);break;case"PROJECTION":i.uniform.value.copy(t.projectionMatrix);break;case"JOINTMATRIX":for(var a=i.uniform.value,s=0;s<a.length;s++)a[s].getInverse(i.sourceNode.matrixWorld).multiply(i.targetNode.skeleton.bones[s].matrixWorld).multiply(i.targetNode.skeleton.boneInverses[s]).multiply(i.targetNode.bindMatrix);break;default:console.warn("Unhandled shader semantic: "+i.semantic)}}},e.Animations={update:function(){console.warn("THREE.GLTFLoader.Animation has been deprecated. Use THREE.AnimationMixer instead.")}};var i={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,TRIANGLES:4,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,VERTEX_SHADER:35633,FRAGMENT_SHADER:35632},o={5126:Number,35675:THREE.Matrix3,35676:THREE.Matrix4,35664:THREE.Vector2,35665:THREE.Vector3,35666:THREE.Vector4,35678:THREE.Texture},a={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},s={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},u={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},c={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},l={scale:"scale",translation:"position",rotation:"quaternion"},h={LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete};function f(e,t,n){if(!e)return Promise.resolve();var r,i=[];if("[object Array]"===Object.prototype.toString.call(e)){r=[];for(var o=e.length,a=0;a<o;a++)(u=t.call(n||this,e[a],a))&&(i.push(u),u instanceof Promise?u.then(function(e,t){r[a]=t}.bind(this,s)):r[a]=u)}else for(var s in r={},e){var u;e.hasOwnProperty(s)&&(u=t.call(n||this,e[s],s))&&(i.push(u),u instanceof Promise?u.then(function(e,t){r[e]=t}.bind(this,s)):r[s]=u)}return Promise.all(i).then((function(){return r}))}function d(e,t){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)||/^data:.*,.*$/i.test(e)?e:(t||"")+e}function p(e,t){var n={};for(var r in t.attributes){var i=t.attributes[r],o=(h=t.parameters[i]).type,a=h.semantic;n[r]={type:o,semantic:a}}var s=t.parameters,u=t.attributes,c={};for(var r in n){var l=s[i=u[r]];(a=l.semantic)&&(c[r]=l)}for(var i in c){a=(h=c[i]).semantic;var h,f=new RegExp("\\b"+i+"\\b","g");switch(a){case"POSITION":e=e.replace(f,"position");break;case"NORMAL":e=e.replace(f,"normal");break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":e=e.replace(f,"uv");break;case"WEIGHT":e=e.replace(f,"skinWeight");break;case"JOINT":e=e.replace(f,"skinIndex")}}return e}function m(e){this.isDeferredShaderMaterial=!0,this.params=e}function g(e,n){this.json=e||{},this.options=n||{},this.cache=new t}return m.prototype.create=function(){var e=THREE.UniformsUtils.clone(this.params.uniforms);for(var t in this.params.uniforms){var n=this.params.uniforms[t];n.value instanceof THREE.Texture&&(e[t].value=n.value,e[t].value.needsUpdate=!0),e[t].semantic=n.semantic,e[t].node=n.node}return this.params.uniforms=e,new THREE.RawShaderMaterial(this.params)},g.prototype._withDependencies=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n],i="load"+r.charAt(0).toUpperCase()+r.slice(1),o=this.cache.get(r);if(void 0!==o)t[r]=o;else if(this[i]){var a=this[i]();this.cache.add(r,a),t[r]=a}}return f(t,(function(e){return e}))},g.prototype.parse=function(e){var t=this.json;this.cache.removeAll(),this._withDependencies(["scenes","cameras","animations"]).then((function(n){var r=n.scenes[t.scene],i=[];for(var o in n.cameras){var a=n.cameras[o];i.push(a)}var s=[];for(var o in n.animations)s.push(n.animations[o]);e(r,i,s)}))},g.prototype.loadShaders=function(){var e=this.json,t=this.options;return f(e.shaders,(function(e){return new Promise((function(n){var r=new THREE.FileLoader;r.responseType="text",r.load(d(e.uri,t.path),(function(e){n(e)}))}))}))},g.prototype.loadBuffers=function(){var e=this.json,t=this.options;return f(e.buffers,(function(e){if("arraybuffer"===e.type)return new Promise((function(n){var r=new THREE.FileLoader;r.responseType="arraybuffer",r.load(d(e.uri,t.path),(function(e){n(e)}))}))}))},g.prototype.loadBufferViews=function(){var e=this.json;return this._withDependencies(["buffers"]).then((function(t){return f(e.bufferViews,(function(e){return t.buffers[e.buffer].slice(e.byteOffset,e.byteOffset+e.byteLength)}))}))},g.prototype.loadAccessors=function(){var e=this.json;return this._withDependencies(["bufferViews"]).then((function(t){return f(e.accessors,(function(e){var n=t.bufferViews[e.bufferView],r=c[e.type],i=a[e.componentType],o=i.BYTES_PER_ELEMENT,s=o*r;if(e.byteStride&&e.byteStride!==s){var u=new i(n),l=new THREE.InterleavedBuffer(u,e.byteStride/o);return new THREE.InterleavedBufferAttribute(l,r,e.byteOffset/o)}return u=new i(n,e.byteOffset,e.count*r),new THREE.BufferAttribute(u,r)}))}))},g.prototype.loadTextures=function(){var e=this.json,t=this.options;return f(e.textures,(function(n){if(n.source)return new Promise((function(r){var i=e.images[n.source],o=THREE.Loader.Handlers.get(i.uri);null===o&&(o=new THREE.TextureLoader),o.crossOrigin=t.crossOrigin||!1,o.load(d(i.uri,t.path),(function(t){if(t.flipY=!1,n.sampler){var i=e.samplers[n.sampler];t.magFilter=s[i.magFilter],t.minFilter=s[i.minFilter],t.wrapS=u[i.wrapS],t.wrapT=u[i.wrapT]}r(t)}),void 0,(function(){r()}))}))}))},g.prototype.loadMaterials=function(){var e=this.json;return this._withDependencies(["shaders","textures"]).then((function(t){return f(e.materials,(function(n){var r,a,s={},u={};if(n.extensions&&n.extensions.KHR_materials_common?a=n.extensions.KHR_materials_common:e.extensions&&e.extensions.KHR_materials_common&&(a=e.extensions.KHR_materials_common),a){switch(a.technique){case"BLINN":case"PHONG":r=THREE.MeshPhongMaterial;break;case"LAMBERT":r=THREE.MeshLambertMaterial;break;default:r=THREE.MeshBasicMaterial}Object.assign(s,a.values),(a.doubleSided||s.doubleSided)&&(u.side=THREE.DoubleSide),(a.transparent||s.transparent)&&(u.transparent=!0,u.opacity=void 0!==s.transparency?s.transparency:1)}else if(void 0===n.technique)r=THREE.MeshPhongMaterial,Object.assign(s,n.values);else{r=m;var c=e.techniques[n.technique];u.uniforms={};var l=e.programs[c.program];if(l){u.fragmentShader=t.shaders[l.fragmentShader],u.fragmentShader||(console.warn("ERROR: Missing fragment shader definition:",l.fragmentShader),r=THREE.MeshPhongMaterial);var h=t.shaders[l.vertexShader];h||(console.warn("ERROR: Missing vertex shader definition:",l.vertexShader),r=THREE.MeshPhongMaterial),u.vertexShader=p(h,c);var f=c.uniforms;for(var d in f){var g=f[d],v=c.parameters[g],y=v.type;if(!o[y])throw new Error("Unknown shader uniform param type: "+y);var b=v.count,x=n.values[g],E=new o[y],w=v.semantic,M=v.node;switch(y){case i.FLOAT:E=v.value,"transparency"==g&&(u.transparent=!0),void 0!==x&&(E=x);break;case i.FLOAT_VEC2:case i.FLOAT_VEC3:case i.FLOAT_VEC4:case i.FLOAT_MAT3:v&&v.value&&E.fromArray(v.value),x&&E.fromArray(x);break;case i.FLOAT_MAT2:console.warn("FLOAT_MAT2 is not a supported uniform type");break;case i.FLOAT_MAT4:if(b){E=new Array(b);for(var A=0;A<b;A++)E[A]=new o[y];if(v&&v.value){var _=v.value;E.fromArray(_)}x&&E.fromArray(x)}else{if(v&&v.value){var T=v.value;E.fromArray(T)}x&&E.fromArray(x)}break;case i.SAMPLER_2D:E=x?t.textures[x]:null}u.uniforms[d]={value:E,semantic:w,node:M}}}}Array.isArray(s.diffuse)?u.color=(new THREE.Color).fromArray(s.diffuse):"string"===typeof s.diffuse&&(u.map=t.textures[s.diffuse]),delete u.diffuse,"string"===typeof s.reflective&&(u.envMap=t.textures[s.reflective]),"string"===typeof s.bump&&(u.bumpMap=t.textures[s.bump]),Array.isArray(s.emission)?r===THREE.MeshBasicMaterial?u.color=(new THREE.Color).fromArray(s.emission):u.emissive=(new THREE.Color).fromArray(s.emission):"string"===typeof s.emission&&(r===THREE.MeshBasicMaterial?u.map=t.textures[s.emission]:u.emissiveMap=t.textures[s.emission]),Array.isArray(s.specular)?u.specular=(new THREE.Color).fromArray(s.specular):"string"===typeof s.specular&&(u.specularMap=t.textures[s.specular]),void 0!==s.shininess&&(u.shininess=s.shininess);var S=new r(u);return S.name=n.name,S}))}))},g.prototype.loadMeshes=function(){var e=this.json;return this._withDependencies(["accessors","materials"]).then((function(t){return f(e.meshes,(function(e){var n=new THREE.Object3D;n.name=e.name;var r=e.primitives;for(var o in r){var a=r[o];if(a.mode===i.TRIANGLES||void 0===a.mode){var s=new THREE.BufferGeometry,u=a.attributes;for(var c in u){var l=u[c];if(!l)return;var h=t.accessors[l];switch(c){case"POSITION":s.addAttribute("position",h);break;case"NORMAL":s.addAttribute("normal",h);break;case"TEXCOORD_0":case"TEXCOORD0":case"TEXCOORD":s.addAttribute("uv",h);break;case"WEIGHT":s.addAttribute("skinWeight",h);break;case"JOINT":s.addAttribute("skinIndex",h)}}if(a.indices){var f=t.accessors[a.indices];s.setIndex(f);var d={start:0,index:0,count:f.count};s.groups.push(d),s.computeBoundingSphere()}var p=t.materials[a.material],m=new THREE.Mesh(s,p);m.castShadow=!0,n.add(m)}else console.warn("Non-triangular primitives are not supported")}return n}))}))},g.prototype.loadCameras=function(){return f(this.json.cameras,(function(e){if("perspective"==e.type&&e.perspective){var t=e.perspective.yfov,n=e.perspective.xfov,r=e.perspective.aspect_ratio||1;return n=void 0===n&&t?t*r:n,(i=new THREE.PerspectiveCamera(THREE.Math.radToDeg(n),r,e.perspective.znear||1,e.perspective.zfar||2e6)).name=e.name,i}var i;if("orthographic"==e.type&&e.orthographic)return(i=new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,e.orthographic.znear,e.orthographic.zfar)).name=e.name,i}))},g.prototype.loadSkins=function(){var e=this.json;return this._withDependencies(["accessors"]).then((function(t){return f(e.skins,(function(e){return{bindShapeMatrix:(new THREE.Matrix4).fromArray(e.bindShapeMatrix),jointNames:e.jointNames,inverseBindMatrices:t.accessors[e.inverseBindMatrices]}}))}))},g.prototype.loadAnimations=function(){var e=this.json;return this._withDependencies(["accessors","nodes"]).then((function(t){return f(e.animations,(function(e,n){var i=[];for(var o in e.channels){var a=e.channels[o],s=e.samplers[a.sampler];if(s&&e.parameters){var u=a.target,c=u.id,f=e.parameters[s.input],d=e.parameters[s.output],p=t.accessors[f],m=t.accessors[d],g=t.nodes[c];if(g){var v={times:p.array,values:m.array,target:g,type:h[s.interpolation],name:g.name+"."+l[u.path]};i.push(v)}}}return r("animation_"+n,i)}))}))},g.prototype.loadNodes=function(){var e=this.json,t=this;return f(e.nodes,(function(e){var t,n=new THREE.Matrix4;return e.jointName?(t=new THREE.Bone).jointName=e.jointName:t=new THREE.Object3D,t.name=e.name,t.matrixAutoUpdate=!1,void 0!==e.matrix?(n.fromArray(e.matrix),t.applyMatrix(n)):(void 0!==e.translation&&t.position.fromArray(e.translation),void 0!==e.rotation&&t.quaternion.fromArray(e.rotation),void 0!==e.scale&&t.scale.fromArray(e.scale)),t})).then((function(n){return t._withDependencies(["meshes","skins","cameras","extensions"]).then((function(t){return f(n,(function(r,i){var o=e.nodes[i];if(void 0!==o.meshes)for(var a in o.meshes){var s=o.meshes[a],u=t.meshes[s];for(var c in u.children){var l,h=u.children[c],f=h.material,d=h.geometry;if(f.isDeferredShaderMaterial?f=p=f.create():p=f,(h=new THREE.Mesh(d,p)).castShadow=!0,o.skin&&(l=t.skins[o.skin]),l){var p,m=d;(p=f).skinning=!0,(h=new THREE.SkinnedMesh(m,p,!1)).castShadow=!0;for(var g=[],v=[],y=Object.keys(n),b=0,x=l.jointNames.length;b<x;b++){for(var E,w=l.jointNames[b],M=0,A=y.length;M<A;M++){var _=n[y[M]];if(_.jointName===w){E=_;break}}if(E){E.skin=h,g.push(E);var T=l.inverseBindMatrices.array,S=(new THREE.Matrix4).fromArray(T,16*b);v.push(S)}else console.warn("WARNING: joint: ''"+w+"' could not be found")}h.bind(new THREE.Skeleton(g,v,!1),l.bindShapeMatrix)}r.add(h)}}if(void 0!==o.camera){var N=t.cameras[o.camera];r.add(N)}if(o.extensions&&o.extensions.KHR_materials_common&&o.extensions.KHR_materials_common.light){var C=t.extensions.KHR_materials_common.lights[o.extensions.KHR_materials_common.light];r.add(C)}return r}))}))}))},g.prototype.loadExtensions=function(){return f(this.json.extensions,(function(e,t){if("KHR_materials_common"===t){var n={lights:{}},r=e.lights;for(var i in r){var o,a=r[i],s=a[a.type],u=(new THREE.Color).fromArray(s.color);switch(a.type){case"directional":(o=new THREE.DirectionalLight(u)).position.set(0,0,1);break;case"point":o=new THREE.PointLight(u);break;case"spot ":(o=new THREE.SpotLight(u)).position.set(0,0,1);break;case"ambient":o=new THREE.AmbientLight(u)}o&&(n.lights[i]=o)}return n}}))},g.prototype.loadScenes=function(){var t=this.json;function r(e,n,i){var o=i[e];n.add(o);var a=t.nodes[e];if(a.children)for(var s=a.children,u=0,c=s.length;u<c;u++)r(s[u],o,i)}return this._withDependencies(["nodes"]).then((function(i){return f(t.scenes,(function(t){var o=new THREE.Scene;o.name=t.name;for(var a=t.nodes,s=0,u=a.length;s<u;s++)r(a[s],o,i.nodes);return o.traverse((function(t){if(t.material&&t.material.isRawShaderMaterial){var r=new n(t,i.nodes);e.Shaders.add(t.uuid,r)}})),o}))}))},e}()},{}],46:[function(e,t,n){THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},Object.assign(THREE.MTLLoader.prototype,THREE.EventDispatcher.prototype,{load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.load(e,(function(e){t(i.parse(e))}),n,r)},setPath:function(e){this.path=e},setTexturePath:function(e){this.texturePath=e},setBaseUrl:function(e){console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){this.crossOrigin=e},setMaterialOptions:function(e){this.materialOptions=e},parse:function(e){for(var t=e.split("\n"),n={},r=/\s+/,i={},o=0;o<t.length;o++){var a=t[o];if(0!==(a=a.trim()).length&&"#"!==a.charAt(0)){var s=a.indexOf(" "),u=s>=0?a.substring(0,s):a;u=u.toLowerCase();var c=s>=0?a.substring(s+1):"";if(c=c.trim(),"newmtl"===u)n={name:c},i[c]=n;else if(n)if("ka"===u||"kd"===u||"ks"===u){var l=c.split(r,3);n[u]=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])]}else n[u]=c}}var h=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(i),h}}),THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,setCrossOrigin:function(e){this.crossOrigin=e},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};for(var o in t[n]=i,r){var a=!0,s=r[o],u=o.toLowerCase();switch(u){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this,n=this.materialsInfo[e],r={name:e,side:this.side},i=function(e,t){return"string"!==typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t};function o(e,n){if(!r[e]){var o=t.getTextureParams(n,r),a=t.loadTexture(i(t.baseUrl,o.url));a.repeat.copy(o.scale),a.offset.copy(o.offset),a.wrapS=t.wrap,a.wrapT=t.wrap,r[e]=a}}for(var a in n){var s=n[a];if(""!==s)switch(a.toLowerCase()){case"kd":r.color=(new THREE.Color).fromArray(s);break;case"ks":r.specular=(new THREE.Color).fromArray(s);break;case"map_kd":o("map",s);break;case"map_ks":o("specularMap",s);break;case"map_bump":case"bump":o("bumpMap",s);break;case"ns":r.shininess=parseFloat(s);break;case"d":s<1&&(r.opacity=s,r.transparent=!0);break;case"Tr":s>0&&(r.opacity=1-s,r.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(r),this.materials[e]},getTextureParams:function(e,t){var n,r={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},i=e.split(/\s+/);return(n=i.indexOf("-bm"))>=0&&(t.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),(n=i.indexOf("-s"))>=0&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),(n=i.indexOf("-o"))>=0&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(e,t,n,r,i){var o,a=THREE.Loader.Handlers.get(e),s=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===a&&(a=new THREE.TextureLoader(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin),o=a.load(e,n,r,i),void 0!==t&&(o.mapping=t),o}}},{}],47:[function(e,t,n){THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,n,r){var i=this,o=new THREE.FileLoader(i.manager);o.setPath(this.path),o.load(e,(function(e){t(i.parse(e))}),n,r)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0]),n.push(t[e+1]),n.push(t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0]),i.push(r[e+1]),i.push(r[t+0]),i.push(r[t+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0]),n.push(t[e+1])},addFace:function(e,t,n,r,i,o,a,s,u,c,l,h){var f,d=this.vertices.length,p=this.parseVertexIndex(e,d),m=this.parseVertexIndex(t,d),g=this.parseVertexIndex(n,d);if(void 0===r?this.addVertex(p,m,g):(f=this.parseVertexIndex(r,d),this.addVertex(p,m,f),this.addVertex(m,g,f)),void 0!==i){var v=this.uvs.length;p=this.parseUVIndex(i,v),m=this.parseUVIndex(o,v),g=this.parseUVIndex(a,v),void 0===r?this.addUV(p,m,g):(f=this.parseUVIndex(s,v),this.addUV(p,m,f),this.addUV(m,g,f))}if(void 0!==u){var y=this.normals.length;p=this.parseNormalIndex(u,y),m=u===c?p:this.parseNormalIndex(c,y),g=u===l?p:this.parseNormalIndex(l,y),void 0===r?this.addNormal(p,m,g):(f=this.parseNormalIndex(h,y),this.addNormal(p,m,f),this.addNormal(m,g,f))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));var a=0;for(o=t.length;a<o;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e},parse:function(e){console.time("OBJLoader");var t=this._createParserState();-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));for(var n=e.split("\n"),r="",i="",o="",a=[],s="function"===typeof"".trimLeft,u=0,c=n.length;u<c;u++)if(r=n[u],0!==(r=s?r.trimLeft():r.trim()).length&&"#"!==(i=r.charAt(0)))if("v"===i)if(" "===(o=r.charAt(1))&&null!==(a=this.regexp.vertex_pattern.exec(r)))t.vertices.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else if("n"===o&&null!==(a=this.regexp.normal_pattern.exec(r)))t.normals.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));else{if("t"!==o||null===(a=this.regexp.uv_pattern.exec(r)))throw new Error("Unexpected vertex/normal/uv line: '"+r+"'");t.uvs.push(parseFloat(a[1]),parseFloat(a[2]))}else if("f"===i)if(null!==(a=this.regexp.face_vertex_uv_normal.exec(r)))t.addFace(a[1],a[4],a[7],a[10],a[2],a[5],a[8],a[11],a[3],a[6],a[9],a[12]);else if(null!==(a=this.regexp.face_vertex_uv.exec(r)))t.addFace(a[1],a[3],a[5],a[7],a[2],a[4],a[6],a[8]);else if(null!==(a=this.regexp.face_vertex_normal.exec(r)))t.addFace(a[1],a[3],a[5],a[7],void 0,void 0,void 0,void 0,a[2],a[4],a[6],a[8]);else{if(null===(a=this.regexp.face_vertex.exec(r)))throw new Error("Unexpected face line: '"+r+"'");t.addFace(a[1],a[2],a[3],a[4])}else if("l"===i){var l=r.substring(1).trim().split(" "),h=[],f=[];if(-1===r.indexOf("/"))h=l;else for(var d=0,p=l.length;d<p;d++){var m=l[d].split("/");""!==m[0]&&h.push(m[0]),""!==m[1]&&f.push(m[1])}t.addLineGeometry(h,f)}else if(null!==(a=this.regexp.object_pattern.exec(r))){var g=(" "+a[0].substr(1).trim()).substr(1);t.startObject(g)}else if(this.regexp.material_use_pattern.test(r))t.object.startMaterial(r.substring(7).trim(),t.materialLibraries);else if(this.regexp.material_library_pattern.test(r))t.materialLibraries.push(r.substring(7).trim());else{if(null===(a=this.regexp.smoothing_pattern.exec(r))){if("\0"===r)continue;throw new Error("Unexpected line: '"+r+"'")}var v=a[1].trim().toLowerCase();t.object.smooth="1"===v||"on"===v,(C=t.object.currentMaterial())&&(C.smooth=t.object.smooth)}t.finalize();var y=new THREE.Group;for(y.materialLibraries=[].concat(t.materialLibraries),u=0,c=t.objects.length;u<c;u++){var b=t.objects[u],x=b.geometry,E=b.materials,w="Line"===x.type;if(0!==x.vertices.length){var M=new THREE.BufferGeometry;M.addAttribute("position",new THREE.BufferAttribute(new Float32Array(x.vertices),3)),x.normals.length>0?M.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(x.normals),3)):M.computeVertexNormals(),x.uvs.length>0&&M.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(x.uvs),2));for(var A,_=[],T=0,S=E.length;T<S;T++){var N=E[T],C=void 0;if(null!==this.materials&&(C=this.materials.create(N.name),w&&C&&!(C instanceof THREE.LineBasicMaterial))){var I=new THREE.LineBasicMaterial;I.copy(C),C=I}C||((C=w?new THREE.LineBasicMaterial:new THREE.MeshPhongMaterial).name=N.name),C.shading=N.smooth?THREE.SmoothShading:THREE.FlatShading,_.push(C)}if(_.length>1){for(T=0,S=E.length;T<S;T++)N=E[T],M.addGroup(N.groupStart,N.groupCount,T);var L=new THREE.MultiMaterial(_);A=w?new THREE.LineSegments(M,L):new THREE.Mesh(M,L)}else A=w?new THREE.LineSegments(M,_[0]):new THREE.Mesh(M,_[0]);A.name=b.name,y.add(A)}}return console.timeEnd("OBJLoader"),y}}},{}],48:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}(n=t.exports=r).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],49:[function(e,n,r){!function(e){if("performance"in e===!1&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance===!1){var t=e.performance.timing&&e.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();e.performance.now=function(){return Date.now()-t}}}(this);var i,o=o||function(){var e=[];return{REVISION:"14",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:window.performance.now();n<e.length;)e[n].update(t)?n++:e.splice(n,1);return!0}}}();o.Tween=function(e){var t=e,n={},r={},i={},a=1e3,s=0,u=!1,c=!1,l=!1,h=0,f=null,d=o.Easing.Linear.None,p=o.Interpolation.Linear,m=[],g=null,v=!1,y=null,b=null,x=null;for(var E in e)n[E]=parseFloat(e[E],10);this.to=function(e,t){return void 0!==t&&(a=t),r=e,this},this.start=function(e){for(var a in o.add(this),c=!0,v=!1,f=void 0!==e?e:window.performance.now(),f+=h,r){if(r[a]instanceof Array){if(0===r[a].length)continue;r[a]=[t[a]].concat(r[a])}n[a]=t[a],n[a]instanceof Array===!1&&(n[a]*=1),i[a]=n[a]||0}return this},this.stop=function(){return c?(o.remove(this),c=!1,null!==x&&x.call(t),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return y=e,this},this.onComplete=function(e){return b=e,this},this.onStop=function(e){return x=e,this},this.update=function(e){var o;if(e<f)return!0;!1===v&&(null!==g&&g.call(t),v=!0);var c=(e-f)/a,x=d(c=c>1?1:c);for(o in r){var E=n[o]||0,w=r[o];w instanceof Array?t[o]=p(w,x):("string"===typeof w&&(w=E+parseFloat(w,10)),"number"===typeof w&&(t[o]=E+(w-E)*x))}if(null!==y&&y.call(t,x),1==c){if(s>0){for(o in isFinite(s)&&s--,i){if("string"===typeof r[o]&&(i[o]=i[o]+parseFloat(r[o],10)),u){var M=i[o];i[o]=r[o],r[o]=M}n[o]=i[o]}return u&&(l=!l),f=e+h,!0}null!==b&&b.call(t);for(var A=0,_=m.length;A<_;A++)m[A].start(e);return!1}return!0}},o.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))},Out:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},InOut:function(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-o.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*o.Easing.Bounce.In(2*e):.5*o.Easing.Bounce.Out(2*e-1)+.5}}},o.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Interpolation.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n,r=0,i=e.length-1,a=Math.pow,s=o.Interpolation.Utils.Bernstein;for(n=0;n<=i;n++)r+=a(1-t,i-n)*a(t,n)*e[n]*s(i,n);return r},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=o.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=o.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n,r=1;if(e[t])return e[t];for(n=t;n>1;n--)r*=n;return e[t]=r}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},i=this,"function"===typeof t&&t.amd?t([],(function(){return o})):"object"===typeof r?n.exports=o:i.TWEEN=o},{}],50:[function(n,i,o){(function(r){!function(e){"object"===typeof o&&"undefined"!==typeof i?i.exports=e():"function"===typeof t&&t.amd?t([],e):("undefined"!==typeof window?window:"undefined"!==typeof r?r:"undefined"!==typeof self?self:this).WebVRPolyfill=e()}((function(){return function e(t,r,i){function o(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof n&&n;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};t[s][0].call(h.exports,(function(e){var n=t[s][1][e];return o(n||e)}),h,h.exports,e,t,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},s.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,d=l.length;for(c=0;c<d;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){var r=new a(t,n||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.once=function(e,t,n){var r=new a(t,n||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0===--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||r&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new o:delete this._events[a]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,s.EventEmitter=s,"undefined"!==typeof t&&(t.exports=s)},{}],2:[function(t,n,r){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}n.exports=s()?Object.assign:function(e,t){for(var n,r,s=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var l=0;l<r.length;l++)o.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s}},{}],3:[function(e,t,n){var r=e("./util.js"),i=e("./wakelock.js"),o=1e3,a=!1,s=[0,0,.5,1],u=[.5,0,.5,1];function c(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function l(){this.isPolyfilled=!0,this.displayId=o++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new i}function h(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function f(){}function d(){}l.prototype.getFrameData=function(e){return r.frameDataFromPose(e,this.getPose(),this)},l.prototype.getPose=function(){return this.getImmediatePose()},l.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},l.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},l.prototype.wrapForFullscreen=function(e){if(r.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var i=this;function o(){if(i.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];i.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}return o(),this.fullscreenWrapper_},l.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},l.prototype.requestPresent=function(e){var t=this.isPresenting,n=this;return e instanceof Array||(a||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),a=!0),e=[e]),new Promise((function(i,o){if(n.capabilities.canPresent)if(0==e.length||e.length>n.capabilities.maxLayers)o(new Error("Invalid number of layers."));else{var a=e[0];if(a.source){var c=a.leftBounds||s,l=a.rightBounds||u;if(t){var h=n.layer_;h.source!==a.source&&(h.source=a.source);for(var f=0;f<4;f++)h.leftBounds[f]!==c[f]&&(h.leftBounds[f]=c[f]),h.rightBounds[f]!==l[f]&&(h.rightBounds[f]=l[f]);i()}else{if(n.layer_={predistorted:a.predistorted,source:a.source,leftBounds:c.slice(0),rightBounds:l.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var d=function(){var e=r.getFullscreenElement();n.isPresenting=m===e,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(e){console.error("screen.orientation.lock() failed due to",e.message)})),n.waitingForPresent_=!1,n.beginPresent_(),i()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.wakelock_.release(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()},p=function(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.wakelock_.release(),n.waitingForPresent_=!1,n.isPresenting=!1,o(new Error("Unable to present.")))},m=n.wrapForFullscreen(n.layer_.source);n.addFullscreenListeners_(m,d,p),r.requestFullscreen(m)?(n.wakelock_.request(),n.waitingForPresent_=!0):(r.isIOS()||r.isWebViewAndroid())&&(n.wakelock_.request(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),i())}n.waitingForPresent_||r.isIOS()||(r.exitFullscreen(),o(new Error("Unable to present.")))}}else i()}else o(new Error("VRDisplay is not capable of presenting."))}))},l.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise((function(n,i){e?(!r.exitFullscreen()&&r.isIOS()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),r.isWebViewAndroid()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),n()):i(new Error("Was not presenting to VRDisplay."))}))},l.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},l.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},l.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=n,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),n&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",n,!1))},l.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,!1),e.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),e.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},l.prototype.beginPresent_=function(){},l.prototype.endPresent_=function(){},l.prototype.submitFrame=function(e){},l.prototype.getEyeParameters=function(e){return null},f.prototype=new h,d.prototype=new h,t.exports.VRFrameData=c,t.exports.VRDisplay=l,t.exports.VRDevice=h,t.exports.HMDVRDevice=f,t.exports.PositionSensorVRDevice=d},{"./util.js":23,"./wakelock.js":25}],4:[function(e,t,n){var r=e("./cardboard-ui.js"),i=e("./util.js"),o=e("./deps/wglu-preserve-state.js"),a=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),s=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function u(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,i.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=i.linkProgram(e,a,s,this.attribs),this.uniforms=i.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new r(e))}u.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},u.prototype.onResize=function(){var e=this.gl,t=this,n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];o(e,n,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},u.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,n=this.gl;i.isIOS()||(t.width=i.getScreenWidth()*this.bufferScale,t.height=i.getScreenHeight()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(n){e.bufferWidth=n,e.realCanvasWidth.set.call(t,n),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(n){e.bufferHeight=n,e.realCanvasHeight.set.call(t,n),e.onResize()}})),this.lastBoundFramebuffer=n.getParameter(n.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,r){e.lastBoundFramebuffer=r||e.framebuffer,e.realBindFramebuffer.call(n,t,e.lastBoundFramebuffer)},this.cullFace=n.getParameter(n.CULL_FACE),this.depthTest=n.getParameter(n.DEPTH_TEST),this.blend=n.getParameter(n.BLEND),this.scissorTest=n.getParameter(n.SCISSOR_TEST),this.stencilTest=n.getParameter(n.STENCIL_TEST),n.enable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!0;break;case n.DEPTH_TEST:e.depthTest=!0;break;case n.BLEND:e.blend=!0;break;case n.SCISSOR_TEST:e.scissorTest=!0;break;case n.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(n,t)},n.disable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!1;break;case n.DEPTH_TEST:e.depthTest=!1;break;case n.BLEND:e.blend=!1;break;case n.SCISSOR_TEST:e.scissorTest=!1;break;case n.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(n,t)},this.colorMask=n.getParameter(n.COLOR_WRITEMASK),n.colorMask=function(t,r,i,o){e.colorMask[0]=t,e.colorMask[1]=r,e.colorMask[2]=i,e.colorMask[3]=o,e.realColorMask.call(n,t,r,i,o)},this.clearColor=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor=function(t,r,i,o){e.clearColor[0]=t,e.clearColor[1]=r,e.clearColor[2]=i,e.clearColor[3]=o,e.realClearColor.call(n,t,r,i,o)},this.viewport=n.getParameter(n.VIEWPORT),n.viewport=function(t,r,i,o){e.viewport[0]=t,e.viewport[1]=r,e.viewport[2]=i,e.viewport[3]=o,e.realViewport.call(n,t,r,i,o)},this.isPatched=!0,i.safariCssSizeWorkaround(t)}},u.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;i.isIOS()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout((function(){i.safariCssSizeWorkaround(t)}),1)}},u.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},u.prototype.submitFrame=function(){var e=this.gl,t=this,n=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),o(e,n,(function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||i.isIOS())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)})),i.isIOS()){var r=e.canvas;r.width==t.bufferWidth&&r.height==t.bufferHeight||(t.bufferWidth=r.width,t.bufferHeight=r.height,t.onResize())}},u.prototype.updateDeviceInfo=function(e){var t=this.gl,n=this,r=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];o(t,r,(function(t){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),!n.indexCount){var i=n.computeMeshIndices_(n.meshWidth,n.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),n.indexCount=i.length}}))},u.prototype.computeMeshVertices_=function(e,t,n){for(var r=new Float32Array(2*e*t*5),o=n.getLeftEyeVisibleTanAngles(),a=n.getLeftEyeNoLensTanAngles(),s=n.getLeftEyeVisibleScreenRect(a),u=0,c=0;c<2;c++){for(var l=0;l<t;l++)for(var h=0;h<e;h++,u++){var f=h/(e-1),d=l/(t-1),p=f,m=d,g=i.lerp(o[0],o[2],f),v=i.lerp(o[3],o[1],d),y=Math.sqrt(g*g+v*v),b=n.distortion.distortInverse(y),x=v*b/y;f=(g*b/y-a[0])/(a[2]-a[0]),d=(x-a[3])/(a[1]-a[3]),n.device.widthMeters,n.device.heightMeters,f=2*(s.x+f*s.width-.5),d=2*(s.y+d*s.height-.5),r[5*u+0]=f,r[5*u+1]=d,r[5*u+2]=p,r[5*u+3]=m,r[5*u+4]=c}var E=o[2]-o[0];o[0]=-(E+o[0]),o[2]=E-o[2],E=a[2]-a[0],a[0]=-(E+a[0]),a[2]=E-a[2],s.x=1-(s.x+s.width)}return r},u.prototype.computeMeshIndices_=function(e,t){for(var n=new Uint16Array(2*(e-1)*(t-1)*6),r=e/2,i=t/2,o=0,a=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var c=0;c<e;c++,o++)0!=c&&0!=u&&(c<=r==u<=i?(n[a++]=o,n[a++]=o-e-1,n[a++]=o-e,n[a++]=o-e-1,n[a++]=o,n[a++]=o-1):(n[a++]=o-1,n[a++]=o-e,n[a++]=o,n[a++]=o-e,n[a++]=o-1,n[a++]=o-e-1));return n},u.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(t)},n.set=function(e){this.setAttribute(t,e)}),n},t.exports=u},{"./cardboard-ui.js":5,"./deps/wglu-preserve-state.js":7,"./util.js":23}],5:[function(e,t,n){var r=e("./util.js"),i=e("./deps/wglu-preserve-state.js"),o=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),s=Math.PI/180,u=60,c=12,l=20,h=1,f=.75,d=.3125,p=4,m=28,g=1.5;function v(e){this.gl=e,this.attribs={position:0},this.program=r.linkProgram(e,o,a,this.attribs),this.uniforms=r.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}v.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},v.prototype.listen=function(e,t){var n=this.gl.canvas;this.listener=function(r){var i=n.clientWidth/2,o=m*g;r.clientX>i-o&&r.clientX<i+o&&r.clientY>n.clientHeight-o?e(r):r.clientX<o&&r.clientY<o&&t(r)},n.addEventListener("click",this.listener,!1)},v.prototype.onResize=function(){var e=this.gl,t=this,n=[e.ARRAY_BUFFER_BINDING];i(e,n,(function(e){var n=[],i=e.drawingBufferWidth/2,o=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);r.isIOS()||(o*=window.devicePixelRatio);var a=p*o/2,v=m*g*o,y=m*o/2,b=(m*g-m)*o;function x(e,t){var r=(90-e)*s,o=Math.cos(r),a=Math.sin(r);n.push(d*o*y+i,d*a*y+y),n.push(t*o*y+i,t*a*y+y)}n.push(i-a,v),n.push(i-a,e.drawingBufferHeight),n.push(i+a,v),n.push(i+a,e.drawingBufferHeight),t.gearOffset=n.length/2;for(var E=0;E<=6;E++){var w=E*u;x(w,h),x(w+c,h),x(w+l,f),x(w+(u-l),f),x(w+(u-c),h)}function M(t,r){n.push(b+t,e.drawingBufferHeight-b-r)}t.gearVertexCount=n.length/2-t.gearOffset,t.arrowOffset=n.length/2;var A=a/Math.sin(45*s);M(0,y),M(y,0),M(y+A,A),M(A,y+A),M(A,y-A),M(0,y),M(y,2*y),M(y+A,2*y-A),M(A,y-A),M(0,y),M(A,y-a),M(m*o,y-a),M(A,y+a),M(m*o,y+a),t.arrowVertexCount=n.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW)}))},v.prototype.render=function(){var e=this.gl,t=this,n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];i(e,n,(function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()}))},v.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),r.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},t.exports=v},{"./deps/wglu-preserve-state.js":7,"./util.js":23}],6:[function(e,t,n){var r=e("./cardboard-distorter.js"),i=e("./cardboard-ui.js"),o=e("./device-info.js"),a=e("./dpdb/dpdb.js"),s=e("./sensor-fusion/fusion-pose-sensor.js"),u=e("./rotate-instructions.js"),c=e("./viewer-selector.js"),l=e("./base.js").VRDisplay,h=e("./util.js"),f={LEFT:"left",RIGHT:"right"};function d(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new s,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new a(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new o(this.dpdb_.getDeviceParams()),this.viewerSelector_=new c,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new u),h.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}d.prototype=new l,d.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},d.prototype.resetPose=function(){this.poseSensor_.resetPose()},d.prototype.getEyeParameters=function(e){var t,n=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==f.LEFT)n[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=f.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:n,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},d.prototype.onDeviceParamsUpdated_=function(e){h.isDebug()&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},d.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},d.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=h.getScreenWidth()*this.bufferScale_,e.canvas.height=h.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new i(e)):(this.distorter_=new r(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(h.isLandscapeMode()&&h.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},d.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},d.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},d.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},d.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),n=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",n.join("; ")+";"),h.safariCssSizeWorkaround(t.canvas)}},d.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},d.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},t.exports=d},{"./base.js":3,"./cardboard-distorter.js":4,"./cardboard-ui.js":5,"./device-info.js":8,"./dpdb/dpdb.js":13,"./rotate-instructions.js":17,"./sensor-fusion/fusion-pose-sensor.js":19,"./util.js":23,"./viewer-selector.js":24}],7:[function(e,t,n){function r(e,t,n){if(t){for(var r=[],i=null,o=0;o<t.length;++o)switch(a=t[o]){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),r.push(null,null);break}i||(i=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(u),r.push(e.getParameter(a),null);break;case e.ACTIVE_TEXTURE:i=e.getParameter(e.ACTIVE_TEXTURE),r.push(null);break;default:r.push(e.getParameter(a))}for(n(e),o=0;o<t.length;++o){var a=t[o],s=r[o];switch(a){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,s);break;case e.COLOR_CLEAR_VALUE:e.clearColor(s[0],s[1],s[2],s[3]);break;case e.COLOR_WRITEMASK:e.colorMask(s[0],s[1],s[2],s[3]);break;case e.CURRENT_PROGRAM:e.useProgram(s);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,s);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,s);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,s);break;case e.TEXTURE_BINDING_2D:if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_2D,s);break;case e.TEXTURE_BINDING_CUBE_MAP:var u;if((u=t[++o])<e.TEXTURE0||u>e.TEXTURE31)break;e.activeTexture(u),e.bindTexture(e.TEXTURE_CUBE_MAP,s);break;case e.VIEWPORT:e.viewport(s[0],s[1],s[2],s[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:s?e.enable(a):e.disable(a);break;default:console.log("No GL restore behavior for 0x"+a.toString(16))}i&&e.activeTexture(i)}}else n(e)}t.exports=r},{}],8:[function(e,t,n){var r=e("./distortion/distortion.js"),i=e("./math-util.js"),o=e("./util.js");function a(e){this.width=e.width||o.getScreenWidth(),this.height=e.height||o.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}var s=new a({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),u=new a({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),c={CardboardV1:new h({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new h({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function l(e){this.viewer=c.CardboardV2,this.updateDeviceParams(e),this.distortion=new r(this.viewer.distortionCoefficients)}function h(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}l.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},l.prototype.getDevice=function(){return this.device},l.prototype.setViewer=function(e){this.viewer=e,this.distortion=new r(this.viewer.distortionCoefficients)},l.prototype.determineDevice_=function(e){if(!e)return o.isIOS()?(console.warn("Using fallback iOS device measurements."),u):(console.warn("Using fallback Android device measurements."),s);var t=.0254,n=t/e.xdpi,r=t/e.ydpi;return new a({widthMeters:n*o.getScreenWidth(),heightMeters:r*o.getScreenHeight(),bevelMeters:.001*e.bevelMm})},l.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,o=(t.widthMeters-e.interLensDistance)/2,a=e.interLensDistance/2,s=e.baselineLensDistance-t.bevelMeters,u=t.heightMeters-s,c=i.radToDeg*Math.atan(n.distort(o/r)),l=i.radToDeg*Math.atan(n.distort(a/r)),h=i.radToDeg*Math.atan(n.distort(s/r)),f=i.radToDeg*Math.atan(n.distort(u/r));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(h,e.fov),upDegrees:Math.min(f,e.fov)}},l.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=Math.tan(-i.degToRad*e.fov),o=Math.tan(i.degToRad*e.fov),a=Math.tan(i.degToRad*e.fov),s=Math.tan(-i.degToRad*e.fov),u=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,h=e.interLensDistance/2-u,f=-l,d=e.screenLensDistance,p=n.distort((h-u)/d),m=n.distort((f+c)/d),g=n.distort((h+u)/d),v=n.distort((f-c)/d),y=new Float32Array(4);return y[0]=Math.max(r,p),y[1]=Math.min(o,m),y[2]=Math.min(a,g),y[3]=Math.max(s,v),y},l.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=new Float32Array(4),o=n.distortInverse(Math.tan(-i.degToRad*e.fov)),a=n.distortInverse(Math.tan(i.degToRad*e.fov)),s=n.distortInverse(Math.tan(i.degToRad*e.fov)),u=n.distortInverse(Math.tan(-i.degToRad*e.fov)),c=t.widthMeters/4,l=t.heightMeters/2,h=e.baselineLensDistance-t.bevelMeters-l,f=e.interLensDistance/2-c,d=-h,p=e.screenLensDistance,m=(f-c)/p,g=(d+l)/p,v=(f+c)/p,y=(d-l)/p;return r[0]=Math.max(o,m),r[1]=Math.min(a,g),r[2]=Math.min(s,v),r[3]=Math.max(u,y),r},l.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,n=this.device,r=t.screenLensDistance,i=(n.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-n.bevelMeters,a=(e[0]*r+i)/n.widthMeters,s=(e[1]*r+o)/n.heightMeters,u=(e[2]*r+i)/n.widthMeters,c=(e[3]*r+o)/n.heightMeters;return{x:a,y:c,width:u-a,height:s-c}},l.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},l.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},l.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:i.radToDeg*Math.atan(e.outerDist),rightDegrees:i.radToDeg*Math.atan(e.innerDist),downDegrees:i.radToDeg*Math.atan(e.bottomDist),upDegrees:i.radToDeg*Math.atan(e.topDist)}},l.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,n=this.device,r=t.screenLensDistance,i=n.widthMeters/r,o=n.heightMeters/r,a=n.width/i,s=n.height/o,u=Math.round((e.eyePosX-e.outerDist)*a),c=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*a)-u,height:Math.round((e.eyePosY+e.topDist)*s)-c}},l.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,o=e.interLensDistance/2/r,a=t.widthMeters/r,s=t.heightMeters/r,u=a/2-o,c=(e.baselineLensDistance-t.bevelMeters)/r,l=e.fov,h=n.distortInverse(Math.tan(i.degToRad*l)),f=Math.min(u,h),d=Math.min(o,h),p=Math.min(c,h);return{outerDist:f,innerDist:d,topDist:Math.min(s-c,h),bottomDist:p,eyePosX:u,eyePosY:c}},l.Viewers=c,t.exports=l},{"./distortion/distortion.js":10,"./math-util.js":15,"./util.js":23}],9:[function(e,t,n){e("./base.js").VRDisplay;var r=e("./base.js").HMDVRDevice,i=e("./base.js").PositionSensorVRDevice;function o(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function a(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}o.prototype=new r,o.prototype.getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},o.prototype.setFieldOfView=function(e,t,n,r){},a.prototype=new i,a.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},a.prototype.resetState=function(){return this.positionDevice.resetPose()},t.exports.VRDisplayHMDDevice=o,t.exports.VRDisplayPositionSensorDevice=a},{"./base.js":3}],10:[function(e,t,n){function r(e){this.coefficients=e}r.prototype.distortInverse=function(e){for(var t=0,n=1,r=e-this.distort(t);Math.abs(n-t)>1e-4;){var i=e-this.distort(n),o=n-i*((n-t)/(i-r));t=n,n=o,r=i}return n},r.prototype.distort=function(e){for(var t=e*e,n=0,r=0;r<this.coefficients.length;r++)n=t*(n+this.coefficients[r]);return(n+1)*e},r.prototype.solveLinear_=function(e,t){for(var n=e.length,r=0;r<n-1;++r)for(var i=r+1;i<n;++i){for(var o=e[r][i]/e[r][r],a=r+1;a<n;++a)e[a][i]-=o*e[a][r];t[i]-=o*t[r]}var s=new Array(n);for(r=n-1;r>=0;--r){var u=t[r];for(a=r+1;a<n;++a)u-=e[a][r]*s[a];s[r]=u/e[r][r]}return s},r.prototype.solveLeastSquares_=function(e,t){var n,r,i,o,a=e.length,s=e[0].length;if(a!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(s);for(i=0;i<s;++i)for(u[i]=new Array(s),r=0;r<s;++r){for(o=0,n=0;n<a;++n)o+=e[r][n]*e[i][n];u[i][r]=o}var c=new Array(s);for(r=0;r<s;++r){for(o=0,n=0;n<a;++n)o+=e[r][n]*t[n];c[r]=o}return this.solveLinear_(u,c)},r.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var n,i,o=6,a=new Array(o);for(i=0;i<o;++i)a[i]=new Array(t);var s=new Array(t);for(n=0;n<t;++n){var u=e*(n+1)/t,c=this.distort(u),l=c;for(i=0;i<o;++i)l*=c*c,a[i][n]=l;s[n]=u-c}return new r(this.solveLeastSquares_(a,s))},t.exports=r},{}],11:[function(e,t,n){var r={format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel XL/"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 "}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:534,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]};t.exports=r},{}],12:[function(e,t,n){t.exports={format:1,last_updated:"2017-01-12T08:41:55Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google//Pixel XL/"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3}]}},{}],13:[function(e,t,n){var r=e("./dpdb-cache.js"),i=e("../util.js"),o=e("./dpdb.json");function a(e,t){if(this.dpdb=r,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest,i=this;n.open("GET",o,!0),n.addEventListener("load",(function(){i.loading=!1,n.status>=200&&n.status<=299?(i.dpdb=JSON.parse(n.response),i.recalculateDeviceParams_()):console.error("Error loading online DPDB!")})),n.send()}}function s(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}a.prototype.getDeviceParams=function(){return this.deviceParams},a.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},a.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,n=i.getScreenWidth(),r=i.getScreenHeight();if(!e.devices)return console.error("DPDB has no devices section."),null;for(var o=0;o<e.devices.length;o++){var a=e.devices[o];if(a.rules)if("ios"==a.type||"android"==a.type){if(i.isIOS()==("ios"==a.type)){for(var u=!1,c=0;c<a.rules.length;c++){var l=a.rules[c];if(this.matchRule_(l,t,n,r)){u=!0;break}}if(u)return new s({xdpi:a.dpi[0]||a.dpi,ydpi:a.dpi[1]||a.dpi,bevelMm:a.bw})}}else console.warn("Device["+o+"] has invalid type.");else console.warn("Device["+o+"] has no rules section.")}return console.warn("No DPDB device match."),null},a.prototype.matchRule_=function(e,t,n,r){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var i=e.res[0],o=e.res[1];if(Math.min(n,r)!=Math.min(i,o)||Math.max(n,r)!=Math.max(i,o))return!1}return!0},t.exports=a},{"../util.js":23,"./dpdb-cache.js":11,"./dpdb.json":12}],14:[function(e,t,n){var r=e("./util.js"),i=e("./webvr-polyfill.js").WebVRPolyfill;window.WebVRConfig=r.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1,ALWAYS_APPEND_POLYFILL_DISPLAY:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new i}:new i},{"./util.js":23,"./webvr-polyfill.js":26}],15:[function(e,t,n){var r=window.MathUtil||{};r.degToRad=Math.PI/180,r.radToDeg=180/Math.PI,r.Vector2=function(e,t){this.x=e||0,this.y=t||0},r.Vector2.prototype={constructor:r.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},r.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},r.Vector3.prototype={constructor:r.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}},r.Quaternion=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},r.Quaternion.prototype={constructor:r.Quaternion,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(n/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=a*i*o+r*s*u,this.y=r*s*o-a*i*u,this.z=r*i*u+a*s*o,this.w=r*i*o-a*s*u,this},setFromEulerYXZ:function(e,t,n){var r=Math.cos(e/2),i=Math.cos(t/2),o=Math.cos(n/2),a=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=a*i*o+r*s*u,this.y=r*s*o-a*i*u,this.z=r*i*u-a*s*o,this.w=r*i*o+a*s*u,this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,i=e.z,o=e.w,a=t.x,s=t.y,u=t.z,c=t.w;return this.x=n*c+o*a+r*u-i*s,this.y=r*c+o*s+i*a-n*u,this.z=i*c+o*u+n*s-r*a,this.w=o*c-n*a-r*s-i*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this.x,r=this.y,i=this.z,o=this.w,a=o*e.w+n*e.x+r*e.y+i*e.z;if(a<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,a=-a):this.copy(e),a>=1)return this.w=o,this.x=n,this.y=r,this.z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this;var c=Math.sin((1-t)*s)/u,l=Math.sin(t*s)/u;return this.w=o*c+this.w*l,this.x=n*c+this.x*l,this.y=r*c+this.y*l,this.z=i*c+this.z*l,this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(i,o){return void 0===e&&(e=new r.Vector3),(t=i.dot(o)+1)<n?(t=0,Math.abs(i.x)>Math.abs(i.z)?e.set(-i.y,i.x,0):e.set(0,-i.z,i.y)):e.crossVectors(i,o),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()},t.exports=r},{}],16:[function(e,t,n){var r=e("./base.js").VRDisplay,i=e("./math-util.js"),o=e("./util.js"),a=.15,s=80,u=.5,c=.3;function l(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new i.Quaternion,this.rotateStart_=new i.Vector2,this.rotateEnd_=new i.Vector2,this.rotateDelta_=new i.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}l.prototype=new r,l.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},l.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+a):39==e.keyCode?this.animateTheta_(this.theta_-a):40==e.keyCode?this.animatePhi_(this.phi_-a):37==e.keyCode&&this.animateTheta_(this.theta_+a)},l.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},l.prototype.animatePhi_=function(e){e=o.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},l.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var n=this[e],r=new Date;this.angleAnimation_=requestAnimationFrame(function i(){var o=new Date-r;if(o>=s)return this[e]=t,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(i.bind(this));var a=o/s;this[e]=n+(t-n)*a}.bind(this))},l.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},l.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,n=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-n)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*c,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*u,this.phi_=o.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},l.prototype.onMouseUp_=function(e){this.isDragging_=!1},l.prototype.isPointerLocked_=function(){return void 0!==(document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement)},l.prototype.resetPose=function(){this.phi_=0,this.theta_=0},t.exports=l},{"./base.js":3,"./math-util.js":15,"./util.js":23}],17:[function(e,t,n){var r=e("./util.js");function i(){this.loadIcon_();var e=document.createElement("div");(o=e.style).position="fixed",o.top=0,o.right=0,o.bottom=0,o.left=0,o.backgroundColor="gray",o.fontFamily="sans-serif",o.zIndex=1e6;var t=document.createElement("img");t.src=this.icon,(o=t.style).marginLeft="25%",o.marginTop="25%",o.width="50%",e.appendChild(t);var n=document.createElement("div");(o=n.style).textAlign="center",o.fontSize="16px",o.lineHeight="24px",o.margin="24px 25%",o.width="50%",n.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(n);var r=document.createElement("div");(o=r.style).backgroundColor="#CFD8DC",o.position="fixed",o.bottom=0,o.width="100%",o.height="48px",o.padding="14px 24px",o.boxSizing="border-box",o.color="#656A6B",e.appendChild(r);var i=document.createElement("div");i.style.float="left",i.innerHTML="No Cardboard viewer?";var o,a=document.createElement("a");a.href="https://www.google.com/get/cardboard/get-cardboard/",a.innerHTML="get one",a.target="_blank",(o=a.style).float="right",o.fontWeight=600,o.textTransform="uppercase",o.borderLeft="1px solid gray",o.paddingLeft="24px",o.textDecoration="none",o.color="#656A6B",r.appendChild(i),r.appendChild(a),this.overlay=e,this.text=n,this.hide()}i.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img").style;r.isLandscapeMode()?(t.width="20%",t.marginLeft="40%",t.marginTop="3%"):(t.width="50%",t.marginLeft="25%",t.marginTop="25%")},i.prototype.hide=function(){this.overlay.style.display="none"},i.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},i.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},i.prototype.update=function(){this.disableShowTemporarily(),!r.isLandscapeMode()&&r.isMobile()?this.show():this.hide()},i.prototype.loadIcon_=function(){this.icon=r.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")},t.exports=i},{"./util.js":23}],18:[function(e,t,n){var r=e("./sensor-sample.js"),i=e("../math-util.js"),o=e("../util.js");function a(e){this.kFilter=e,this.currentAccelMeasurement=new r,this.currentGyroMeasurement=new r,this.previousGyroMeasurement=new r,o.isIOS()?this.filterQ=new i.Quaternion(-1,0,0,1):this.filterQ=new i.Quaternion(1,0,0,1),this.previousFilterQ=new i.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new i.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new i.Vector3,this.measuredGravity=new i.Vector3,this.gyroIntegralQ=new i.Quaternion}a.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},a.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n=t-this.previousGyroMeasurement.timestampS;o.isTimestampDeltaValid(n)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},a.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var n=new i.Quaternion;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new i.Quaternion;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),o.isDebug()&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",i.radToDeg*o.getQuaternionAngle(r),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var a=new i.Quaternion;a.copy(this.filterQ),a.multiply(r),this.filterQ.slerp(a,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},a.prototype.getOrientation=function(){return this.filterQ},a.prototype.accelToQuaternion_=function(e){var t=new i.Vector3;t.copy(e),t.normalize();var n=new i.Quaternion;return n.setFromUnitVectors(new i.Vector3(0,0,-1),t),n.inverse(),n},a.prototype.gyroToQuaternionDelta_=function(e,t){var n=new i.Quaternion,r=new i.Vector3;return r.copy(e),r.normalize(),n.setFromAxisAngle(r,e.length()*t),n},t.exports=a},{"../math-util.js":15,"../util.js":23,"./sensor-sample.js":21}],19:[function(e,t,n){var r=e("./complementary-filter.js"),i=e("./pose-predictor.js"),o=e("../touch-panner.js"),a=e("../math-util.js"),s=e("../util.js");function u(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new a.Vector3,this.gyroscope=new a.Vector3,this.start(),this.filter=new r(WebVRConfig.K_FILTER),this.posePredictor=new i(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new o,this.filterToWorldQ=new a.Quaternion,s.isIOS()?this.filterToWorldQ.setFromAxisAngle(new a.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new a.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new a.Quaternion,this.worldToScreenQ=new a.Quaternion,this.originalPoseAdjustQ=new a.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new a.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),s.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new a.Quaternion,this.isFirefoxAndroid=s.isFirefoxAndroid(),this.isIOS=s.isIOS(),this.orientationOut_=new Float32Array(4)}u.prototype.getPosition=function(){return null},u.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new a.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},u.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),s.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},u.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},u.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,n=e.rotationRate,r=e.timeStamp/1e3;this.isFirefoxAndroid&&(r/=1e3);var i=r-this.previousTimestampS;if(i<=s.MIN_TIMESTEP||i>s.MAX_TIMESTEP)return console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=r);this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(n.alpha,n.beta,n.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),this.previousTimestampS=r},u.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},u.prototype.onMessage_=function(e){var t=e.data;t&&t.type&&"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)},u.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new a.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new a.Vector3(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},u.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),s.isIOS()&&s.isInsideCrossDomainIFrame()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},u.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)},t.exports=u},{"../math-util.js":15,"../touch-panner.js":22,"../util.js":23,"./complementary-filter.js":18,"./pose-predictor.js":20}],20:[function(e,t,n){var r=e("../math-util"),i=e("../util");function o(e){this.predictionTimeS=e,this.previousQ=new r.Quaternion,this.previousTimestampS=null,this.deltaQ=new r.Quaternion,this.outQ=new r.Quaternion}o.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=n,e;var o=new r.Vector3;o.copy(t),o.normalize();var a=t.length();if(a<20*r.degToRad)return i.isDebug()&&console.log("Moving slowly, at %s deg/s: no prediction",(r.radToDeg*a).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;this.previousTimestampS;var s=a*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(o,s),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=n,this.outQ},t.exports=o},{"../math-util":15,"../util":23}],21:[function(e,t,n){function r(e,t){this.set(e,t)}r.prototype.set=function(e,t){this.sample=e,this.timestampS=t},r.prototype.copy=function(e){this.set(e.sample,e.timestampS)},t.exports=r},{}],22:[function(e,t,n){var r=e("./math-util.js"),i=e("./util.js"),o=.5;function a(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new r.Vector2,this.rotateEnd=new r.Vector2,this.rotateDelta=new r.Vector2,this.theta=0,this.orientation=new r.Quaternion}a.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},a.prototype.resetSensor=function(){this.theta=0},a.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},a.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),i.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*o}},a.prototype.onTouchEnd_=function(e){this.isTouching=!1},t.exports=a},{"./math-util.js":15,"./util.js":23}],23:[function(e,t,n){var r=e("object-assign"),i=window.Util||{};i.MIN_TIMESTEP=.001,i.MAX_TIMESTEP=1,i.base64=function(e,t){return"data:"+e+";base64,"+t},i.clamp=function(e,t,n){return Math.min(Math.max(t,e),n)},i.lerp=function(e,t,n){return e+(t-e)*n},i.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),i.isWebViewAndroid=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),i.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),i.isFirefoxAndroid=function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}(),i.isLandscapeMode=function(){return 90==window.orientation||-90==window.orientation},i.isTimestampDeltaValid=function(e){return!isNaN(e)&&!(e<=i.MIN_TIMESTEP)&&!(e>i.MAX_TIMESTEP)},i.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},i.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},i.requestFullscreen=function(e){if(i.isWebViewAndroid())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},i.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},i.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},i.linkProgram=function(e,t,n,r){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,n),e.compileShader(o);var a=e.createProgram();for(var s in e.attachShader(a,i),e.attachShader(a,o),r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.deleteShader(i),e.deleteShader(o),a},i.getProgramUniforms=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i="",o=0;o<r;o++)n[i=e.getActiveUniform(t,o).name.replace("[0]","")]=e.getUniformLocation(t,i);return n},i.orthoMatrix=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1,e},i.isMobile=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},i.extend=r,i.safariCssSizeWorkaround=function(e){if(i.isIOS()){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(n)+"px",setTimeout((function(){e.style.width=t,e.style.height=n}),100)}window.Util=i,window.canvas=e},i.isDebug=function(){return i.getQueryParameter("debug")},i.getQueryParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},i.frameDataFromPose=function(){var e=Math.PI/180,t=.25*Math.PI;function n(n,r,i,o){var a=Math.tan(r?r.upDegrees*e:t),s=Math.tan(r?r.downDegrees*e:t),u=Math.tan(r?r.leftDegrees*e:t),c=Math.tan(r?r.rightDegrees*e:t),l=2/(u+c),h=2/(a+s);return n[0]=l,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=h,n[6]=0,n[7]=0,n[8]=-(u-c)*l*.5,n[9]=(a-s)*h*.5,n[10]=o/(i-o),n[11]=-1,n[12]=0,n[13]=0,n[14]=o*i/(i-o),n[15]=0,n}function r(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,u=i+i,c=o+o,l=r*s,h=r*u,f=r*c,d=i*u,p=i*c,m=o*c,g=a*s,v=a*u,y=a*c;return e[0]=1-(d+m),e[1]=h+y,e[2]=f-v,e[3]=0,e[4]=h-y,e[5]=1-(l+m),e[6]=p+g,e[7]=0,e[8]=f+v,e[9]=p-g,e[10]=1-(l+d),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function i(e,t,n){var r,i,o,a,s,u,c,l,h,f,d,p,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=t[9],d=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=h,e[9]=f,e[10]=d,e[11]=p,e[12]=r*m+s*g+h*v+t[12],e[13]=i*m+u*g+f*v+t[13],e[14]=o*m+c*g+d*v+t[14],e[15]=a*m+l*g+p*v+t[15]),e}function o(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*u-i*a,x=n*c-o*a,E=r*u-i*s,w=r*c-o*s,M=i*c-o*u,A=l*m-h*p,_=l*g-f*p,T=l*v-d*p,S=h*g-f*m,N=h*v-d*m,C=f*v-d*g,I=y*C-b*N+x*S+E*T-w*_+M*A;return I?(I=1/I,e[0]=(s*C-u*N+c*S)*I,e[1]=(i*N-r*C-o*S)*I,e[2]=(m*M-g*w+v*E)*I,e[3]=(f*w-h*M-d*E)*I,e[4]=(u*T-a*C-c*_)*I,e[5]=(n*C-i*T+o*_)*I,e[6]=(g*x-p*M-v*b)*I,e[7]=(l*M-f*x+d*b)*I,e[8]=(a*N-s*T+c*A)*I,e[9]=(r*T-n*N-o*A)*I,e[10]=(p*w-m*x+v*y)*I,e[11]=(h*x-l*w-d*y)*I,e[12]=(s*_-a*S-u*A)*I,e[13]=(n*S-r*_+i*A)*I,e[14]=(m*b-p*E-g*y)*I,e[15]=(l*E-h*b+f*y)*I,e):null}var a=new Float32Array([0,0,0,1]),s=new Float32Array([0,0,0]);function u(e,t,u,c,l){n(e,c?c.fieldOfView:null,l.depthNear,l.depthFar),r(t,u.orientation||a,u.position||s),c&&i(t,t,c.offset),o(t,t)}return function(e,t,n){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,u(e.leftProjectionMatrix,e.leftViewMatrix,t,n.getEyeParameters("left"),n),u(e.rightProjectionMatrix,e.rightViewMatrix,t,n.getEyeParameters("right"),n),!0)}}(),i.isInsideCrossDomainIFrame=function(){var e=window.self!==window.top,t=i.getDomainFromUrl(document.referrer),n=i.getDomainFromUrl(window.location.href);return e&&t!==n},i.getDomainFromUrl=function(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]},t.exports=i},{"object-assign":2}],24:[function(e,t,n){var r=e("./device-info.js"),i=e("eventemitter3"),o=(e("./util.js"),"CardboardV1"),a="WEBVR_CARDBOARD_VIEWER",s="webvr-polyfill-viewer-selector";function u(){try{this.selectedKey=localStorage.getItem(a)||o}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(r.Viewers),this.root=null}u.prototype=new i,u.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},u.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},u.prototype.getCurrentViewer=function(){return r.Viewers[this.selectedKey]},u.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},u.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&r.Viewers[this.selectedKey]){this.emit("change",r.Viewers[this.selectedKey]);try{localStorage.setItem(a,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},u.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(s),t.style.display="none";var n=document.createElement("div");(o=n.style).position="fixed",o.left=0,o.top=0,o.width="100%",o.height="100%",o.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var r=280,i=document.createElement("div"),o=i.style;for(var a in o.boxSizing="border-box",o.position="fixed",o.top="24px",o.left="50%",o.marginLeft=-r/2+"px",o.width=r+"px",o.padding="24px",o.overflow="hidden",o.background="#fafafa",o.fontFamily="'Roboto', sans-serif",o.boxShadow="0px 5px 20px #666",i.appendChild(this.createH1_("Select your viewer")),e)i.appendChild(this.createChoice_(a,e[a].label));return i.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(n),t.appendChild(i),t},u.prototype.createH1_=function(e){var t=document.createElement("h1"),n=t.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",t.innerHTML=e,t},u.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",e),r.setAttribute("type","radio"),r.setAttribute("value",e),r.setAttribute("name","field");var i=document.createElement("label");return i.style.marginLeft="4px",i.setAttribute("for",e),i.innerHTML=t,n.appendChild(r),n.appendChild(i),n},u.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var r=n.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",n.addEventListener("click",t),n},t.exports=u},{"./device-info.js":8,"./util.js":23,eventemitter3:1}],25:[function(e,t,n){var r=e("./util.js");function i(){var e=document.createElement("video");e.addEventListener("ended",(function(){e.play()})),this.request=function(){e.paused&&(e.src=r.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),e.play())},this.release=function(){e.pause(),e.src=""}}function o(){var e=null;this.request=function(){e||(e=setInterval((function(){window.location=window.location,setTimeout(window.stop,0)}),3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function a(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?o:i}t.exports=a()},{"./util.js":23}],26:[function(t,n,r){var i=t("./util.js"),o=t("./cardboard-vr-display.js"),a=t("./mouse-keyboard-vr-display.js"),s=t("./base.js").VRDisplay,u=t("./base.js").VRFrameData,c=t("./base.js").HMDVRDevice,l=t("./base.js").PositionSensorVRDevice,h=t("./display-wrappers.js").VRDisplayHMDDevice,f=t("./display-wrappers.js").VRDisplayPositionSensorDevice;function d(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeGetVRDisplaysFunc=this.nativeWebVRAvailable?navigator.getVRDisplays:null,this.nativeLegacyWebVRAvailable||(this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),p()}function p(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=u,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return i.frameDataFromPose(e,this.getPose(),this)})}d.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},d.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},d.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new o,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new h(e)),this.devices.push(new f(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new a,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new h(e)),this.devices.push(new f(e)))),this.devicesPopulated=!0}},d.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=s;var e=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return e.isCardboardCompatible()&&(e.isFullScreenAvailable()||i.isIOS())}}),!1 in window&&(window.VRFrameData=u)},d.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=c,window.PositionSensorVRDevice=l},d.prototype.getVRDisplays=function(){this.populateDevices();var t=this.displays;return this.nativeWebVRAvailable?this.nativeGetVRDisplaysFunc.call(navigator).then((function(e){return WebVRConfig.ALWAYS_APPEND_POLYFILL_DISPLAY?e.concat(t):e.length>0?e:t})):new Promise((function(n,r){try{n(t)}catch(e){r(e)}}))},d.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var t=this;return new Promise((function(n,r){try{if(!t.devicesPopulated){if(t.nativeWebVRAvailable)return navigator.getVRDisplays((function(e){for(var r=0;r<e.length;++r)t.devices.push(new h(e[r])),t.devices.push(new f(e[r]));t.devicesPopulated=!0,n(t.devices)}),r);if(t.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)((function(e){for(var r=0;r<e.length;++r)e[r]instanceof c&&t.devices.push(e[r]),e[r]instanceof l&&t.devices.push(e[r]);t.devicesPopulated=!0,n(t.devices)}),r)}t.populateDevices(),n(t.devices)}catch(e){r(e)}}))},d.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},d.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},d.prototype.isFullScreenAvailable=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1},n.exports.WebVRPolyfill=d},{"./base.js":3,"./cardboard-vr-display.js":6,"./display-wrappers.js":9,"./mouse-keyboard-vr-display.js":16,"./util.js":23}]},{},[14])(14)}))}).call(this,"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],51:[function(e,t,n){var r=/\n/,i="\n",o=/\s/;function a(e,t,n,r){var i=e.indexOf(t,n);return-1===i||i>r?r:i}function s(e){return o.test(e)}function u(e,t,n,i,o){for(var a=[],s=n,u=n;u<i&&u<t.length;u++){var c=t.charAt(u),l=r.test(c);if(l||u===i-1){var h=e(t,s,l?u:u+1,o);a.push(h),s=u+1}}return a}function c(e,t,n,r,o,u){var c=[],l=o;for("nowrap"===u&&(l=Number.MAX_VALUE);n<r&&n<t.length;){for(var h=a(t,i,n,r);n<h&&s(t.charAt(n));)n++;var f=e(t,n,h,l),d=n+(f.end-f.start),p=d+i.length;if(d<h){for(;d>n&&!s(t.charAt(d));)d--;if(d===n)p>n+i.length&&p--,d=p;else for(p=d;d>n&&s(t.charAt(d-i.length));)d--}if(d>=n){var m=e(t,n,d,l);c.push(m)}n=p}return c}function l(e,t,n,r){return{start:t,end:t+Math.min(r,n-t)}}t.exports=function(e,n){return t.exports.lines(e,n).map((function(t){return e.substring(t.start,t.end)})).join("\n")},t.exports.lines=function(e,t){if(0===(t=t||{}).width&&"nowrap"!==t.mode)return[];e=e||"";var n="number"===typeof t.width?t.width:Number.MAX_VALUE,r=Math.max(0,t.start||0),i="number"===typeof t.end?t.end:e.length,o=t.mode,a=t.measure||l;return"pre"===o?u(a,e,r,i,n):c(a,e,r,i,n,o)}},{}],52:[function(t,n,r){"use strict";var i=t("global/window"),o=t("is-function"),a=t("parse-headers"),s=t("xtend");function u(e,t){for(var n=0;n<e.length;n++)t(e[n])}function c(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e,t,n){var r=e;return o(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=s(t,{uri:e}),r.callback=n,r}function h(e,t,n){return f(t=l(e,t,n))}function f(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var n=!1,r=function(e,r,i){n||(n=!0,t.callback(e,r,i))};function i(){4===p.readyState&&u()}function o(){var t=void 0;if(t=p.response?p.response:p.responseText||d(p),E)try{t=JSON.parse(t)}catch(e){}return t}function s(e){return clearTimeout(m),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,r(e,w)}function u(){if(!f){var e;clearTimeout(m),e=t.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=w,i=null;return 0!==e?(n={body:o(),statusCode:e,method:v,headers:{},url:g,rawRequest:p},p.getAllResponseHeaders&&(n.headers=a(p.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),r(i,n,n.body)}}var l,f,p=t.xhr||null;p||(p=t.cors||t.useXDR?new h.XDomainRequest:new h.XMLHttpRequest);var m,g=p.url=t.uri||t.url,v=p.method=t.method||"GET",y=t.body||t.data,b=p.headers=t.headers||{},x=!!t.sync,E=!1,w={body:void 0,headers:{},statusCode:0,method:v,url:g,rawRequest:p};if("json"in t&&!1!==t.json&&(E=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),y=JSON.stringify(!0===t.json?y:t.json))),p.onreadystatechange=i,p.onload=u,p.onerror=s,p.onprogress=function(){},p.onabort=function(){f=!0},p.ontimeout=s,p.open(v,g,!x,t.username,t.password),x||(p.withCredentials=!!t.withCredentials),!x&&t.timeout>0&&(m=setTimeout((function(){if(!f){f=!0,p.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),t.timeout)),p.setRequestHeader)for(l in b)b.hasOwnProperty(l)&&p.setRequestHeader(l,b[l]);else if(t.headers&&!c(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(p),p.send(y||null),p}function d(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function p(){}n.exports=h,h.XMLHttpRequest=i.XMLHttpRequest||p,h.XDomainRequest="withCredentials"in new h.XMLHttpRequest?h.XMLHttpRequest:i.XDomainRequest,u(["get","put","post","patch","head","delete"],(function(e){h["delete"===e?"del":e]=function(t,n,r){return(n=l(t,n,r)).method=e.toUpperCase(),f(n)}}))},{"global/window":20,"is-function":24,"parse-headers":33,xtend:54}],53:[function(e,t,n){t.exports="undefined"!==typeof window.DOMParser?function(e){return(new window.DOMParser).parseFromString(e,"application/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{}],54:[function(e,t,n){t.exports=i;var r=Object.prototype.hasOwnProperty;function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}},{}],55:[function(e,t,n){t.exports={name:"aframe",version:"0.5.0",description:"A web framework for building virtual reality experiences.",homepage:"https://aframe.io/",main:"dist/aframe-master.js",scripts:{browserify:"browserify src/index.js -s 'AFRAME' -p browserify-derequire",build:"mkdirp build/ && npm run browserify -- --debug -t [envify --INSPECTOR_VERSION dev] -o build/aframe.js",codecov:"codecov",dev:"npm run build && cross-env INSPECTOR_VERSION=dev node ./scripts/budo -t envify",dist:"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"npm run browserify -s -- --debug | exorcist dist/aframe-master.js.map > dist/aframe-master.js","dist:min":"npm run browserify -s -- --debug -p [minifyify --map aframe-master.min.js.map --output dist/aframe-master.min.js.map] -o dist/aframe-master.min.js",docs:"markserv --dir docs --port 9001",ghpages:"ghpages -p gh-pages/",lint:"semistandard -v | snazzy",precommit:"npm run lint",preghpages:"npm run dist && rimraf gh-pages && mkdirp gh-pages && cp -r {.nojekyll,dist,lib,examples,index.html,style} gh-pages/. 2>/dev/null || : && git checkout dist/ && replace 'build/aframe-master.js' 'dist/aframe-master.min.js' gh-pages/ -r --silent",prerelease:"npm run dist && node scripts/release.js 0.4.0 0.5.0",start:"npm run dev",test:"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"karma start ./tests/karma.conf.js --browsers Firefox","test:chrome":"karma start ./tests/karma.conf.js --browsers Chrome"},repository:"aframevr/aframe",license:"MIT",dependencies:{"browserify-css":"^0.8.2",debug:"^2.2.0","deep-assign":"^2.0.0","document-register-element":"dmarcos/document-register-element#8ccc532b7",envify:"^3.4.1","load-bmfont":"^1.2.3","object-assign":"^4.0.1",present:"0.0.6","promise-polyfill":"^3.1.0","style-attr":"^1.0.2",three:"^0.83.0","three-bmfont-text":"^2.1.0","tween.js":"^15.0.0","webvr-polyfill":"dmarcos/webvr-polyfill#a02a8089b"},devDependencies:{browserify:"^13.1.0","browserify-derequire":"^0.9.4","browserify-istanbul":"^2.0.0",budo:"^9.2.0",chai:"^3.5.0","chai-shallow-deep-equal":"^1.4.0",chalk:"^1.1.3",codecov:"^1.0.1","cross-env":"^3.1.3",exorcist:"^0.4.0",ghpages:"0.0.8","git-rev":"^0.2.1",glob:"^7.1.1",husky:"^0.11.7",istanbul:"^0.4.5",karma:"^1.3.0","karma-browserify":"^5.1.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.1.1","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^1.0.0","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-sinon-chai":"^1.2.4",lolex:"^1.5.1",markserv:"0.0.20",minifyify:"^7.3.3",mkdirp:"^0.5.1",mocha:"^3.0.2","mozilla-download":"^1.1.1",open:"0.0.5",replace:"^0.3.0",rimraf:"^2.5.4",semistandard:"^9.0.0",sinon:"^1.17.5","sinon-chai":"^2.8.0",snazzy:"^5.0.0","too-wordy":"ngokevin/too-wordy",uglifyjs:"^2.4.10","write-good":"^0.9.1"},link:!0,browserify:{transform:["browserify-css","envify"]},semistandard:{ignore:["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},keywords:["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","web-components","webvr"],"browserify-css":{minify:!0},engines:{node:">= 4.6.0",npm:"^2.15.9"}}},{}],56:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("blend-character-model",{schema:{type:"asset"},init:function(){this.model=null},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.model=new i.BlendCharacter,this.model.load(n,(function(){t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"blend",model:e.model}),e.model.castShadow=!0,e.model.receiveShadow=!0,e.model.material.shading=i.FlatShading,e.model.geometry.computeBoundingBox()})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":100,"../lib/three":146}],57:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/"),a=o.bind,s=o.device.checkHasPositionalTracking;t.exports.Component=r("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},userHeight:{default:0,min:0},zoom:{default:1,min:0}},init:function(){var e,t=this.el,n=t.sceneEl;this.savedPose=null,e=this.camera=new i.PerspectiveCamera,t.setObject3D("camera",e),this.onEnterVR=a(this.onEnterVR,this),this.onExitVR=a(this.onExitVR,this),n.addEventListener("enter-vr",this.onEnterVR),n.addEventListener("exit-vr",this.onExitVR)},update:function(e){var t=this.el,n=this.data,r=this.camera,i=this.system;this.addHeightOffset(e.userHeight),r.aspect=n.aspect||window.innerWidth/window.innerHeight,r.far=n.far,r.fov=n.fov,r.near=n.near,r.zoom=n.zoom,r.updateProjectionMatrix(),e&&e.active===n.active||(n.active&&i.activeCameraEl!==t?i.setActiveCamera(t):n.active||i.activeCameraEl!==t||i.disableActiveCamera())},remove:function(){var e=this.el.sceneEl;this.el.removeObject3D("camera"),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR)},onEnterVR:function(){this.saveCameraPose(),this.removeHeightOffset()},onExitVR:function(){this.restoreCameraPose()},addHeightOffset:function(e){var t,n=this.el,r=this.data.userHeight;e=e||0,t=n.getAttribute("position")||{x:0,y:0,z:0},n.setAttribute("position",{x:t.x,y:t.y-e+r,z:t.z})},removeHeightOffset:function(){var e,t,n=this.el,r=this.data.userHeight;t=this.hasPositionalTracking||s(),r&&t&&(e=n.getAttribute("position")||{x:0,y:0,z:0},n.setAttribute("position",{x:e.x,y:e.y-r,z:e.z}))},saveCameraPose:function(){var e=this.el,t=this.hasPositionalTracking||s();!this.savedPose&&t&&(this.savedPose={position:e.getAttribute("position"),rotation:e.getAttribute("rotation")})},restoreCameraPose:function(){var e=this.el,t=this.savedPose,n=this.hasPositionalTracking||s();t&&n&&(e.setAttribute("position",t.position),e.setAttribute("rotation",t.rotation),this.savedPose=null)}})},{"../core/component":100,"../lib/three":146,"../utils/":167}],58:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("collada-model",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new i.ColladaLoader,this.loader.options.convertUpAxis=!0},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,(function(n){e.model=n.scene,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},{"../core/component":100,"../lib/three":146}],59:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/"),o=i.bind,a={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},s={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"};t.exports.Component=r("cursor",{dependencies:["raycaster"],schema:{fuse:{default:i.device.isMobile()},fuseTimeout:{default:1500,min:0}},init:function(){var e=this.el,t=e.sceneEl.canvas;this.fuseTimeout=void 0,this.mouseDownEl=null,this.intersection=null,this.intersectedEl=null,t?(t.addEventListener("mousedown",o(this.onMouseDown,this)),t.addEventListener("mouseup",o(this.onMouseUp,this)),e.addEventListener("raycaster-intersection",o(this.onIntersection,this)),e.addEventListener("raycaster-intersection-cleared",o(this.onIntersectionCleared,this))):e.sceneEl.addEventListener("render-target-loaded",o(this.init,this))},onMouseDown:function(e){this.twoWayEmit(a.MOUSEDOWN),this.mouseDownEl=this.intersectedEl},onMouseUp:function(e){this.twoWayEmit(a.MOUSEUP),!this.data.fuse&&this.intersectedEl&&this.mouseDownEl===this.intersectedEl&&this.twoWayEmit(a.CLICK)},onIntersection:function(e){var t,n,r,i=this,o=this.el,u=this.data;t=e.detail.els[0]===o?1:0,r=e.detail.intersections[t],(n=e.detail.els[t])&&(this.intersectedEl!==n?(this.intersectedEl&&this.clearCurrentIntersection(),this.intersection=r,this.intersectedEl=n,o.addState(s.HOVERING),n.addState(s.HOVERED),i.twoWayEmit(a.MOUSEENTER),0!==u.fuseTimeout&&u.fuse&&(o.addState(s.FUSING),this.twoWayEmit(a.FUSING),this.fuseTimeout=setTimeout((function(){o.removeState(s.FUSING),i.twoWayEmit(a.CLICK)}),u.fuseTimeout))):this.intersection=r)},onIntersectionCleared:function(e){var t=this.el,n=e.detail.el;t!==n&&n===this.intersectedEl&&this.clearCurrentIntersection()},clearCurrentIntersection:function(){var e=this.el;this.intersectedEl.removeState(s.HOVERED),e.removeState(s.HOVERING),e.removeState(s.FUSING),this.twoWayEmit(a.MOUSELEAVE),this.intersection=null,this.intersectedEl=null,clearTimeout(this.fuseTimeout)},twoWayEmit:function(e){var t=this.el,n=this.intersectedEl,r=this.intersection;t.emit(e,{intersectedEl:n,intersection:r}),n&&n.emit(e,{cursorEl:t,intersection:r})}})},{"../core/component":100,"../utils/":167}],60:[function(e,t,n){var r=e("../utils/debug"),i=e("../core/geometry").geometries,o=e("../core/geometry").geometryNames,a=e("../core/component").registerComponent,s=e("../lib/three"),u=new s.Geometry,c=r("components:geometry:warn");t.exports.Component=a("geometry",{schema:{buffer:{default:!0},mergeTo:{type:"selector"},primitive:{default:"box",oneOf:o},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t=this.data,n=this.el.getOrCreateObject3D("mesh",s.Mesh),r=this.system;this.geometry&&(r.unuseGeometry(e),this.geometry=null),this.geometry=n.geometry=r.getOrCreateGeometry(t),t.mergeTo&&this.mergeTo(t.mergeTo)},mergeTo:function(e){var t,n=this.el,r=n.getObject3D("mesh");if(e&&e.isEntity)if(e!==n){if(!(t=e.getObject3D("mesh")))return t=e.getOrCreateObject3D("mesh",s.Mesh),void e.setAttribute("material",n.getAttribute("material"));t.geometry instanceof s.Geometry!==!1&&r.geometry instanceof s.Geometry!==!1?!1!==this.data.skipCache?(r.parent.updateMatrixWorld(),t.geometry.merge(r.geometry,r.matrixWorld),n.emit("geometry-merged",{mergeTarget:e}),n.parentNode.removeChild(n)):c("Cached geometries are not allowed to merge. Set `skipCache` to true"):c("Geometry merge is only available for `THREE.Geometry` types. Check that both of the merging geometry and the target geometry have `buffer` set to false")}else c("Source and target geometries cannot be the same for merge");else c("There is not a valid entity to merge the geometry to")},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=u,this.geometry=null},updateSchema:function(e){var t=e.primitive,n=this.data&&this.data.primitive,r=i[t]&&i[t].schema;if(!r)throw new Error("Unknown geometry schema `"+t+"`");n&&n===t||this.extendSchema(r)}})},{"../core/component":100,"../core/geometry":101,"../lib/three":146,"../utils/debug":163}],61:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("gltf-model",{schema:{type:"model"},init:function(){this.model=null,this.loader=new i.GLTFLoader},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.loader.load(n,(function(n){e.model=n.scene,e.system.registerModel(e.model),t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})})))},remove:function(){this.model&&(this.el.removeObject3D("mesh"),this.system.unregisterModel(this.model))}})},{"../core/component":100,"../lib/three":146}],62:[function(e,t,n){var r=e("../core/component").registerComponent,i="https://cdn.aframe.io/controllers/oculus-hands/v2/leftHand.json",o="https://cdn.aframe.io/controllers/oculus-hands/v2/rightHand.json";t.exports.Component=r("hand-controls",{schema:{default:"left"},init:function(){var e=this;this.touchedButtons={},this.pressedButtons={},this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")}},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("Atouchstart",this.onAorXTouchStart),e.addEventListener("Atouchend",this.onAorXTouchEnd),e.addEventListener("Btouchstart",this.onBorYTouchStart),e.addEventListener("Btouchend",this.onBorYTouchEnd),e.addEventListener("Xtouchstart",this.onAorXTouchStart),e.addEventListener("Xtouchend",this.onAorXTouchEnd),e.addEventListener("Ytouchstart",this.onBorYTouchStart),e.addEventListener("Ytouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("Atouchstart",this.onAorXTouchStart),e.removeEventListener("Atouchend",this.onAorXTouchEnd),e.removeEventListener("Btouchstart",this.onBorYTouchStart),e.removeEventListener("Btouchend",this.onBorYTouchEnd),e.removeEventListener("Xtouchstart",this.onAorXTouchStart),e.removeEventListener("Xtouchend",this.onAorXTouchEnd),e.removeEventListener("Ytouchstart",this.onBorYTouchStart),e.removeEventListener("Ytouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(){var e,t=this.el,n=this.data,r={hand:n,model:!1,rotationOffset:"left"===n?90:-90};e="left"===n?"url("+i+")":"url("+o+")",t.setAttribute("vive-controls",r),t.setAttribute("oculus-touch-controls",r),t.setAttribute("blend-character-model",e)},handleButton:function(e,t){var n,r="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(r===this.pressedButtons[e])return;this.pressedButtons[e]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture),this.emitGestureEvents(this.gesture,n))},isOculusTouchController:function(){var e=this.el.components["tracked-controls"],t=e&&e.controller&&e.controller.id;return t&&0===t.indexOf("Oculus Touch")},determineGesture:function(){var e,t=this.pressedButtons.grip,n=this.pressedButtons.surface||this.touchedButtons.surface,r=this.pressedButtons.trackpad||this.touchedButtons.trackpad,i=this.pressedButtons.trigger||this.touchedButtons.trigger,o=this.touchedButtons.AorX||this.touchedButtons.BorY,a=this.isOculusTouchController();return t?e=a?n||o||r?i?"fist":"pointing":i?"thumb":"pistol":"fist":i?e=a?"touch":"fist":!a&&r&&(e="pointing"),e},gestureAnimationMapping:{default:"Open",pointing:"Point",pistol:"Point + Thumb",fist:"Fist",touch:"Hold",thumb:"Thumb Up"},animateGesture:function(e){var t=this.isOculusTouchController();if(e||t){var n=this.gestureAnimationMapping[e||"default"];this.playAnimation(n||"Open",!n&&t)}else this.playAnimation("Open",!0)},gestureEventMapping:{fist:"grip",touch:"point",thumb:"thumb",pointing:"pointing",pistol:"pistol"},gestureEventName:function(e,t){if(!e)return 0;var n=this.gestureEventMapping[e];return"grip"===n?n+(t?"close":"open"):"point"===n||"thumb"===n?n+(t?"up":"down"):"pointing"===n||"pistol"===n?n+(t?"start":"end"):0},emitGestureEvents:function(e,t){var n,r=this.el;t!==e&&((n=this.gestureEventName(t,!1))&&r.emit(n),(n=this.gestureEventName(e,!0))&&r.emit(n))},playAnimation:function(e,t){var n,r=this.animationActive,i=1,o=this.el.getObject3D("mesh");o&&(t&&(i=-1),r&&o.play(r,0),(n=o.mixer.clipAction(e)).loop=2200,n.clampWhenFinished=!0,n.timeScale=i,o.play(e,1),this.animationActive=e)}})},{"../core/component":100}],63:[function(e,t,n){e("./blend-character-model"),e("./camera"),e("./collada-model"),e("./cursor"),e("./geometry"),e("./gltf-model"),e("./hand-controls"),e("./light"),e("./look-controls"),e("./material"),e("./obj-model"),e("./oculus-touch-controls"),e("./position"),e("./raycaster"),e("./rotation"),e("./scale"),e("./sound"),e("./text"),e("./tracked-controls"),e("./visible"),e("./vive-controls"),e("./wasd-controls"),e("./scene/auto-enter-vr"),e("./scene/canvas"),e("./scene/debug"),e("./scene/embedded"),e("./scene/inspector"),e("./scene/fog"),e("./scene/keyboard-shortcuts"),e("./scene/pool"),e("./scene/screenshot"),e("./scene/stats"),e("./scene/vr-mode-ui")},{"./blend-character-model":56,"./camera":57,"./collada-model":58,"./cursor":59,"./geometry":60,"./gltf-model":61,"./hand-controls":62,"./light":64,"./look-controls":65,"./material":66,"./obj-model":67,"./oculus-touch-controls":68,"./position":69,"./raycaster":70,"./rotation":71,"./scale":72,"./scene/auto-enter-vr":73,"./scene/canvas":74,"./scene/debug":75,"./scene/embedded":76,"./scene/fog":77,"./scene/inspector":78,"./scene/keyboard-shortcuts":79,"./scene/pool":80,"./scene/screenshot":81,"./scene/stats":82,"./scene/vr-mode-ui":83,"./sound":84,"./text":85,"./tracked-controls":86,"./visible":87,"./vive-controls":88,"./wasd-controls":89}],64:[function(e,t,n){var r=e("../utils/bind"),i=e("../utils").diff,o=e("../utils/debug"),a=e("../core/component").registerComponent,s=e("../lib/three"),u=s.Math.degToRad,c=o("components:light:warn");t.exports.Component=a("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color"},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot"]},target:{type:"selector",if:{type:["spot","directional"]}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(e)},update:function(e){var t=this.data,n=i(t,e),o=this.light,a=this;!o||"type"in n?this.setLight(this.data):Object.keys(n).forEach((function(e){var n=t[e];switch(e){case"color":o.color.set(n);break;case"groundColor":o.groundColor.set(n);break;case"angle":o.angle=u(n);break;case"target":null===n?"spot"!==t.type&&"directional"!==t.type||(o.target=a.defaultTarget):n.hasLoaded?a.onSetTarget(n):n.addEventListener("loaded",r(a.onSetTarget,a,n));break;default:o[e]=n}}))},setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,this.light.el=t,t.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)))},getLight:function(e){var t=e.angle,n=new s.Color(e.color).getHex(),i=e.decay,o=e.distance,a=new s.Color(e.groundColor).getHex(),l=e.intensity,h=e.type,f=e.target,d=null;switch(h.toLowerCase()){case"ambient":return new s.AmbientLight(n,l);case"directional":return d=new s.DirectionalLight(n,l),this.defaultTarget=d.target,f&&(f.hasLoaded?this.onSetTarget(f):f.addEventListener("loaded",r(this.onSetTarget,this,f))),d;case"hemisphere":return new s.HemisphereLight(n,a,l);case"point":return new s.PointLight(n,l,o,i);case"spot":return d=new s.SpotLight(n,l,o,u(t),e.penumbra,i),this.defaultTarget=d.target,f&&(f.hasLoaded?this.onSetTarget(f):f.addEventListener("loaded",r(this.onSetTarget,this,f))),d;default:c("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",h)}},onSetTarget:function(e){this.light.target=e.object3D},remove:function(){this.el.removeObject3D("light")}})},{"../core/component":100,"../lib/three":146,"../utils":167,"../utils/bind":161,"../utils/debug":163}],65:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/").device.isMobile(),a=e("../utils/bind"),s=Math.PI/2,u=i.Math.radToDeg;function c(e){return 0===e.x&&0===e.y&&0===e.z}t.exports.Component=r("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},reverseMouseDrag:{default:!1},standing:{default:!0}},init:function(){var e=this.el.sceneEl;function t(){e.canvas.classList.add("a-grab-cursor")}this.previousHMDPosition=new i.Vector3,this.hmdQuaternion=new i.Quaternion,this.hmdEuler=new i.Euler,this.setupMouseControls(),this.setupHMDControls(),this.bindMethods(),e.canvas?t():e.addEventListener("render-target-loaded",t)},update:function(e){var t=this.data,n=t.hmdEnabled;t.enabled&&(!n&&e&&n!==e.hmdEnabled&&(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),this.controls.standing=t.standing,this.controls.update(),this.updateOrientation(),this.updatePosition())},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e){this.update()},remove:function(){this.pause()},bindMethods:function(){this.onMouseDown=a(this.onMouseDown,this),this.onMouseMove=a(this.onMouseMove,this),this.releaseMouse=a(this.releaseMouse,this),this.onTouchStart=a(this.onTouchStart,this),this.onTouchMove=a(this.onTouchMove,this),this.onTouchEnd=a(this.onTouchEnd,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new i.Object3D,this.yawObject=new i.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new i.Object3D,this.euler=new i.Euler,this.controls=new i.VRControls(this.dolly),this.controls.userHeight=0},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.releaseMouse,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd)):e.addEventListener("render-target-loaded",a(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mouseup",this.releaseMouse),t.removeEventListener("mouseout",this.releaseMouse),t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd))},updateOrientation:function(){var e,t,n,r=this.hmdEuler,i=this.pitchObject,a=this.yawObject,s=this.calculateHMDQuaternion(),l=this.el.sceneEl;r.setFromQuaternion(s,"YXZ"),o?n={x:u(r.x)+u(i.rotation.x),y:u(r.y)+u(a.rotation.y),z:u(r.z)}:l.is("vr-mode")&&!c(r)&&this.data.hmdEnabled?n={x:u(r.x),y:u(r.y),z:u(r.z)}:(e=this.el.getAttribute("rotation"),t=this.calculateDeltaRotation(),n=this.data.reverseMouseDrag?{x:e.x-t.x,y:e.y-t.y,z:e.z}:{x:e.x+t.x,y:e.y+t.y,z:e.z}),this.el.setAttribute("rotation",n)},calculateDeltaRotation:function(){var e,t=u(this.pitchObject.rotation.x),n=u(this.yawObject.rotation.y);return this.previousRotationX=this.previousRotationX||t,this.previousRotationY=this.previousRotationY||n,e={x:t-this.previousRotationX,y:n-this.previousRotationY},this.previousRotationX=t,this.previousRotationY=n,e},calculateHMDQuaternion:function(){var e=this.hmdQuaternion;return e.copy(this.dolly.quaternion),e},updatePosition:function(){var e=new i.Vector3;return function(){var t,n=this.el,r=n.getAttribute("position"),i=this.previousHMDPosition,o=this.el.sceneEl;t=this.calculateHMDPosition(),e.copy(t).sub(i),o.is("vr-mode")&&!c(e)&&(i.copy(t),o.is("vr-mode")&&n.setAttribute("position",{x:r.x+e.x,y:r.y+e.y,z:r.z+e.z}))}}(),calculateHMDPosition:function(){var e=this.dolly,t=new i.Vector3;return e.updateMatrix(),t.setFromMatrixPosition(e.matrix),t},onMouseMove:function(e){var t=this.pitchObject,n=this.yawObject,r=this.previousMouseEvent;if(this.mouseDown&&this.data.enabled){var i=e.movementX||e.mozMovementX,o=e.movementY||e.mozMovementY;void 0!==i&&void 0!==o||(i=e.screenX-r.screenX,o=e.screenY-r.screenY),this.previousMouseEvent=e,n.rotation.y-=.002*i,t.rotation.x-=.002*o,t.rotation.x=Math.max(-s,Math.min(s,t.rotation.x))}},onMouseDown:function(e){this.mouseDown=!0,this.previousMouseEvent=e,document.body.classList.add("a-grabbing")},releaseMouse:function(){this.mouseDown=!1,document.body.classList.remove("a-grabbing")},onTouchStart:function(e){1===e.touches.length&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,n=this.yawObject;this.touchStarted&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/this.el.sceneEl.canvas.clientWidth,n.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1}})},{"../core/component":100,"../lib/three":146,"../utils/":167,"../utils/bind":161}],66:[function(e,t,n){var r=e("../utils/"),i=e("../core/component"),o=e("../lib/three"),a=e("../core/shader"),s=r.debug("components:material:error"),u=i.registerComponent,c=a.shaders,l=a.shaderNames;function h(e){switch(e){case"back":return o.BackSide;case"double":return o.DoubleSide;default:return o.FrontSide}}function f(e,t){e.dispose(),t.unregisterMaterial(e)}t.exports.Component=u("material",{schema:{depthTest:{default:!0},flatShading:{default:!1},opacity:{default:1,min:0,max:1},shader:{default:"standard",oneOf:l},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},visible:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},npot:{default:!1}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial()},updateSchema:function(e){var t=e.shader,n=this.data&&this.data.shader,r=t||n,i=c[r]&&c[r].schema;i||s("Unknown shader schema "+r),n&&t===n||(this.extendSchema(i),this.updateBehavior())},updateBehavior:function(){var e=this.schema,t=this,n=this.el.sceneEl,r={},i=function(e,n){function i(t){r[t]=e}Object.keys(r).forEach(i),t.shader.update(r)},o=Object.keys(e);this.tick=void 0,o.forEach((function(n){"time"===e[n].type&&(t.tick=i,r[n]=!0)})),n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(e){var t,n=this.data,r=c[e]&&c[e].Shader;if(!r)throw new Error("Unknown shader "+e);(t=this.shader=new r).el=this.el,t.init(n),this.setMaterial(t.material),this.updateSchema(n)},updateMaterial:function(){var e=this.data,t=this.material;t.side=h(e.side),t.opacity=e.opacity,t.transparent=!1!==e.transparent||e.opacity<1,t.depthTest=!1!==e.depthTest,t.shading=e.flatShading?o.FlatShading:o.SmoothShading,t.visible=e.visible},remove:function(){var e=new o.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),f(t,this.system)},setMaterial:function(e){var t=this.el.getOrCreateObject3D("mesh",o.Mesh),n=this.system;this.material&&f(this.material,n),this.material=t.material=e,n.registerMaterial(e)}})},{"../core/component":100,"../core/shader":109,"../lib/three":146,"../utils/":167}],67:[function(e,t,n){var r=e("../utils/debug"),i=e("../core/component").registerComponent,o=e("../lib/three"),a=r("components:obj-model:warn");t.exports.Component=i("obj-model",{dependencies:["material"],schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){this.model=null,this.objLoader=new o.OBJLoader,this.mtlLoader=new o.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin=""},update:function(){var e=this.data;e.obj&&(this.remove(),this.loadObj(e.obj,e.mtl))},remove:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(e,t){var n=this,r=this.el,i=this.mtlLoader,s=this.objLoader;if(t)return r.hasAttribute("material")&&a("Material component properties are ignored when a .MTL is provided"),i.setTexturePath(t.substr(0,t.lastIndexOf("/")+1)),void i.load(t,(function(t){t.preload(),s.setMaterials(t),s.load(e,(function(e){n.model=e,r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))}));s.load(e,(function(e){var t=r.components.material;t&&e.traverse((function(e){e instanceof o.Mesh&&(e.material=t.material)})),n.model=e,r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))}})},{"../core/component":100,"../lib/three":146,"../utils/debug":163}],68:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls").isControllerPresent,a="https://cdn.aframe.io/controllers/oculus/oculus-touch-controller-",s=a+"left.obj",u=a+"left.mtl",c=a+"right.obj",l=a+"right.mtl",h="Oculus Touch",f={x:0,y:-.015,z:.04},d=.001;t.exports.Component=r("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},rotationOffset:{default:0}},mapping:{left:{axis0:"thumbstick",axis1:"thumbstick",button0:"thumbstick",button1:"trigger",button2:"grip",button3:"X",button4:"Y",button5:"surface"},right:{axis0:"thumbstick",axis1:"thumbstick",button0:"thumbstick",button1:"trigger",button2:"grip",button3:"A",button4:"B",button5:"surface"}},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this)},init:function(){var e=this;this.animationActive="pointing",this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){e.onButtonEvent(t.detail.id,"down")},this.onButtonUp=function(t){e.onButtonEvent(t.detail.id,"up")},this.onButtonTouchStart=function(t){e.onButtonEvent(t.detail.id,"touchstart")},this.onButtonTouchEnd=function(t){e.onButtonEvent(t.detail.id,"touchend")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.isControllerPresent=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1),window.addEventListener("gamepadconnected",this.checkIfControllerPresent,!1),window.addEventListener("gamepaddisconnected",this.checkIfControllerPresent,!1)},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1),window.removeEventListener("gamepadconnected",this.checkIfControllerPresent,!1),window.removeEventListener("gamepaddisconnected",this.checkIfControllerPresent,!1)},checkIfControllerPresent:function(){var e=this.data,t=this.isControllerPresent(this.el.sceneEl,h,{hand:e.hand});t!==this.controllerPresent&&(this.controllerPresent=t,t&&this.injectTrackedControls())},play:function(){this.checkIfControllerPresent(),this.addEventListeners()},pause:function(){this.removeEventListeners()},updateControllerModel:function(){var e,t;this.data.model&&("right"===this.data.hand?(e="url("+c+")",t="url("+l+")"):(e="url("+s+")",t="url("+u+")"),this.el.setAttribute("obj-model",{obj:e,mtl:t}))},injectTrackedControls:function(){var e=this.el,t=this.data,n="right"===t.hand;e.setAttribute("tracked-controls",{id:n?"Oculus Touch (Right)":"Oculus Touch (Left)",controller:0,rotationOffset:-999!==t.rotationOffset?t.rotationOffset:n?-90:90}),this.updateControllerModel()},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},isEmulatedTouchEvent:function(e){return e&&e>=d},onButtonChanged:function(e){var t,n,r,i=this.mapping[this.data.hand]["button"+e.detail.id],o=this.buttonMeshes;"trigger"!==i&&"grip"!==i||(n=e.detail.state.value,t=this.isEmulatedTouchEvent(this.previousButtonValues[i]),this.previousButtonValues[i]=n,(r=this.isEmulatedTouchEvent(n))!==t&&(r?this.onButtonTouchStart:this.onButtonTouchEnd)(e),o&&("trigger"===i&&o.trigger&&(o.trigger.rotation.x=-n*(Math.PI/24)),"grip"===i&&o.grip&&(o.grip.rotation.y=("left"===this.data.hand?-1:1)*n*(Math.PI/60))))},onModelLoaded:function(e){var t,n=e.detail.model;if(this.data.model){var r="left"===this.data.hand;(t=this.buttonMeshes={}).grip=n.getObjectByName(r?"buttonHand_oculus-touch-controller-left.004":"buttonHand_oculus-touch-controller-right.005"),t.thumbstick=n.getObjectByName(r?"stick_oculus-touch-controller-left.007":"stick_oculus-touch-controller-right.004"),t.trigger=n.getObjectByName(r?"buttonTrigger_oculus-touch-controller-left.005":"buttonTrigger_oculus-touch-controller-right.006"),t.X=n.getObjectByName("buttonX_oculus-touch-controller-left.002"),t.A=n.getObjectByName("buttonA_oculus-touch-controller-right.002"),t.Y=n.getObjectByName("buttonY_oculus-touch-controller-left.001"),t.B=n.getObjectByName("buttonB_oculus-touch-controller-right.003"),n.position=f}},onButtonEvent:function(e,t){var n,r=this.mapping[this.data.hand]["button"+e];if(Array.isArray(r))for(n=0;n<r.length;n++)this.el.emit(r[n]+t);else this.el.emit(r+t);this.updateModel(r,t)},updateModel:function(e,t){var n;if(Array.isArray(e))for(n=0;n<e.length;n++)this.updateButtonModel(e[n],t);else this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t||"touchend"===t?this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,r=this.buttonMeshes;this.data.model&&r&&r[e]&&r[e].material.color.set(n)}})},{"../core/component":100,"../utils/bind":161,"../utils/tracked-controls":171}],69:[function(e,t,n){var r=e("../core/component").registerComponent;t.exports.Component=r("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)}})},{"../core/component":100}],70:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three"),o=e("../utils/").bind,a=new i.Vector3;t.exports.Component=r("raycaster",{schema:{far:{default:1/0},interval:{default:100},near:{default:0},objects:{default:""},recursive:{default:!0}},init:function(){this.direction=new i.Vector3,this.intersectedEls=[],this.objects=null,this.prevCheckTime=void 0,this.raycaster=new i.Raycaster,this.updateOriginDirection(),this.refreshObjects=o(this.refreshObjects,this)},play:function(){this.el.sceneEl.addEventListener("child-attached",this.refreshObjects),this.el.sceneEl.addEventListener("child-detached",this.refreshObjects)},pause:function(){this.el.sceneEl.removeEventListener("child-attached",this.refreshObjects),this.el.sceneEl.removeEventListener("child-detached",this.refreshObjects)},update:function(){var e=this.data,t=this.raycaster;t.far=e.far,t.near=e.near,this.refreshObjects()},refreshObjects:function(){var e,t,n=this.data;if(n.objects)for(t=this.el.sceneEl.querySelectorAll(n.objects),this.objects=[],e=0;e<t.length;e++)this.objects.push(t[e].object3D);else this.objects=this.el.sceneEl.object3D.children},tick:function(e){var t,n,r,i=this.el,o=this.data,a=this.prevCheckTime;a&&e-a<o.interval||(this.prevCheckTime=e,r=this.intersectedEls.slice(),this.updateOriginDirection(),n=(n=this.raycaster.intersectObjects(this.objects,o.recursive)).filter((function(e){return!!e.object.el})),t=this.intersectedEls=n.map((function(e){return e.object.el})),n.forEach((function(e){e.object.el.emit("raycaster-intersected",{el:i,intersection:e})})),n.length&&i.emit("raycaster-intersection",{els:t.slice(),intersections:n}),r.forEach((function(e){-1===t.indexOf(e)&&(i.emit("raycaster-intersection-cleared",{el:e}),e.emit("raycaster-intersected-cleared",{el:i}))})))},updateOriginDirection:function(){var e=new i.Quaternion,t=new i.Vector3;return function(){var n=this.el.object3D;n.updateMatrixWorld(),n.matrixWorld.decompose(t,e,a),this.direction.set(0,0,-1),this.direction.applyQuaternion(e),this.raycaster.set(t,this.direction)}}()})},{"../core/component":100,"../lib/three":146,"../utils/":167}],71:[function(e,t,n){var r=e("../lib/three").Math.degToRad,i=e("../core/component").registerComponent;t.exports.Component=i("rotation",{schema:{type:"vec3"},update:function(){var e=this.data,t=this.el.object3D;t.rotation.set(r(e.x),r(e.y),r(e.z)),t.rotation.order="YXZ"}})},{"../core/component":100,"../lib/three":146}],72:[function(e,t,n){var r=e("../core/component").registerComponent,i=1e-5;t.exports.Component=r("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data,t=this.el.object3D,n=0===e.x?i:e.x,r=0===e.y?i:e.y,o=0===e.z?i:e.z;t.scale.set(n,r,o)}})},{"../core/component":100}],73:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../utils");t.exports.Component=r("auto-enter-vr",{schema:{display:{type:"string",default:"GearVR"},enabled:{type:"boolean",default:!0}},init:function(){var e=this.el,t=this;this.enterVR=e.enterVR.bind(e),this.exitVR=e.exitVR.bind(e),this.shouldAutoEnterVR=this.shouldAutoEnterVR.bind(this),"false"!==i.getUrlParameter("auto-enter-vr")&&(window.addEventListener("vrdisplayactivate",(function(){t.enterVR()}),!1),window.addEventListener("vrdisplaydeactivate",(function(){t.exitVR()}),!1),setTimeout((function(){t.shouldAutoEnterVR()&&t.enterVR()}),0))},update:function(){return this.shouldAutoEnterVR()?this.enterVR():this.exitVR()},shouldAutoEnterVR:function(){var e=this.el,t=this.data;if(!t.enabled)return!1;if(t.display&&"all"!==t.display){var n=e.effect&&e.effect.getVRDisplay&&e.effect.getVRDisplay();if(!n||!n.displayName||n.displayName.indexOf(t.display)<0)return!1}return!0}})},{"../../core/component":100,"../../utils":167}],74:[function(e,t,n){var r=e("../../utils/bind"),i=e("../../core/component").registerComponent;t.exports.Component=i("canvas",{init:function(){var e,t=this.el;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||t.exitVR(),document.activeElement.blur(),document.body.focus()}(e=document.createElement("canvas")).classList.add("a-canvas"),e.dataset.aframeCanvas=!0,t.appendChild(e),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),e.addEventListener("touchmove",(function(e){e.preventDefault()})),t.canvas=e,t.emit("render-target-loaded",{target:e}),setTimeout(r(t.resize,t),0)}})},{"../../core/component":100,"../../utils/bind":161}],75:[function(e,t,n){var r=e("../../core/component").registerComponent;t.exports.Component=r("debug",{schema:{default:!0}})},{"../../core/component":100}],76:[function(e,t,n){var r=e("../../core/component").registerComponent;t.exports.Component=r("embedded",{dependencies:["vr-mode-ui"],schema:{default:!0},update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}})},{"../../core/component":100}],77:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../lib/three"),o=e("../../utils/debug")("components:fog:warn");function a(e){var t;return(t="exponential"===e.type?new i.FogExp2(e.color,e.density):new i.Fog(e.color,e.near,e.far)).name=e.type,t}t.exports.Component=r("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},update:function(){var e=this.data,t=this.el,n=this.el.object3D.fog;if(t.isScene)return n&&e.type===n.name?void Object.keys(this.schema).forEach((function(t){var r=e[t];"color"===t&&(r=new i.Color(r)),n[t]=r})):(t.object3D.fog=a(e),void t.systems.material.updateMaterials());o("Fog component can only be applied to <a-scene>")},remove:function(){var e=this.el.object3D.fog;e&&(e.far=0,e.near=.1)}})},{"../../core/component":100,"../../lib/three":146,"../../utils/debug":163}],78:[function(e,t,n){(function(n){var r=e("../../constants").AFRAME_INJECTED,i=e("../../utils/bind"),o=e("../../../package"),a=e("../../core/component").registerComponent;function s(e){var t=e.split(".");return t[2]="x",t.join(".")}var u="https://aframe.io/aframe-inspector/dist/aframe-inspector.js",c="https://unpkg.com/aframe-inspector@"+s(o.version)+"/dist/aframe-inspector.min.js",l="dev"===n.env.INSPECTOR_VERSION?u:c,h="Loading Inspector";t.exports.Component=a("inspector",{schema:{url:{default:l}},init:function(){this.onKeydown=i(this.onKeydown,this),this.onMessage=i(this.onMessage,this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},initOverlay:function(){var e='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=h+e},remove:function(){this.removeEventListeners()},onKeydown:function(e){var t=73===e.keyCode&&e.ctrlKey&&e.altKey;this.data&&t&&this.injectInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){this.el.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.injectInspector()},injectInspector:function(){var e,t=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected||(this.showLoader(),(e=document.createElement("script")).src=this.data.url,e.setAttribute("data-name","aframe-inspector"),e.setAttribute(r,""),e.onload=function(){AFRAME.INSPECTOR.open(),t.hideLoader(),t.removeEventListeners()},document.head.appendChild(e),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})}).call(this,e("_process"))},{"../../../package":55,"../../constants":91,"../../core/component":100,"../../utils/bind":161,_process:9}],79:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../utils/").shouldCaptureKeyEvent,o=e("../../lib/three"),a=new o.VRControls(new o.Object3D);t.exports.Component=r("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0},resetSensor:{default:!0}},init:function(){var e=this,t=this.el;this.listener=window.addEventListener("keyup",(function(n){i(n)&&(e.enterVREnabled&&70===n.keyCode&&t.enterVR(),e.enterVREnabled&&27===n.keyCode&&t.exitVR(),e.resetSensorEnabled&&90===n.keyCode&&a.resetSensor())}),!1)},update:function(e){var t=this.data;this.enterVREnabled=t.enterVR,this.resetSensorEnabled=t.resetSensor},remove:function(){window.removeEventListener("keyup",this.listener)}})},{"../../core/component":100,"../../lib/three":146,"../../utils/":167}],80:[function(e,t,n){var r=e("../../utils/debug"),i=e("../../core/component").registerComponent,o=r("components:pool:warn");t.exports.Component=i("pool",{schema:{mixin:{default:""},size:{default:0},dynamic:{default:!1}},multiple:!0,init:function(){this.initPool()},initPool:function(){var e;if(this.data.mixin)for(this.availableEls=[],this.usedEls=[],e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e=document.createElement("a-entity");e.play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.setAttribute("visible",!1),this.el.appendChild(e),this.availableEls.push(e)},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void o("Requested entity from empty pool "+this.name);o("Requested entity from empty pool. This pool is dynamicand will resize automatically. You might want to increase its initial size"+this.name),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.setAttribute("visible",!0),e},returnEntity:function(e){var t=this.usedEls.indexOf(e);-1!==t?(this.usedEls.splice(t,1),this.availableEls.push(e),e.setAttribute("visible",!1),e.pause()):o("The returned entity was not previously pooled from "+this.name)}})},{"../../core/component":100,"../../utils/debug":163}],81:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../lib/three"),o=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n");t.exports.Component=r("screenshot",{schema:{width:{default:4096},height:{default:2048}},init:function(){var e=this.el,t=this;function n(){var n=e.renderer.getContext();t.cubeMapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),t.material=new i.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:o,fragmentShader:a,side:i.DoubleSide}),t.quad=new i.Mesh(new i.PlaneBufferGeometry(1,1),t.material),t.quad.visible=!1,t.camera=new i.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),t.canvas=document.createElement("canvas"),t.ctx=t.canvas.getContext("2d"),e.camera&&e.camera.add(t.quad),t.onKeyDown=t.onKeyDown.bind(t),t.onCameraActive=t.onCameraActive.bind(t),e.addEventListener("camera-set-active",t.onCameraActive)}e.renderer?n():e.addEventListener("render-target-loaded",n)},getRenderTarget:function(e,t){return new i.WebGLRenderTarget(e,t,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,wrapS:i.ClampToEdgeWrapping,wrapT:i.ClampToEdgeWrapping,format:i.RGBAFormat,type:i.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onCameraActive:function(e){var t=this.quad.parent;t&&t.remove(this.quad),e.detail.cameraEl.getObject3D("camera").add(this.quad)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var n=e.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(e){var t,n,r,o=this.el,a=o.renderer;return"perspective"===e?(this.quad.visible=!1,n=o.camera,t=a.getSize()):((n=this.camera).position.copy(o.camera.getWorldPosition()),n.rotation.copy(o.camera.getWorldRotation()),(r=new i.CubeCamera(o.camera.near,o.camera.far,Math.min(this.cubeMapSize,2048))).position.copy(o.camera.getWorldPosition()),r.rotation.copy(o.camera.getWorldRotation()),r.updateCubeMap(o.renderer,o.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){var t=this.setCapture(e);this.renderCapture(t.camera,t.size,t.projection),this.saveCapture()},getCanvas:function(e){var t=this.setCapture(e);return this.renderCapture(t.camera,t.size,t.projection),this.canvas},renderCapture:function(e,t,n){var r,i,o,a=this.el.renderer.autoClear,s=this.el,u=this.el.renderer;i=this.getRenderTarget(t.width,t.height),o=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),u.autoClear=!0,u.render(s.object3D,e,i,!0),u.autoClear=a,u.readRenderTargetPixels(i,0,0,t.width,t.height,o),"perspective"===n&&(o=this.flipPixelsVertically(o,t.width,t.height)),r=new ImageData(new Uint8ClampedArray(o),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(e,t,n){for(var r=e.slice(0),i=0;i<t;++i)for(var o=0;o<n;++o)r[4*i+o*t*4]=e[4*i+(n-o)*t*4],r[4*i+1+o*t*4]=e[4*i+1+(n-o)*t*4],r[4*i+2+o*t*4]=e[4*i+2+(n-o)*t*4],r[4*i+3+o*t*4]=e[4*i+3+(n-o)*t*4];return r},saveCapture:function(){this.canvas.toBlob((function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout((function(){n.click(),document.body.removeChild(n)}),1)}),"image/png")}})},{"../../core/component":100,"../../lib/three":146}],82:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../../vendor/rStats"),o=e("../../utils");e("../../../vendor/rStats.extras"),e("../../lib/rStatsAframe");var a=window.aframeStats,s=o.bind,u="a-hidden",c=window.threeStats;function l(e){var t=new c(e.renderer),n=new a(e),r=e.isMobile?[]:[t,n];return new i({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}t.exports.Component=r("stats",{schema:{default:!0},init:function(){var e=this.el;"false"!==o.getUrlParameter("stats")&&(this.stats=l(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=s(this.hide,this),this.showBound=s(this.show,this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add(u)},show:function(){this.statsEl.classList.remove(u)}})},{"../../../vendor/rStats":175,"../../../vendor/rStats.extras":174,"../../core/component":100,"../../lib/rStatsAframe":145,"../../utils":167}],83:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../constants/"),o=e("../../utils/"),a=o.bind,s="a-enter-vr",u="a-enter-vr-button",c="a-hidden",l="a-orientation-modal";function h(e){var t,n;return(n=document.createElement("div")).classList.add(s),n.setAttribute(i.AFRAME_INJECTED,""),(t=document.createElement("button")).className=u,t.setAttribute(i.AFRAME_INJECTED,""),n.appendChild(t),t.addEventListener("click",e),n}function f(e){var t=document.createElement("div");t.className=l,t.classList.add(c),t.setAttribute(i.AFRAME_INJECTED,"");var n=document.createElement("button");return n.setAttribute(i.AFRAME_INJECTED,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}t.exports.Component=r("vr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0}},init:function(){var e=this,t=this.el;"false"!==o.getUrlParameter("ui")&&(this.enterVR=a(t.enterVR,t),this.exitVR=a(t.exitVR,t),this.insideLoader=!1,this.enterVREl=null,this.orientationModalEl=null,t.addEventListener("enter-vr",a(this.updateEnterVRInterface,this)),t.addEventListener("exit-vr",a(this.updateEnterVRInterface,this)),window.addEventListener("message",(function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())})),window.addEventListener("orientationchange",a(this.toggleOrientationModalIfNeeded,this)))},update:function(){var e=this.el;if(!this.data.enabled||this.insideLoader||"false"===o.getUrlParameter("ui"))return this.remove();this.enterVREl||this.orientationModalEl||(this.enterVREl=h(this.enterVR),e.appendChild(this.enterVREl),this.orientationModalEl=f(this.exitVR),e.appendChild(this.orientationModalEl),this.updateEnterVRInterface())},remove:function(){[this.enterVREl,this.orientationModalEl].forEach((function(e){e&&e.parentNode.removeChild(e)}))},updateEnterVRInterface:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")?this.enterVREl.classList.add(c):this.enterVREl.classList.remove(c))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!o.device.isLandscape()&&e.is("vr-mode")?t.classList.remove(c):t.classList.add(c))}})},{"../../constants/":91,"../../core/component":100,"../../utils/":167}],84:[function(t,n,r){var i=t("../core/component").registerComponent,o=t("../utils/debug"),a=t("../utils/bind"),s=t("../lib/three"),u=o("components:sound:warn");n.exports.Component=i("sound",{schema:{autoplay:{default:!1},loop:{default:!1},on:{default:""},poolSize:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){this.listener=null,this.audioLoader=new s.AudioLoader,this.pool=new s.Group,this.playSound=a(this.playSound,this)},update:function(e){var t=this.data,n=t.src!==e.src;if(n){if(!t.src)return void u("Audio source was not specified with `src`");this.setupSound()}if(this.pool.children.forEach((function(e){e.autoplay=t.autoplay,e.setLoop(t.loop),e.setVolume(t.volume)})),t.on!==e.on&&this.updateEventListener(e.on),n){var r=this;this.audioLoader.load(t.src,(function(e){r.pool.children.forEach((function(t){t.setBuffer(e)})),s.Cache.remove(t.src)}))}},pause:function(){this.pauseSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){this.removeEventListener(),this.el.removeObject3D(this.attrName);try{this.pool.children.forEach((function(e){e.disconnect()}))}catch(e){u("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSound),t.addEventListener(this.data.on,this.playSound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSound)},setupSound:function(){var e=this.el,t=e.sceneEl;this.pool.children.length>0&&(this.stopSound(),e.removeObject3D("sound"));var n=this.listener=t.audioListener||new s.AudioListener;t.audioListener=n,t.camera&&t.camera.add(n),t.addEventListener("camera-set-active",(function(e){e.detail.cameraEl.getObject3D("camera").add(n)})),this.pool=new s.Group;for(var r=0;r<this.data.poolSize;r++){var i=new s.PositionalAudio(n);this.pool.add(i)}e.setObject3D(this.attrName,this.pool),this.pool.children.forEach((function(t){t.onEnded=function(){t.isPlaying=!1,e.emit("sound-ended",{index:r})}}))},pauseSound:function(){this.pool.children.forEach((function(e){e.source&&e.source.buffer&&e.isPlaying&&e.pause&&e.pause()}))},playSound:function(){var e=!1;this.pool.children.forEach((function(t){if(!t.isPlaying&&t.buffer&&!e)return t.play(),void(e=!0)})),e||u("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.")},stopSound:function(){this.pool.children.forEach((function(e){e.source&&e.source.buffer&&e.stop()}))}})},{"../core/component":100,"../lib/three":146,"../utils/bind":161,"../utils/debug":163}],85:[function(e,t,n){var r=e("three-bmfont-text"),i=e("load-bmfont"),o=e("path"),a=e("../core/component").registerComponent,s=e("../core/shader"),u=e("../lib/three"),c=e("../utils/"),l=c.debug("components:text:error"),h=s.shaders,f=c.debug("components:text:warn"),d=1,p=16,m="https://cdn.aframe.io/fonts/",g={aileronsemibold:m+"Aileron-Semibold.fnt",dejavu:m+"DejaVu-sdf.fnt",exo2bold:m+"Exo2Bold.fnt",exo2semibold:m+"Exo2SemiBold.fnt",kelsonsans:m+"KelsonSans.fnt",monoid:m+"Monoid.fnt",mozillavr:m+"mozillavr.fnt",roboto:m+"Roboto-msdf.json",sourcecodepro:m+"SourceCodePro.fnt"},v=["roboto"],y="roboto";t.exports.FONTS=g;var b=new I,x={};function E(e){switch(e){case"back":return u.BackSide;case"double":return u.DoubleSide;default:return u.FrontSide}}function w(e){return void 0!==(e=c.clone(e)).lineHeight&&(e.lineHeight=parseFloat(e.lineHeight),isFinite(e.lineHeight)||(e.lineHeight=void 0)),void 0!==e.width&&(e.width=parseFloat(e.width),isFinite(e.width)||(e.width=void 0)),e}function M(e,t){return new Promise((function(n,r){i(e,(function(i,o){if(i)return l("Error loading font",e),void r(i);e.indexOf("/Roboto-msdf.json")>=0&&(t=30),t&&o.chars.map((function(e){e.yoffset+=t})),n(o)}))}))}function A(e){return new Promise((function(t,n){(new u.ImageLoader).load(e,(function(e){t(e)}),void 0,(function(){l("Error loading font image",e),n(null)}))}))}function _(e,t,n){var r,i;return(i=new h[t].Shader).el=e,i.init(n),i.update(n),(r=i.material).transparent=n.transparent,{material:r,shader:i}}function T(e,t){e.side=t.side}function S(e,t,n){e.update(c.extend({},t,{font:n,width:N(t.wrapPixels,t.wrapCount,n.widthFactor),text:t.value.replace(/\\n/g,"\n").replace(/\\t/g,"\t"),lineHeight:t.lineHeight||n.common.lineHeight}))}function N(e,t,n){return e||(.5+t)*n}function C(e){var t=0,n=0,r=0;return e.chars.map((function(e){t+=e.xadvance,e.id>=48&&e.id<=57&&(r++,n+=e.xadvance)})),r?n/r:t/e.chars.length}function I(){var e=this.cache={};this.get=function(t,n){return t in e||(e[t]=n()),e[t]}}t.exports.Component=a("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:y},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},opacity:{type:"number",default:"1.0"},shader:{default:"sdf",oneOf:h},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.texture=new u.Texture,this.texture.anisotropy=p,this.geometry=r(),this.createOrUpdateMaterial(),this.mesh=new u.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh)},update:function(e){var t=w(this.data),n=this.currentFont;this.createOrUpdateMaterial(),e.font===t.font?n&&(S(this.geometry,t,n),this.updateLayout(t)):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,n,r,i=this.data,o=this.material;if(r=i.shader,-1!==v.indexOf(i.font)||i.font.indexOf("-msdf.")>=0?r="msdf":i.font in g&&-1===v.indexOf(i.font)&&(r="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==r,n={alphaTest:i.alphaTest,color:i.color,map:this.texture,opacity:i.opacity,side:E(i.side),transparent:i.transparent},!e)return this.shaderObject.update(n),o.transparent=n.transparent,void T(o,n);t=_(this.el,r,n),this.material=t.material,this.shaderObject=t.shader,T(this.material,n),this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var e,t=this.data,n=this.el,r=this.geometry,i=this;t.font||f("No font specified. Using the default font."),this.mesh.visible=!1,e=this.lookupFont(t.font||y)||t.font,b.get(e,(function(){return M(e,t.yOffset)})).then((function(a){var s,u;if(1!==a.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");x[e]||(a.widthFactor=x[a]=C(a)),s=w(t),S(r,t,a),i.currentFont=a,i.updateLayout(s),u=t.fontImage||e.replace(/(\.fnt)|(\.json)/,".png")||o.dirname(t.font)+"/"+a.pages[0],b.get(u,(function(){return A(u)})).then((function(e){i.mesh.visible=!0,i.texture.image=e,i.texture.needsUpdate=!0,n.emit("textfontset",{font:t.font,fontObj:a})})).catch((function(e){throw l(e),e}))})).catch((function(e){throw l(e),e}))},updateLayout:function(e){var t,n,r,i,o,a,s,u=this.el,c=this.geometry,l=u.getAttribute("geometry"),h=c.layout,f=this.mesh;if(l=u.getAttribute("geometry"),r=(i=(o=e.width||l&&l.width||d)/N(e.wrapPixels,e.wrapCount,this.currentFont.widthFactor))*(h.height+h.descender),l&&(l.width||u.setAttribute("geometry","width",o),l.height||u.setAttribute("geometry","height",r)),"left"===(t="align"===e.anchor?e.align:e.anchor))a=0;else if("right"===t)a=-1*h.width;else{if("center"!==t)throw new TypeError("Invalid text.anchor property value",t);a=-1*h.width/2}if("bottom"===(n=e.baseline))s=0;else if("top"===n)s=-1*h.height+h.ascender;else{if("center"!==n)throw new TypeError("Invalid text.baseline property value",n);s=-1*h.height/2}f.position.x=a*i,f.position.y=s*i,f.position.z=e.zOffset,f.scale.set(i,-1*i,i),this.geometry.computeBoundingSphere()},lookupFont:function(e){return g[e]}})},{"../core/component":100,"../core/shader":109,"../lib/three":146,"../utils/":167,"load-bmfont":26,path:8,"three-bmfont-text":38}],86:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../lib/three");t.exports.Component=r("tracked-controls",{schema:{controller:{default:0},id:{type:"string",default:""},idPrefix:{type:"string",default:""},rotationOffset:{default:0}},init:function(){this.buttonStates={},this.previousAxis=[],this.previousControllerPosition=new i.Vector3},update:function(){var e=this.system.controllers,t=this.data;function n(e){return t.idPrefix?0===e.id.indexOf(t.idPrefix):e.id===t.id}e=e.filter(n),this.controller=e[t.controller]},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.update&&n.update(t/1e3),this.updatePose(),this.updateButtons()},updatePose:function(){var e=new i.Euler,t=new i.Vector3,n=new i.Quaternion,r=new i.Vector3,o=new i.Object3D,a=new i.Matrix4;return e.order="YXZ",function(){var s,u,c,l,h=this.el,f=this.system.vrDisplay;if(this.update(),s=this.controller){c=(u=s.pose).orientation||[0,0,0,1],l=u.position||[0,0,0],n.fromArray(c),o.quaternion.fromArray(c),o.position.fromArray(l),o.updateMatrix(),f&&f.stageParameters&&(a.fromArray(f.stageParameters.sittingToStandingTransform),o.applyMatrix(a)),e.setFromRotationMatrix(o.matrix),t.setFromMatrixPosition(o.matrix),h.setAttribute("rotation",{x:i.Math.radToDeg(e.x),y:i.Math.radToDeg(e.y),z:i.Math.radToDeg(e.z)+this.data.rotationOffset}),r.copy(t).sub(this.previousControllerPosition),this.previousControllerPosition.copy(t);var d=h.getAttribute("position");h.setAttribute("position",{x:d.x+r.x,y:d.y+r.y,z:d.z+r.z})}}}(),updateButtons:function(){var e,t,n=this.controller;if(this.controller){for(e=0;e<n.buttons.length;++e)t=n.buttons[e],this.handleButton(e,t);this.handleAxes(n.axes)}},handleAxes:function(e){var t,n=this.previousAxis,r=!1;for(t=0;t<e.length;++t)if(n[t]!==e[t]){r=!0;break}r&&(this.previousAxis=e.slice(),this.el.emit("axismove",{axis:this.previousAxis}))},handleButton:function(e,t){var n=!1;(n=(n=(n=n||this.handlePress(e,t))||this.handleTouch(e,t))||this.handleValue(e,t))&&this.el.emit("buttonchanged",{id:e,state:t})},handlePress:function(e,t){var n,r=this.buttonStates,i=r[e]=r[e]||{};return t.pressed!==i.pressed&&(n=t.pressed?"down":"up",this.el.emit("button"+n,{id:e}),i.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,r=this.buttonStates,i=r[e]=r[e]||{};return t.touched!==i.touched&&(n=t.touched?"start":"end",i.touched=t.touched,this.el.emit("touch"+n,{id:e,state:i}),!0)},handleValue:function(e,t){var n=this.buttonStates,r=n[e]=n[e]||{};return t.value!==r.value&&(r.value=t.value,!0)}})},{"../core/component":100,"../lib/three":146}],87:[function(e,t,n){var r=e("../core/component").registerComponent;t.exports.Component=r("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},{"../core/component":100}],88:[function(e,t,n){var r=e("../core/component").registerComponent,i=e("../utils/bind"),o=e("../utils/tracked-controls").isControllerPresent,a="https://cdn.aframe.io/controllers/vive/vr_controller_vive.obj",s="https://cdn.aframe.io/controllers/vive/vr_controller_vive.mtl",u="OpenVR ";t.exports.Component=r("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},rotationOffset:{default:0}},mapping:{axis0:"trackpad",axis1:"trackpad",button0:"trackpad",button1:"trigger",button2:"grip",button3:"menu",button4:"system"},bindMethods:function(){this.onModelLoaded=i(this.onModelLoaded,this),this.onControllersUpdate=i(this.onControllersUpdate,this),this.checkIfControllerPresent=i(this.checkIfControllerPresent,this),this.removeControllersUpdateListener=i(this.removeControllersUpdateListener,this),this.onGamepadConnected=i(this.onGamepadConnected,this),this.onGamepadDisconnected=i(this.onGamepadDisconnected,this)},init:function(){var e=this;this.animationActive="pointing",this.onButtonChanged=i(this.onButtonChanged,this),this.onButtonDown=function(t){e.onButtonEvent(t.detail.id,"down")},this.onButtonUp=function(t){e.onButtonEvent(t.detail.id,"up")},this.onButtonTouchStart=function(t){e.onButtonEvent(t.detail.id,"touchstart")},this.onButtonTouchEnd=function(t){e.onButtonEvent(t.detail.id,"touchend")},this.controllerPresent=!1,this.everGotGamepadEvent=!1,this.lastControllerCheck=0,this.bindMethods(),this.isControllerPresent=o},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded)},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded)},checkIfControllerPresent:function(){var e=this.data,t="right"===e.hand?0:"left"===e.hand?1:2,n=this.isControllerPresent(this.el.sceneEl,u,{index:t});n!==this.controllerPresent&&(this.controllerPresent=n,n&&this.injectTrackedControls())},onGamepadConnected:function(e){this.checkIfControllerPresent()},onGamepadDisconnected:function(e){this.checkIfControllerPresent()},play:function(){this.checkIfControllerPresent(),window.addEventListener("gamepadconnected",this.onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this.onGamepadDisconnected,!1),this.addControllersUpdateListener(),this.addEventListeners()},pause:function(){window.removeEventListener("gamepadconnected",this.onGamepadConnected,!1),window.removeEventListener("gamepaddisconnected",this.onGamepadDisconnected,!1),this.removeControllersUpdateListener(),this.removeEventListeners()},injectTrackedControls:function(){var e=this.el,t=this.data,n="right"===t.hand?0:"left"===t.hand?1:2;e.setAttribute("tracked-controls",{idPrefix:u,controller:n,rotationOffset:t.rotationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:a,mtl:s})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.everGotGamepadEvent||this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping["button"+e.detail.id],r=this.buttonMeshes;n&&r&&"trigger"===n&&(t=e.detail.state.value,r.trigger.rotation.x=-t*(Math.PI/12))},onModelLoaded:function(e){var t,n=e.detail.model;this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),n.position.set(0,-.015,.04))},onButtonEvent:function(e,t){var n,r=this.mapping["button"+e];if(Array.isArray(r))for(n=0;n<r.length;n++)this.el.emit(r[n]+t);else this.el.emit(r+t);this.updateModel(r,t)},updateModel:function(e,t){var n;if(this.data.model)if(Array.isArray(e))for(n=0;n<e.length;n++)this.updateButtonModel(e[n],t);else this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,r=this.buttonMeshes;if(r)return"grip"===e?(r.grip.left.material.color.set(n),void r.grip.right.material.color.set(n)):void r[e].material.color.set(n)}})},{"../core/component":100,"../utils/bind":161,"../utils/tracked-controls":171}],89:[function(e,t,n){var r=e("../constants").keyboardevent.KEYCODE_TO_CODE,i=e("../core/component").registerComponent,o=e("../lib/three"),a=e("../utils/"),s=a.bind,u=a.shouldCaptureKeyEvent,c=1e-5,l=.2;t.exports.Component=i("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},easing:{default:20},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},init:function(){this.keys={},this.velocity=new o.Vector3,this.onBlur=s(this.onBlur,this),this.onFocus=s(this.onFocus,this),this.onKeyDown=s(this.onKeyDown,this),this.onKeyUp=s(this.onKeyUp,this),this.onVisibilityChange=s(this.onVisibilityChange,this),this.attachVisibilityEventListeners()},tick:function(e,t){var n,r,i=this.data,o=this.el,a=this.velocity;t/=1e3,this.updateVelocity(t),(a[i.adAxis]||a[i.wsAxis])&&(n=this.getMovementVector(t),r=o.getAttribute("position"),o.setAttribute("position",{x:r.x+n.x,y:r.y+n.y,z:r.z+n.z}))},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,r,i,o,a=this.data,s=this.keys,u=this.velocity;if(n=a.adAxis,i=a.wsAxis,e>l)return u[n]=0,void(u[i]=0);0!==u[n]&&(u[n]-=u[n]*a.easing*e),0!==u[i]&&(u[i]-=u[i]*a.easing*e),Math.abs(u[n])<c&&(u[n]=0),Math.abs(u[i])<c&&(u[i]=0),a.enabled&&(t=a.acceleration,a.adEnabled&&(r=a.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(u[n]-=r*t*e),(s.KeyD||s.ArrowRight)&&(u[n]+=r*t*e)),a.wsEnabled&&(o=a.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(u[i]-=o*t*e),(s.KeyS||s.ArrowDown)&&(u[i]+=o*t*e)))},getMovementVector:function(){var e=new o.Vector3(0,0,0),t=new o.Euler(0,0,0,"YXZ");return function(n){var r=this.el.getAttribute("rotation"),i=this.velocity;return e.copy(i),e.multiplyScalar(n),r?(this.data.fly||(r.x=0),t.set(o.Math.degToRad(r.x),o.Math.degToRad(r.y),0),e.applyEuler(t),e):e}}(),attachVisibilityEventListeners:function(){window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;u(e)&&(t=e.code||r[e.keyCode],this.keys[t]=!0)},onKeyUp:function(e){var t;t=e.code||r[e.keyCode],this.keys[t]=!1}})},{"../constants":91,"../core/component":100,"../lib/three":146,"../utils/":167}],90:[function(e,t,n){var r=e("tween.js"),i={alternate:"alternate",alternateReverse:"alternate-reverse",normal:"normal",reverse:"reverse"},o={linear:r.Easing.Linear.None,ease:r.Easing.Cubic.InOut,"ease-in":r.Easing.Cubic.In,"ease-out":r.Easing.Cubic.Out,"ease-in-out":r.Easing.Cubic.InOut,"ease-cubic":r.Easing.Cubic.In,"ease-in-cubic":r.Easing.Cubic.In,"ease-out-cubic":r.Easing.Cubic.Out,"ease-in-out-cubic":r.Easing.Cubic.InOut,"ease-quad":r.Easing.Quadratic.InOut,"ease-in-quad":r.Easing.Quadratic.In,"ease-out-quad":r.Easing.Quadratic.Out,"ease-in-out-quad":r.Easing.Quadratic.InOut,"ease-quart":r.Easing.Quartic.InOut,"ease-in-quart":r.Easing.Quartic.In,"ease-out-quart":r.Easing.Quartic.Out,"ease-in-out-quart":r.Easing.Quartic.InOut,"ease-quint":r.Easing.Quintic.InOut,"ease-in-quint":r.Easing.Quintic.In,"ease-out-quint":r.Easing.Quintic.Out,"ease-in-out-quint":r.Easing.Quintic.InOut,"ease-sine":r.Easing.Sinusoidal.InOut,"ease-in-sine":r.Easing.Sinusoidal.In,"ease-out-sine":r.Easing.Sinusoidal.Out,"ease-in-out-sine":r.Easing.Sinusoidal.InOut,"ease-expo":r.Easing.Exponential.InOut,"ease-in-expo":r.Easing.Exponential.In,"ease-out-expo":r.Easing.Exponential.Out,"ease-in-out-expo":r.Easing.Exponential.InOut,"ease-circ":r.Easing.Circular.InOut,"ease-in-circ":r.Easing.Circular.In,"ease-out-circ":r.Easing.Circular.Out,"ease-in-out-circ":r.Easing.Circular.InOut,"ease-elastic":r.Easing.Elastic.InOut,"ease-in-elastic":r.Easing.Elastic.In,"ease-out-elastic":r.Easing.Elastic.Out,"ease-in-out-elastic":r.Easing.Elastic.InOut,"ease-back":r.Easing.Back.InOut,"ease-in-back":r.Easing.Back.In,"ease-out-back":r.Easing.Back.Out,"ease-in-out-back":r.Easing.Back.InOut,"ease-bounce":r.Easing.Bounce.InOut,"ease-in-bounce":r.Easing.Bounce.In,"ease-out-bounce":r.Easing.Bounce.Out,"ease-in-out-bounce":r.Easing.Bounce.InOut},a={backwards:"backwards",both:"both",forwards:"forwards",none:"none"},s={indefinite:"indefinite"},u={attribute:"rotation",begin:"",end:"",delay:0,dur:1e3,easing:"ease",direction:i.normal,fill:a.forwards,from:void 0,repeat:0,to:void 0};t.exports.defaults=u,t.exports.directions=i,t.exports.easingFunctions=o,t.exports.fills=a,t.exports.repeats=s},{"tween.js":49}],91:[function(e,t,n){t.exports={AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,animation:e("./animation"),keyboardevent:e("./keyboardevent")}},{"./animation":90,"./keyboardevent":92}],92:[function(e,t,n){t.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},{}],93:[function(e,t,n){var r=e("./a-node"),i=e("../constants/animation"),o=e("../utils/").coordinates,a=e("./schema").parseProperty,s=e("./a-register-element").registerElement,u=e("tween.js"),c=e("../lib/three"),l=e("../utils/"),h=l.bind,f=l.entity.getComponentProperty,d=i.defaults,p=i.directions,m=i.easingFunctions,g=i.fills,v=i.repeats,y=o.isCoordinate;function b(e){return l.extend({},e)}function x(e,t,n,r,i){var s,u,l,h,d,p=t.split("."),m={},g={};return 2===p.length?v()?A():b():r&&y(r)?x():-1!==["true","false"].indexOf(r)?M():isNaN(r)?A():T(),{from:m,partialSetAttribute:d,to:g};function v(){var t=p[0],n=p[1],r=e.components[t],i=r&&r.schema;return i&&i[n]&&"color"===i[n].type}function b(){h=p[0],l=p[1],(u=e.components[h])||(e.setAttribute(h,""),u=e.components[h]),s=u.schema,m[t]=void 0===n?f(e,t):n,m[t]=a(m[t],s[l]),g[t]=a(r,s[l]),d=function(n){t in n&&e.setAttribute(h,l,n[t])}}function x(){m=n?o.parse(n):i,g=o.parse(r),d=function(n){e.setAttribute(t,n)}}function M(){m[t]=void 0!==n&&E(n),m[t]=w(m[t]),g[t]=w(E(r)),d=function(n){e.setAttribute(t,!!n[t])}}function A(){m=new c.Color(n),g=new c.Color(r),d=function(n){p.length>1&&e.setAttribute(p[0],p[1],_(n)),e.setAttribute(t,_(n))}}function T(){m[t]=void 0===n?parseFloat(e.getAttribute(t)):parseFloat(n),g[t]=parseFloat(r),d=function(n){e.setAttribute(t,n[t])}}}function E(e){return"true"===e}function w(e){return e?1:0}function M(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function A(e){return Math.floor(255*Math.min(Math.abs(e),1))}function _(e){return"#"+["r","g","b"].map((function(t){return M(A(e[t]))})).join("")}t.exports.AAnimation=s("a-animation",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.bindMethods(),this.isRunning=!1,this.partialSetAttribute=function(){},this.tween=null}},attachedCallback:{value:function(){this.el=this.parentNode,this.handleMixinUpdate(),this.update(),this.load()}},attributeChangedCallback:{value:function(e,t,n){this.hasLoaded&&this.isRunning&&(this.stop(),this.handleMixinUpdate(),this.update())}},detachedCallback:{value:function(){this.isRunning&&this.stop()}},getTween:{value:function(){var e,t,n,r,i=this,o=i.data,a=i.el,s=o.attribute,c=parseInt(o.delay,10),l=f(a,s),d=i.getDirection(o.direction),y=m[o.easing],E=o.fill,w=o.repeat===v.indefinite?1/0:0,M=!1;return t=(e=x(a,s,o.from||i.initialValue,o.to,l)).from,n=e.to,i.partialSetAttribute=e.partialSetAttribute,void 0===i.count&&(i.count=w===1/0?0:parseInt(o.repeat,10)),isNaN(c)&&(c=0),i.initialValue=i.initialValue||b(l),w===1/0&&E===g.forwards&&-1!==[p.alternate,p.alternateReverse].indexOf(o.direction)&&(M=!0),d===p.reverse&&(r=n,n=b(t),t=b(r)),-1!==[g.backwards,g.both].indexOf(E)&&i.partialSetAttribute(t),new u.Tween(b(t)).to(n,o.dur).delay(c).easing(y).repeat(w).yoyo(M).onUpdate((function(){i.partialSetAttribute(this)})).onComplete(h(i.onCompleted,i))}},update:{value:function(){var e=this.data;"infinite"===e.repeat&&console.warn("Using 'infinite' as 'repeat' value is invalid.  Use 'indefinite' instead."),""===e.begin||isNaN(e.begin)||(console.warn("Using 'begin' to specify a delay is deprecated. Use 'delay' instead."),e.delay=e.begin,e.begin="");var t=e.begin,n=e.end;this.evt&&this.removeEventListeners(this.evt),this.evt={begin:t,end:n},this.addEventListeners(this.evt),""===t&&(this.stop(),this.start())},writable:window.debug},onCompleted:{value:function(){var e=this.data;if(this.isRunning=!1,-1!==[g.backwards,g.none].indexOf(e.fill)&&this.partialSetAttribute(this.initialValue),0===this.count)return this.count=void 0,void this.emit("animationend");this.isRunning=!1,this.count--,this.start()}},start:{value:function(){var e=this;this.el.hasLoaded?!this.isRunning&&this.el.isPlaying&&(this.tween=this.getTween(),this.isRunning=!0,this.tween.start(),this.emit("animationstart")):this.el.addEventListener("loaded",(function(){e.start()}))},writable:!0},stop:{value:function(){var e=this.tween;e&&(e.stop(),this.isRunning=!1,-1!==[g.backwards,g.none].indexOf(this.data.fill)&&this.partialSetAttribute(this.initialValue),this.emit("animationstop"))},writable:!0},getDirection:{value:function(e){return e===p.alternate?(this.prevDirection=this.prevDirection===p.normal?p.reverse:p.normal,this.prevDirection):e===p.alternateReverse?(this.prevDirection=this.prevDirection===p.reverse?p.normal:p.reverse,this.prevDirection):e}},bindMethods:{value:function(){this.start=h(this.start,this),this.stop=h(this.stop,this),this.onStateAdded=h(this.onStateAdded,this),this.onStateRemoved=h(this.onStateRemoved,this)}},addEventListeners:{value:function(e){var t=this.el,n=this;l.splitString(e.begin).forEach((function(e){t.addEventListener(e,n.start)})),l.splitString(e.end).forEach((function(e){t.addEventListener(e,n.stop)})),""===e.begin&&t.addEventListener("play",this.start),t.addEventListener("pause",this.stop),t.addEventListener("stateadded",this.onStateAdded),t.addEventListener("stateremoved",this.onStateRemoved)}},removeEventListeners:{value:function(e){var t=this.el,n=this.start,r=this.stop;l.splitString(e.begin).forEach((function(e){t.removeEventListener(e,n)})),l.splitString(e.end).forEach((function(e){t.removeEventListener(e,r)})),t.removeEventListener("stateadded",this.onStateAdded),t.removeEventListener("stateremoved",this.onStateRemoved)}},onStateAdded:{value:function(e){e.detail.state===this.data.begin&&this.start()},writable:!0},onStateRemoved:{value:function(e){e.detail.state===this.data.begin&&this.stop()},writable:!0},handleMixinUpdate:{value:function(){var e,t,n,r={};t=(n=document.querySelector("#"+this.getAttribute("mixin")))?l.getElData(n,d):{},e=l.getElData(this,d),l.extend(r,d,t,e),this.data=r}}})}),t.exports.getAnimationValues=x},{"../constants/animation":90,"../lib/three":146,"../utils/":167,"./a-node":98,"./a-register-element":99,"./schema":108,"tween.js":49}],94:[function(e,t,n){var r=e("./a-node"),i=e("../utils/bind"),o=e("../utils/debug"),a=e("./a-register-element").registerElement,s=e("../lib/three"),u=new s.FileLoader,c=o("core:a-assets:warn");function l(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise((function(t,n){if(4===e.readyState)return t();if(e.error)return n();function r(){for(var n=0,r=0;r<e.buffered.length;r++)n+=e.buffered.end(r)-e.buffered.start(r);n>=e.duration&&t()}e.addEventListener("loadeddata",r,!1),e.addEventListener("progress",r,!1),e.addEventListener("error",n,!1)}))}function h(e){var t=f(e);return"VIDEO"===t.tagName&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}function f(e){var t;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if(d(t)===window.location.host)return e}return c("Cross-origin element was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set.",t),e.crossOrigin="anonymous",e.cloneNode(!0)}function d(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0]}t.exports=a("a-assets",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.isAssets=!0,this.fileLoader=u,this.timeout=null}},attachedCallback:{value:function(){var e,t,n,r,o,a,s=this,u=[];if(!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(o=this.querySelectorAll("img"),e=0;e<o.length;e++)r=h(o[e]),u.push(new Promise((function(e,t){r.onload=e,r.onerror=t})));for(n=this.querySelectorAll("audio, video"),e=0;e<n.length;e++)t=h(n[e]),u.push(l(t));Promise.all(u).then(i(this.load,this)),a=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout((function(){s.hasLoaded||(c("Asset loading timed out in ",a,"ms"),s.emit("timeout"),s.load())}),a)}},detachedCallback:{value:function(){this.timeout&&clearTimeout(this.timeout)}},load:{value:function(){r.prototype.load.call(this,null,(function(e){return e.isAssetItem&&e.hasAttribute("src")}))}}})}),a("a-asset-item",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.data=null,this.isAssetItem=!0}},attachedCallback:{value:function(){var e=this,t=this.getAttribute("src");u.load(t,(function(n){s.Cache.files[t]=n,e.data=n,setTimeout((function(){r.prototype.load.call(e)}))}),(function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})}),(function(t){e.emit("error",{xhr:t})}))}}})})},{"../lib/three":146,"../utils/bind":161,"../utils/debug":163,"./a-node":98,"./a-register-element":99}],95:[function(e,t,n){var r=e("../utils/debug"),i=e("./a-register-element").registerElement,o=r("core:cubemap:warn");t.exports=i("a-cubemap",{prototype:Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){this.srcs=this.validate()},writable:window.debug},validate:{value:function(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)n.push(t[e].getAttribute("src"));return n}o("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")},writable:window.debug}})})},{"../utils/debug":163,"./a-register-element":99}],96:[function(e,t,n){var r,i=e("./a-node"),o=e("./component").components,a=e("./a-register-element").registerElement,s=e("../lib/three"),u=e("../utils/"),c=u.bind,l=u.debug("core:a-entity:debug"),h=u.debug("core:a-entity:warn"),f="__",d=Object.create(i.prototype,{defaultComponents:{value:{position:"",rotation:"",scale:"",visible:""}},createdCallback:{value:function(){this.components={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new s.Group,this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.states=[]}},attributeChangedCallback:{value:function(e,t,n){var r=this.components[e];r&&r.justInitialized&&""===n?delete r.justInitialized:(r||null!==n)&&this.setEntityAttribute(e,t,n)}},attachedCallback:{value:function(){var e,t=this.sceneEl,n=this;this.addToParent(),this.isScene||(t?!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",(function(){n.load()})):this.load())}},detachedCallback:{value:function(){this.parentEl&&(Object.keys(this.components).forEach(c(this.removeComponent,this)),this.isScene||(this.removeFromParent(),i.prototype.detachedCallback.call(this)))}},handleMixinUpdate:{value:function(e){e?this.updateComponent(e,this.getDOMAttribute(e)):this.updateComponents()}},mapStateMixins:{value:function(e,t){var n=this.getAttribute("mixin");n&&(n.split(" ").forEach((function(n){t(n+"-"+e)})),this.updateComponents())}},updateStateMixins:{value:function(e,t){var n=this;t=t||"";var r=e.split(" ");(t?t.split(" "):[]).filter((function(e){return r.indexOf(e)<0})).forEach((function(e){var t=Array.prototype.forEach,r=document.querySelectorAll("[id^="+e+"-]");t.call(r,(function(e){n.unregisterMixin(e.id)}))})),this.states.forEach((function(e){r.forEach((function(t){var r=t+"-"+e;n.registerMixin(r)}))}))}},getObject3D:{value:function(e){return this.object3DMap[e]}},setObject3D:{value:function(e,t){var n,r=this;if(!(t instanceof s.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(e))&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse((function(e){e.el=r})),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}},removeObject3D:{value:function(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):h("Tried to remove `Object3D` of type:",e,"which was not defined.")}},getOrCreateObject3D:{value:function(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),n}},add:{value:function(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}},addToParent:{value:function(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}},removeFromParent:{value:function(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=this.parentNode=null,e.emit("child-detached",{el:this})}},load:{value:function(){var e=this;this.hasLoaded||i.prototype.load.call(this,(function(){e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play()}))},writable:window.debug},remove:{value:function(e){this.object3D.remove(e.object3D)}},getChildEntities:{value:function(){for(var e=this.children,t=[],n=0;n<e.length;n++){var i=e[n];i instanceof r&&t.push(i)}return t}},initComponent:{value:function(e,t,n){var r,i=e.split(f),a=i[1],s=i[0],u=p(this,e)||void 0!==t;if(o[s]&&(u||n)&&!(e in this.components)){if(this.initComponentDependencies(s),a&&!o[s].multiple)throw new Error("Trying to initialize multiple components of type `"+s+"`. There can only be one component of this type per entity.");r=this.components[e]=new o[s].Component(this,t,a),this.isPlaying&&r.play(),this.hasAttribute(e)||(r.justInitialized=!0,HTMLElement.prototype.setAttribute.call(this,e,"")),l("Component initialized: %s",e)}},writable:window.debug},initComponentDependencies:{value:function(e){var t,n=this;o[e]&&(t=o[e].dependencies)&&t.forEach((function(e){n.initComponent(e,HTMLElement.prototype.getAttribute.call(n,e)||void 0,!0)}))}},removeComponent:{value:function(e){var t,n,r;n=e in this.defaultComponents,r=g(e,this.mixinEls),n||r||((t=this.components[e]).pause(),t.remove(),delete this.components[e],this.emit("componentremoved",{id:t.id,name:e}))}},updateComponents:{value:function(){var e,t={},n={},r=this;if(this.hasLoaded){for(m(this).forEach(i),this.getExtraComponents&&(n=this.getExtraComponents(),Object.keys(n).forEach(i)),e=0;e<this.attributes.length;++e)i(this.attributes[e].name);Object.keys(this.defaultComponents).forEach(a),Object.keys(t).forEach(a)}function i(e){var n=e.split(f)[0];o[n]&&(t[e]=!0)}function a(e){var i=v(r.getDOMAttribute(e),n[e]);delete t[e],r.updateComponent(e,i)}}},updateComponent:{value:function(e,t){var n=this.components[e],r=e in this.defaultComponents;if(n)return null!==t||r?void n.updateProperties(t):void this.removeComponent(e);this.initComponent(e,t,!1)}},updateComponentProperty:{value:function(e,t,n){var r=this.components[e],i=r&&r.attrValue,o=i?u.extend({},i):{};o[t]=n,this.updateComponent(e,o)}},removeAttribute:{value:function(e,t){var n=this.components[e];n&&void 0===t&&(this.setEntityAttribute(e,void 0,null),this.components[e])||(n&&void 0!==t?n.resetProperty(t):HTMLElement.prototype.removeAttribute.call(this,e))}},play:{value:function(){var e=this.components,t=Object.keys(e);!this.isPlaying&&this.hasLoaded&&(this.isPlaying=!0,t.forEach((function(t){e[t].play()})),this.getChildEntities().forEach((function(e){e.play()})),this.emit("play"))},writable:!0},pause:{value:function(){var e=this.components,t=Object.keys(e);this.isPlaying&&(this.isPlaying=!1,t.forEach((function(t){e[t].pause()})),this.getChildEntities().forEach((function(e){e.pause()})),this.emit("pause"))},writable:!0},setEntityAttribute:{value:function(e,t,n){o[e]||this.components[e]?this.updateComponent(e,n):"mixin"!==e||this.mixinUpdate(n,t)}},mixinUpdate:{value:function(e,t){t=t||this.getAttribute("mixin"),this.updateStateMixins(e,t),this.updateComponents()}},setAttribute:{value:function(e,t,n){var r;if(r=e.split(f)[0],o[r])return"string"===typeof t&&"undefined"!==typeof n?a(this,e,t,n):"object"===typeof t&&!0===n?c(this,e,t):s(this,e,t),void(this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM());function a(e,t,n,r){e.updateComponentProperty(t,n,r)}function s(e,t,n){var r=e.components[t];r&&"object"===typeof n?e.updateComponent(t,u.extendDeep(u.extendDeep({},r.attrValue),n)):e.updateComponent(t,n)}function c(e,t,n){e.updateComponent(t,n)}function l(e,t,n){i.prototype.setAttribute.call(e,t,n),"mixin"===t&&e.mixinUpdate(n)}l(this,e,t)},writable:window.debug},flushToDOM:{value:function(e){var t,n,r=this.components,i=this.defaultComponents,o=this.children;if(Object.keys(r).forEach((function(e){r[e].flushToDOM(e in i)})),e)for(n=0;n<o.length;++n)(t=o[n]).flushToDOM&&t.flushToDOM(e)}},getAttribute:{value:function(e){var t=this.components[e];return t?t.getData():HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},getComputedAttribute:{value:function(e){return h("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.components[e];return t?t.attrValue:HTMLElement.prototype.getAttribute.call(this,e)},writable:window.debug},addState:{value:function(e){this.is(e)||(this.states.push(e),this.mapStateMixins(e,c(this.registerMixin,this)),this.emit("stateadded",{state:e}))}},removeState:{value:function(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.mapStateMixins(e,c(this.unregisterMixin,this)),this.emit("stateremoved",{state:e}))}},is:{value:function(e){return-1!==this.states.indexOf(e)}}});function p(e,t){return void 0!==e.defaultComponents[t]||!(!e.components[t]||!e.components[t].attrValue)||g(t,e.mixinEls)}function m(e){var t=[];return e.mixinEls.forEach((function(e){function n(e){t.push(e)}Object.keys(e.componentCache).forEach(n)})),t}function g(e,t){var n,r=!1;for(n=0;n<t.length&&!(r=t[n].hasAttribute(e));++n);return r}function v(e,t){return t?t.constructor===Object?u.extend(t,u.styleParser.parse(e||{})):e||t:e}r=a("a-entity",{prototype:d}),t.exports=r},{"../lib/three":146,"../utils/":167,"./a-node":98,"./a-register-element":99,"./component":100}],97:[function(e,t,n){var r=e("./a-node"),i=e("./a-register-element").registerElement,o=e("./component").components,a="__";t.exports=i("a-mixin",{prototype:Object.create(r.prototype,{createdCallback:{value:function(){this.componentCache={},this.id=this.getAttribute("id")}},attributeChangedCallback:{value:function(e,t,n){this.cacheAttribute(e,n)}},attachedCallback:{value:function(){this.sceneEl=this.closestScene(),this.cacheAttributes(),this.updateEntities(),this.load()}},setAttribute:{value:function(e,t){this.cacheAttribute(e,t),HTMLElement.prototype.setAttribute.call(this,e,t)}},cacheAttribute:{value:function(e,t){var n=e.split(a)[0],r=o[n];r&&(void 0===t&&(t=HTMLElement.prototype.getAttribute.call(this,e)),this.componentCache[e]=r.parseAttrValueForCache(t))}},getAttribute:{value:function(e){return this.componentCache[e]||HTMLElement.prototype.getAttribute.call(this,e)}},cacheAttributes:{value:function(){var e,t,n=this.attributes;for(t=0;t<n.length;t++)e=n[t].name,this.cacheAttribute(e)}},updateEntities:{value:function(){if(this.sceneEl)for(var e=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),t=0;t<e.length;t++){var n=e[t];n.hasLoaded&&(n.registerMixin(this.id),Object.keys(this.componentCache).forEach((function(e){n.updateComponent(e)})))}}}})})},{"./a-node":98,"./a-register-element":99,"./component":100}],98:[function(e,t,n){var r=e("./a-register-element").registerElement,i=e("../utils/"),o=i.bind,a=i.debug("core:a-node:warn");t.exports=r("a-node",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[],this.mixinObservers={}},writable:window.debug},attachedCallback:{value:function(){var e;this.sceneEl=this.closestScene(),this.sceneEl||a("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",{},!1),(e=this.getAttribute("mixin"))&&this.updateMixins(e)},writable:window.debug},attributeChangedCallback:{value:function(e,t,n){"mixin"===e&&this.updateMixins(n,t)}},closestScene:{value:function(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}},closest:{value:function(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}},detachedCallback:{value:function(){this.hasLoaded=!1}},load:{value:function(e,t){var n,r=this;this.hasLoaded||(t=t||function(e){return e.isNode},n=this.getChildren().filter(t).map((function(e){return new Promise((function(t){if(e.hasLoaded)return t();e.addEventListener("loaded",t)}))})),Promise.all(n).then((function(){r.hasLoaded=!0,e&&e(),r.emit("loaded",{},!1)})))},writable:!0},getChildren:{value:function(){return Array.prototype.slice.call(this.children,0)}},updateMixins:{value:function(e,t){var n=e?e.trim().split(/\s+/):[],r=(t?t.trim().split(/\s+/):[]).filter((function(e){return n.indexOf(e)<0}));this.mixinEls=[],r.forEach(o(this.unregisterMixin,this)),n.forEach(o(this.registerMixin,this))}},registerMixin:{value:function(e){if(this.sceneEl){var t=this.sceneEl.querySelector("a-mixin#"+e);t&&(this.attachMixinListener(t),this.mixinEls.push(t))}}},setAttribute:{value:function(e,t){"mixin"===e&&this.updateMixins(t),HTMLElement.prototype.setAttribute.call(this,e,t)}},unregisterMixin:{value:function(e){var t,n=this.mixinEls;for(t=0;t<n.length;++t)if(e===n[t].id){n.splice(t,1);break}this.removeMixinListener(e)}},removeMixinListener:{value:function(e){var t=this.mixinObservers[e];t&&(t.disconnect(),this.mixinObservers[e]=null)}},attachMixinListener:{value:function(e){var t=this,n=e.id,r=this.mixinObservers[n];if(e&&!r){var i=new MutationObserver((function(e){var n=e[0].attributeName;t.handleMixinUpdate(n)})),o={attributes:!0};i.observe(e,o),this.mixinObservers[n]=i}}},handleMixinUpdate:{value:function(){}},emit:{value:function(e,t,n){var r=this;void 0===n&&(n=!0);var o={bubbles:!!n,detail:t=t||{}};return e.split(" ").map((function(e){return i.fireEvent(r,e,o)}))}},emitter:{value:function(e,t,n){var r=this;return function(){r.emit(e,t,n)}}}})})},{"../utils/":167,"./a-register-element":99}],99:[function(e,t,n){var r,i;e("document-register-element");var o=t.exports.knownTags={};function a(e){o[e.toLowerCase()]=!0}function s(e){var t={};return c(t,["attachedCallback","attributeChangedCallback","createdCallback"],e,r.prototype),h(e,t),t}function u(e){var t={},n=["attachedCallback","attributeChangedCallback","createdCallback","detachedCallback"];return c(t,["attachedCallback","attributeChangedCallback","createdCallback"],e,r.prototype),c(t,n,e,i.prototype),h(e,t),t}function c(e,t,n,r){t.forEach((function(t){l(e,t,n,r)}))}function l(e,t,n,r){var i=n[t],o=r[t];i&&o&&i!==o&&(e[t]={value:function(){return o.apply(this,arguments),i.apply(this,arguments)},writable:window.debug})}function h(e,t){Object.getOwnPropertyNames(e).forEach((function(n){var r;t[n]||(r=Object.getOwnPropertyDescriptor(e,n),t[n]={value:e[n],writable:r.writable})}))}t.exports.isNode=function(e){return e.tagName.toLowerCase()in o||e.isNode},t.exports.registerElement=function(e,t){var n=Object.getPrototypeOf(t.prototype),o=t,c=r&&n===r.prototype,l=i&&n===i.prototype;return(c||l)&&a(e),c&&(o=s(t.prototype),o={prototype:Object.create(n,o)}),l&&(o=u(t.prototype),o={prototype:Object.create(n,o)}),document.registerElement(e,o)},t.exports.wrapMethods=c,r=e("./a-node"),i=e("./a-entity")},{"./a-entity":96,"./a-node":98,"document-register-element":16}],100:[function(e,t,n){var r=e("./schema"),i=e("./scene/scenes"),o=e("./system"),a=e("../utils/"),s=t.exports.components={},u=r.parseProperties,c=r.parseProperty,l=r.process,h=r.isSingleProperty,f=r.stringifyProperties,d=r.stringifyProperty,p=a.styleParser,m=a.debug("core:component:warn"),g=document.currentScript,v=new RegExp("[A-Z]+"),y=t.exports.Component=function(e,t,n){this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.updateProperties(t)};if(y.prototype={schema:{},init:function(){},update:function(e){},updateSchema:void 0,tick:void 0,play:function(){},pause:function(){},remove:function(){},parse:function(e,t){var n=this.schema;return h(n)?c(e,n):u(p.parse(e),n,!0,this.name,t)},stringify:function(e){var t=this.schema;return"string"===typeof e?e:h(t)?d(e,t):(e=f(e,t),p.stringify(e))},getData:function(){var e=this.data;return"object"!==typeof e?e:a.extend({},e)},updateCachedAttrValue:function(e){var t=h(this.schema),n=this.parseAttrValueForCache(e);this.attrValue=E({},n,t)},parseAttrValueForCache:function(e){var t;return"string"!==typeof e?e:(h(this.schema)?"string"===typeof(t=this.schema.parse(e))&&(t=e):t=p.parse(e),t)},flushToDOM:function(e){var t=e?this.data:this.attrValue;t&&HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e){var t=this.el,n=h(this.schema),r=E({},this.data,n);if(void 0!==e&&this.updateCachedAttrValue(e),t.hasLoaded)if(this.updateSchema&&this.updateSchema(x(t,this.name,this.attrName,this.schema,this.attrValue,!0)),this.data=x(t,this.name,this.attrName,this.schema,this.attrValue),this.initialized){if(a.deepEqual(r,this.data))return;this.update(r),t.emit("componentchanged",{id:this.id,name:this.name,newData:this.getData(),oldData:r},!1)}else this.init(),this.initialized=!0,this.update(r),t.isPlaying&&this.play(),t.emit("componentinitialized",{id:this.id,name:this.name,data:this.getData()},!1)},resetProperty:function(e){if(h(this.schema))this.attrValue=void 0;else{if(!(e in this.attrValue))return;delete this.attrValue[e]}this.updateProperties(this.attrValue)},extendSchema:function(e){var t=a.extend({},s[this.name].schema);a.extend(t,e),this.schema=l(t),this.el.emit("schemachanged",{component:this.name})}},window.debug)var b=t.exports.registrationOrderWarnings={};function x(e,t,n,r,i,o){var s,l=void 0!==i&&null!==i,f=h(r),d=e.mixinEls;function p(e){var t=e.getAttribute(n);t&&(s=E(s,t,f))}return f?s=r.default:(s={},Object.keys(r).forEach((function(e){var t=r[e].default;s[e]=t&&t.constructor===Object?a.extend({},t):t}))),d.forEach(p),l?f?c(i,r):(s=E(s,i,f),u(s,r,void 0,t,o)):f?c(s,r):u(s,r,void 0,t,o)}function E(e,t,n){return n?t:a.extend(e,t)}function w(e){return function(){var t=this.el.sceneEl;this.isPlaying&&(e.call(this),this.isPlaying=!1,this.tick&&t.removeBehavior(this))}}function M(e){return function(){var t=this.el.sceneEl,n=this.el.isPlaying&&!this.isPlaying;this.initialized&&n&&(e.call(this),this.isPlaying=!0,this.tick&&t.addBehavior(this))}}t.exports.registerComponent=function(e,t){var n,r={};if(document.currentScript&&document.currentScript!==g&&i.forEach((function(t){t.hasLoaded||document.currentScript.compareDocumentPosition(t)!==Node.DOCUMENT_POSITION_FOLLOWING&&(m("The component `"+e+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(b[e]=!0))})),!0===v.test(e)&&m("The component name `"+e+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+e.toLowerCase()+"`"),-1!==e.indexOf("__"))throw new Error("The component name `"+e+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(t).forEach((function(e){r[e]={value:t[e],writable:!0}})),s[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");return(n=function(e,t,n){y.call(this,e,t,n)}).prototype=Object.create(y.prototype,r),n.prototype.name=e,n.prototype.constructor=n,n.prototype.system=o&&o.systems[e],n.prototype.play=M(n.prototype.play),n.prototype.pause=w(n.prototype.pause),s[e]={Component:n,dependencies:n.prototype.dependencies,isSingleProp:h(n.prototype.schema),multiple:n.prototype.multiple,parse:n.prototype.parse,parseAttrValueForCache:n.prototype.parseAttrValueForCache,schema:a.extend(l(n.prototype.schema)),stringify:n.prototype.stringify,type:n.prototype.type},n},t.exports.buildData=x},{"../utils/":167,"./scene/scenes":106,"./schema":108,"./system":110}],101:[function(e,t,n){var r=e("./schema").process,i=t.exports.geometries={},o=t.exports.geometryNames=[],a=e("../lib/three"),s=t.exports.Geometry=function(){};s.prototype={schema:{},init:function(e){return this.geometry=new a.Geometry,this.geometry},update:function(e){}},t.exports.registerGeometry=function(e,t){var n,a={};if(Object.keys(t).forEach((function(e){a[e]={value:t[e],writable:!0}})),i[e])throw new Error("The geometry `"+e+"` has been already registered");return(n=function(){s.call(this)}).prototype=Object.create(s.prototype,a),n.prototype.name=e,n.prototype.constructor=n,i[e]={Geometry:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":146,"./schema":108}],102:[function(e,t,n){var r=e("../utils/coordinates"),i=e("debug"),o=i("core:propertyTypes:warn"),a=i("core:propertyTypes:warn"),s=t.exports.propertyTypes={};function u(e,t,n,r){"type"in s?o("Property type "+e+" is already registered."):s[e]={default:t,parse:n||f,stringify:r||d}}function c(e){return Array.isArray(e)?e:e&&"string"===typeof e?e.split(",").map(t):[];function t(e){return e.trim()}}function l(e){return e.join(", ")}function h(e){var t,n;return"string"!==typeof e?e:(n=e.match(/\url\((.+)\)/))?n[1]:"#"===e.charAt(0)?(t=v(e))?"CANVAS"===t.tagName||"VIDEO"===t.tagName?t:t.getAttribute("src"):void a('"'+e+'" asset not found.'):e}function f(e){return e}function d(e){return null===e?"null":e.toString()}function p(e){return"false"!==e&&!1!==e}function m(e){return parseInt(e,10)}function g(e){return parseFloat(e,10)}function v(e){return e?"string"!==typeof e?e:document.querySelector(e):null}function y(e){return e?"string"!==typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}function b(e){return e.getAttribute?"#"+e.getAttribute("id"):d(e)}function x(e){return e instanceof Array?e.map((function(e){return"#"+e.getAttribute("id")})).join(", "):d(e)}function E(e){return a("`src` property type is deprecated. Use `asset` instead."),h(e)}function w(e){return r.parse(e,this.default)}u("audio","",h),u("array",[],c,l),u("asset","",h),u("boolean",!1,p),u("color","#FFF",f,d),u("int",0,m),u("number",0,g),u("map","",h),u("model","",h),u("selector","",v,b),u("selectorAll","",y,x),u("src","",E),u("string","",f,d),u("time",0,m),u("vec2",{x:0,y:0},w,r.stringify),u("vec3",{x:0,y:0,z:0},w,r.stringify),u("vec4",{x:0,y:0,z:0,w:0},w,r.stringify),t.exports.registerPropertyType=u},{"../utils/coordinates":162,debug:11}],103:[function(e,t,n){var r=e("./metaTags").inject,i=e("./wakelock"),o=e("../a-register-element"),a=e("./scenes"),s=e("../system").systems,u=e("../../lib/three"),c=e("tween.js"),l=e("../../utils/"),h=e("../a-entity"),f=e("../a-node"),d=e("./postMessage"),p=l.bind,m=l.device.isIOS(),g=l.device.isMobile(),v=o.registerElement,y=l.debug("core:a-scene:warn");function b(e,t){return t?{height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth}:{height:window.innerHeight,width:window.innerWidth}}function x(e){(e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen).apply(e)}function E(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}t.exports=v("a-scene",{prototype:Object.create(h.prototype,{defaultComponents:{value:{canvas:"",inspector:"","keyboard-shortcuts":"",screenshot:"","vr-mode-ui":"","auto-enter-vr":""}},createdCallback:{value:function(){this.isIOS=m,this.isMobile=g,this.isScene=!0,this.object3D=new u.Scene,this.render=p(this.render,this),this.systems={},this.time=0,this.init()}},init:{value:function(){this.behaviors=[],this.hasLoaded=!1,this.isPlaying=!1,this.originalHTML=this.innerHTML,this.addEventListener("render-target-loaded",(function(){this.setupRenderer(),this.resize()})),this.addFullScreenStyles(),d(this)},writable:!0},addFullScreenStyles:{value:function(){document.documentElement.classList.add("a-html"),document.body.classList.add("a-body"),this.classList.add("fullscreen")}},removeFullScreenStyles:{value:function(){document.documentElement.classList.remove("a-html"),document.body.classList.remove("a-body"),this.classList.remove("fullscreen")}},attachedCallback:{value:function(){var e=p(this.resize,this);r(this),i(this),this.initSystems(),window.addEventListener("load",e),window.addEventListener("resize",e),this.play(),a.push(this)},writable:window.debug},initSystems:{value:function(){Object.keys(s).forEach(p(this.initSystem,this))}},initSystem:{value:function(e){this.systems[e]||(this.systems[e]=new s[e](this)).init()}},detachedCallback:{value:function(){var e;window.cancelAnimationFrame(this.animationFrameID),this.animationFrameID=null,e=a.indexOf(this),a.splice(e,1)}},addBehavior:{value:function(e){var t=this.behaviors;-1===t.indexOf(e)&&t.push(e)}},checkHeadsetConnected:{value:l.device.checkHeadsetConnected,writable:window.debug},enterVR:{value:function(e){var t=this;return this.is("vr-mode")?Promise.resolve("Already in VR."):this.checkHeadsetConnected()||this.isMobile?this.effect.requestPresent().then(n,r):(n(),Promise.resolve());function n(){t.addState("vr-mode"),t.emit("enter-vr",e),t.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),t.addFullScreenStyles(),t.isMobile||t.checkHeadsetConnected()||x(t.canvas),t.resize()}function r(e){throw e&&e.message?new Error("Failed to enter VR mode (`requestPresent`): "+e.message):new Error("Failed to enter VR mode (`requestPresent`).")}}},exitVR:{value:function(){var e=this;return this.is("vr-mode")?(E(),this.checkHeadsetConnected()||this.isMobile?this.effect.exitPresent().then(t,n):(t(),Promise.resolve())):Promise.resolve("Not in VR.");function t(){e.removeState("vr-mode"),e.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.hasAttribute("embedded")&&e.removeFullScreenStyles(),e.resize(),e.isIOS&&l.forceCanvasResizeSafariMobile(this.canvas),e.emit("exit-vr",{target:e})}function n(e){throw e&&e.message?new Error("Failed to exit VR mode (`exitPresent`): "+e.message):new Error("Failed to exit VR mode (`exitPresent`).")}}},getAttribute:{value:function(e){var t=this.systems[e];return t?t.data:h.prototype.getAttribute.call(this,e)}},getComputedAttribute:{value:function(e){y("`getComputedAttribute` is deprecated. Use `getAttribute` instead."),this.getAttribute(e)}},getDOMAttribute:{value:function(e){var t=this.systems[e];return t?t.data:h.prototype.getDOMAttribute.call(this,e)}},setAttribute:{value:function(e,t,n){this.systems[e]?f.prototype.setAttribute.call(this,e,t):h.prototype.setAttribute.call(this,e,t,n)}},removeBehavior:{value:function(e){var t=this.behaviors,n=t.indexOf(e);-1!==n&&t.splice(n,1)}},resize:{value:function(){var e,t=this.camera,n=this.canvas,r=this.getAttribute("embedded")&&!this.is("vr-mode");!t||!n||this.is("vr-mode")&&g||(e=b(n,r),t.aspect=e.width/e.height,t.updateProjectionMatrix(),this.renderer.setSize(e.width,e.height))},writable:window.debug},setupRenderer:{value:function(){var e=this.canvas,t="true"===this.getAttribute("antialias"),n=this.renderer=new u.WebGLRenderer({canvas:e,antialias:t||window.hasNativeWebVRImplementation,alpha:!0});n.setPixelRatio(window.devicePixelRatio),n.sortObjects=!1,this.effect=new u.VREffect(n)},writable:window.debug},play:{value:function(){var e=this;this.renderStarted?h.prototype.play.call(this):(this.addEventListener("loaded",(function(){function e(e){e.renderStarted||(e.resize(),e.renderer&&(window.performance&&window.performance.mark("render-started"),e.render(0),e.renderStarted=!0,e.emit("renderstart")))}h.prototype.play.call(this),this.camera?e(this):this.addEventListener("camera-set-active",(function(){e(this)}))})),setTimeout((function(){h.prototype.load.call(e)})))}},reload:{value:function(e){var t=this;function n(){t.isPlaying&&h.prototype.play.call(t)}e&&this.pause(),this.innerHTML=this.originalHTML,this.init(),f.prototype.load.call(this,n)}},updateComponent:{value:function(e){e in s||h.prototype.updateComponent.apply(this,arguments)}},tick:{value:function(e,t){var n=this.systems;c.update(e),this.behaviors.forEach((function(n){n.el.isPlaying&&n.tick(e,t)})),Object.keys(n).forEach((function(r){n[r].tick&&n[r].tick(e,t)}))}},render:{value:function(e){var t=this.effect,n=e-this.time;this.isPlaying&&this.tick(e,n),this.animationFrameID=t.requestAnimationFrame(this.render),t.render(this.object3D,this.camera),this.time=e},writable:!0}})})},{"../../lib/three":146,"../../utils/":167,"../a-entity":96,"../a-node":98,"../a-register-element":99,"../system":110,"./metaTags":104,"./postMessage":105,"./scenes":106,"./wakelock":107,"tween.js":49}],104:[function(e,t,n){var r=e("../../constants/"),i=e("../../utils").extend,o=t.exports.MOBILE_HEAD_TAGS=[s({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui"}),s({name:"mobile-web-app-capable",content:"yes"}),s({name:"theme-color",content:"black"})],a=[s({name:"apple-mobile-web-app-capable",content:"yes"}),s({name:"apple-mobile-web-app-status-bar-style",content:"black"}),u({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function s(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}function u(e){return{tagName:"link",attributes:e,exists:function(){return document.querySelector('link[rel="'+e.rel+'"]')}}}function c(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(r.AFRAME_INJECTED,""),i(t,e.attributes)}}t.exports.inject=function(e){var t,n=document.head,r=n.querySelector("script"),i=[];return o.forEach(s),e.isIOS&&a.forEach(s),i;function s(e){e&&!e.exists()&&(t=c(e))&&(r?r.parentNode.insertBefore(t,r):n.appendChild(t),i.push(t))}}},{"../../constants/":91,"../../utils":167}],105:[function(e,t,n){var r=e("../../utils/bind"),i=e("../../utils/").isIframed;function o(e){var t=this;if(e.data&&"vr"===e.data.type)switch(e.data.data){case"enter":t.enterVR();break;case"exit":t.exitVR()}}t.exports=function(e){i()&&window.addEventListener("message",r(o,e))}},{"../../utils/":167,"../../utils/bind":161}],106:[function(e,t,n){t.exports=[]},{}],107:[function(e,t,n){var r=e("../../../vendor/wakelock/wakelock");t.exports=function(e){if(e.isMobile){var t=e.wakelock=new r;e.addEventListener("enter-vr",(function(){t.request()})),e.addEventListener("exit-vr",(function(){t.release()}))}}},{"../../../vendor/wakelock/wakelock":177}],108:[function(e,t,n){var r=e("../utils/debug"),i=e("./propertyTypes").propertyTypes,o=r("core:schema:warn");function a(e){return"type"in e?"string"===typeof e.type:"default"in e}function s(e){var t,n=e.default,r=e.type;return e.type?"bool"===e.type?r="boolean":"float"===e.type&&(r="number"):r=void 0!==n&&-1!==["boolean","number"].indexOf(typeof n)?typeof n:Array.isArray(n)?"array":"string",(t=i[r])||o("Unknown property type: "+r),e.parse=e.parse||t.parse,e.stringify=e.stringify||t.stringify,e.type=r,"default"in e||(e.default=t.default),e}function u(e,t){return void 0!==e&&null!==e&&""!==e||(e=t.default),t.parse(e,t.default)}function c(e,t){return"object"!==typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}t.exports.isSingleProperty=a,t.exports.process=function(e){return a(e)?s(e):(Object.keys(e).forEach((function(t){e[t]=s(e[t])})),e)},t.exports.processPropertyDefinition=s,t.exports.parseProperties=function(e,t,n,r,i){var a=Object.keys(n?e:t);return null===e||"object"!==typeof e||(Object.keys(e).forEach((function(e){t[e]||i||o("Unknown property `"+e+"` for component/system `"+r+"`.")})),a.forEach((function(n){var r=t[n],i=e[n];t[n]&&(e[n]=u(i,r))}))),e},t.exports.parseProperty=u,t.exports.stringifyProperties=function(e,t){var n={};return Object.keys(e).forEach((function(r){var i=t[r],a=e[r],s=a;"object"===typeof s&&(s=c(a,i),i||o("Unknown component property: "+r)),n[r]=s})),n},t.exports.stringifyProperty=c},{"../utils/debug":163,"./propertyTypes":102}],109:[function(e,t,n){var r=e("./schema").process,i=t.exports.shaders={},o=t.exports.shaderNames=[],a=e("../lib/three"),s=e("../utils"),u={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},c=t.exports.Shader=function(){};c.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.attributes=this.initVariables(e,"attribute"),this.uniforms=this.initVariables(e,"uniform"),this.material=new(this.raw?a.RawShaderMaterial:a.ShaderMaterial)({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initVariables:function(e,t){var n={},r=this.schema;return Object.keys(r).forEach((function(e){if(r[e].is===t){var i=u[r[e].type];n[e]={type:i,value:void 0}}})),n},update:function(e){this.updateVariables(e,"attribute"),this.updateVariables(e,"uniform")},updateVariables:function(e,t){var n=this,r="uniform"===t?this.uniforms:this.attributes,i=this.schema;Object.keys(e).forEach((function(o){var a;if(i[o]&&i[o].is===t){if("map"===i[o].type){if(!r[o]||r[o].value===e[o])return;return a="_texture_"+o,n.el.addEventListener("materialtextureloaded",(function(){r[o].value=n.material[a],r[o].needsUpdate=!0})),void s.material.updateMapMaterialFromData(a,o,n,e)}r[o].value=n.parseValue(i[o].type,e[o]),r[o].needsUpdate=!0}}))},parseValue:function(e,t){var n;switch(e){case"vec2":return new a.Vector2(t.x,t.y);case"vec3":return new a.Vector3(t.x,t.y,t.z);case"vec4":return new a.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new a.Color(t),new a.Vector3(n.r,n.g,n.b);default:return t}}},t.exports.registerShader=function(e,t){var n,a={};if(Object.keys(t).forEach((function(e){a[e]={value:t[e],writable:!0}})),i[e])throw new Error("The shader "+e+" has been already registered");return(n=function(){c.call(this)}).prototype=Object.create(c.prototype,a),n.prototype.name=e,n.prototype.constructor=n,i[e]={Shader:n,schema:r(n.prototype.schema)},o.push(e),n}},{"../lib/three":146,"../utils":167,"./schema":108}],110:[function(e,t,n){var r=e("./component"),i=e("./schema"),o=e("../utils/"),a=i.parseProperties,s=i.parseProperty,u=i.process,c=i.isSingleProperty,l=o.styleParser,h=t.exports.systems={},f=t.exports.System=function(e){var t,n=r&&r.components[this.name],i=this.schema;this.sceneEl=e,n&&(n.Component.prototype.system=this),Object.keys(i).length&&(t=HTMLElement.prototype.getAttribute.call(e,this.name),c(i)?this.data=s(t,i):this.data=a(l.parse(t)||{},i,!1,this.name))};f.prototype={schema:{},init:function(){},tick:void 0,play:function(){},pause:function(){}},t.exports.registerSystem=function(e,t){var n,r,i={},a=o.findAllScenes(document);if(Object.keys(t).forEach((function(e){i[e]={value:t[e],writable:!0}})),h[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");for((r=function(e){f.call(this,e)}).prototype=Object.create(f.prototype,i),r.prototype.name=e,r.prototype.constructor=r,r.prototype.schema=o.extend(u(r.prototype.schema)),h[e]=r,n=0;n<a.length;n++)a[n].initSystem(e)}},{"../utils/":167,"./component":100,"./schema":108}],111:[function(e,t,n){e("./pivot")},{"./pivot":112}],112:[function(e,t,n){var r=e("../../core/component").registerComponent,i=e("../../lib/three"),o=new i.Vector3,a=new i.Vector3;r("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,r=t.object3D,s=new i.Group;o.copy(r.position),a.copy(r.rotation),n.remove(r),s.add(r),n.add(s),t.object3D=s,r.position.set(-1*e.x,-1*e.y,-1*e.z),s.position.set(e.x+o.x,e.y+o.y,e.z+o.z),s.rotation.copy(r.rotation),r.rotation.set(0,0,0)}})},{"../../core/component":100,"../../lib/three":146}],113:[function(e,t,n){var r=e("../../core/component").components,i=e("../../core/shader").shaders,o=e("../../utils/"),a={};function s(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),a[t]="material."+e}Object.keys(r.material.schema).forEach(s),Object.keys(i.standard.schema).forEach(s),t.exports=function(){return{defaultComponents:{material:{}},mappings:o.extend({},a)}}},{"../../core/component":100,"../../core/shader":109,"../../utils/":167}],114:[function(e,t,n){e("./primitives/a-camera"),e("./primitives/a-collada-model"),e("./primitives/a-cursor"),e("./primitives/a-curvedimage"),e("./primitives/a-gltf-model"),e("./primitives/a-image"),e("./primitives/a-light"),e("./primitives/a-obj-model"),e("./primitives/a-sky"),e("./primitives/a-sound"),e("./primitives/a-text"),e("./primitives/a-video"),e("./primitives/a-videosphere"),e("./primitives/meshPrimitives")},{"./primitives/a-camera":116,"./primitives/a-collada-model":117,"./primitives/a-cursor":118,"./primitives/a-curvedimage":119,"./primitives/a-gltf-model":120,"./primitives/a-image":121,"./primitives/a-light":122,"./primitives/a-obj-model":123,"./primitives/a-sky":124,"./primitives/a-sound":125,"./primitives/a-text":126,"./primitives/a-video":127,"./primitives/a-videosphere":128,"./primitives/meshPrimitives":129}],115:[function(e,t,n){var r=e("../../core/a-entity"),i=e("../../core/component").components,o=e("../../core/a-register-element").registerElement,a=e("../../utils/"),s=a.debug,u=a.entity.setComponentProperty,c=s("extras:primitives:debug"),l=s("extras:primitives:warn"),h=t.exports.primitives={};function f(e,t){var n=i[e].schema;Object.keys(n).map((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[r]&&(r=e+"-"+n),t[r]=e+"."+n}))}function d(e,n,r){r=r||{},Object.keys(n).map((function(e){f(e,r)})),t.exports.registerPrimitive(e,a.extendDeep({},null,{defaultComponents:n,mappings:r}))}t.exports.registerPrimitive=function(e,t){e=e.toLowerCase(),c("Registering <%s>",e),t.defaultAttributes&&l("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=o(e,{prototype:Object.create(r.prototype,{defaultComponentsFromPrimitive:{value:t.defaultComponents||t.defaultAttributes||{}},deprecated:{value:t.deprecated||null},deprecatedMappings:{value:t.deprecatedMappings||{}},mappings:{value:t.mappings||{}},createdCallback:{value:function(){t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}},resolveMappingCollisions:{value:function(){var e=this.mappings,t=this;Object.keys(e).forEach((function(n){var r;i[n]&&(r=e[n].replace(".","-"),e[r]=e[n],delete e[n],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))}))}},getExtraComponents:{value:function(){var e,t,n,r,i,o,s=this;for(t=a.clone(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=i.trim().split(" ")).forEach((function(e){var n=s.sceneEl.querySelector("#"+e).componentCache;Object.keys(n).forEach((function(e){t[e]=a.extendDeep(t[e]||{},n[e])}))})),n=0;n<this.attributes.length;n++)e=this.attributes[n],(r=this.mappings[e.name])&&((o=a.entity.getComponentPropertyPath(r)).constructor===Array?t[o[0]][o[1]]=e.value:t[o]=e.value);return t}},attributeChangedCallback:{value:function(e,t,n){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r&&u(this,r,n)}}})});return h[e]=n,n},t.exports.definePrimitive=d},{"../../core/a-entity":96,"../../core/a-register-element":99,"../../core/component":100,"../../utils/":167}],116:[function(e,t,n){var r=e("../../../constants/").DEFAULT_CAMERA_HEIGHT;(0,e("../primitives").registerPrimitive)("a-camera",{defaultComponents:{camera:{userHeight:r},"look-controls":{},"wasd-controls":{}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag","user-height":"camera.userHeight",zoom:"camera.zoom"},deprecatedMappings:{"cursor-color":"a-camera[cursor-color] has been removed. Use a-cursor[color] instead.","cursor-maxdistance":"a-camera[cursor-maxdistance] has been removed. Use a-cursor[max-distance] instead.","cursor-offset":"a-camera[cursor-offset] has been removed. Use a-cursor[position] instead.","cursor-opacity":"a-camera[cursor-offset] has been removed. Use a-cursor[opacity] instead.","cursor-scale":"a-camera[cursor-scale] has been removed. Use a-cursor[scale] instead.","cursor-visible":"a-camera[cursor-visible] has been removed. Use a-cursor[visible] instead."}})},{"../../../constants/":91,"../primitives":115}],117:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-collada-model",{mappings:{src:"collada-model"}})},{"../primitives":115}],118:[function(e,t,n){var r=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-cursor",e("../../../utils/").extendDeep({},r(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:64},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1},raycaster:{far:1e3}},mappings:{far:"raycaster.far",fuse:"cursor.fuse",interval:"raycaster.interval",objects:"raycaster.objects","fuse-timeout":"cursor.fuseTimeout"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],119:[function(e,t,n){var r=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-curvedimage",e("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],120:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-gltf-model",{mappings:{src:"gltf-model"}})},{"../primitives":115}],121:[function(e,t,n){var r=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-image",e("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],122:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target"}})},{"../primitives":115}],123:[function(e,t,n){var r=e("../getMeshMixin")();(0,e("../primitives").registerPrimitive)("a-obj-model",e("../../../utils/").extendDeep({},r,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],124:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../primitives").registerPrimitive,o=e("../../../utils/"),a=e("./meshPrimitives");i("a-sky",o.extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:o.extendDeep({},a["a-sphere"].prototype.mappings)}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115,"./meshPrimitives":129}],125:[function(e,t,n){(0,e("../primitives").registerPrimitive)("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},{"../primitives":115}],126:[function(e,t,n){(0,e("../primitives").definePrimitive)("a-text",{text:{anchor:"align",width:5}})},{"../primitives":115}],127:[function(e,t,n){var r=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-video",e("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],128:[function(e,t,n){var r=e("../getMeshMixin");(0,e("../primitives").registerPrimitive)("a-videosphere",e("../../../utils/").extendDeep({},r(),{defaultComponents:{geometry:{primitive:"sphere",radius:5e3,segmentsWidth:64,segmentsHeight:20},material:{color:"#FFF",shader:"flat"},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},{"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],129:[function(e,t,n){var r=e("../getMeshMixin"),i=e("../../../core/geometry").geometries,o=e("../../../core/geometry").geometryNames,a=e("../primitives").registerPrimitive,s=e("../../../utils/"),u=t.exports={};function c(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}o.forEach((function(e){var t=i[e],n=c(e),o={};Object.keys(t.schema).forEach((function(e){o[c(e)]="geometry."+e}));var l="a-"+n,h=a(l,s.extendDeep({},r(),{defaultComponents:{geometry:{primitive:e}},mappings:o}));u[l]=h}))},{"../../../core/geometry":101,"../../../utils/":167,"../getMeshMixin":113,"../primitives":115}],130:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.BoxGeometry(e.width,e.height,e.depth)}})},{"../core/geometry":101,"../lib/three":146}],131:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CircleGeometry(e.radius,e.segments,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],132:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.8,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],133:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],134:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.DodecahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],135:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.IcosahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],136:[function(e,t,n){e("./box.js"),e("./circle.js"),e("./cone.js"),e("./cylinder.js"),e("./dodecahedron.js"),e("./icosahedron.js"),e("./octahedron.js"),e("./plane.js"),e("./ring.js"),e("./sphere.js"),e("./tetrahedron.js"),e("./torus.js"),e("./torusKnot.js")},{"./box.js":130,"./circle.js":131,"./cone.js":132,"./cylinder.js":133,"./dodecahedron.js":134,"./icosahedron.js":135,"./octahedron.js":137,"./plane.js":138,"./ring.js":139,"./sphere.js":140,"./tetrahedron.js":141,"./torus.js":142,"./torusKnot.js":143}],137:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.OctahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],138:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new i.PlaneGeometry(e.width,e.height)}})},{"../core/geometry":101,"../lib/three":146}],139:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new i.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],140:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new i.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,o(e.phiStart),o(e.phiLength),o(e.thetaStart),o(e.thetaLength))}})},{"../core/geometry":101,"../lib/three":146}],141:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new i.TetrahedronGeometry(e.radius,e.detail)}})},{"../core/geometry":101,"../lib/three":146}],142:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three"),o=i.Math.degToRad;r("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,o(e.arc))}})},{"../core/geometry":101,"../lib/three":146}],143:[function(e,t,n){var r=e("../core/geometry").registerGeometry,i=e("../lib/three");r("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new i.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}})},{"../core/geometry":101,"../lib/three":146}],144:[function(e,t,n){var r=e("./utils/"),i=(0,r.debug)("A-Frame:warn");document.currentScript&&document.currentScript.parentNode!==document.head&&!window.debug&&i("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),window.Promise=window.Promise||e("promise-polyfill"),window.hasNativeWebVRImplementation=!!navigator.getVRDisplays||!!navigator.getVRDevices,window.WebVRConfig=window.WebVRConfig||{BUFFER_SCALE:1,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,TOUCH_PANNER_DISABLED:!0,MOUSE_KEYBOARD_CONTROLS_DISABLED:!0},r.device.isIOSOlderThan10(navigator.userAgent)&&(window.WebVRConfig.BUFFER_SCALE=1/window.devicePixelRatio),e("webvr-polyfill"),e("present"),e("./style/aframe.css"),e("./style/rStats.css");var o=e("./core/scene/a-scene"),a=e("./core/component").components,s=e("./core/component").registerComponent,u=e("./core/geometry").registerGeometry,c=e("./extras/primitives/primitives").registerPrimitive,l=e("./core/shader").registerShader,h=e("./core/system").registerSystem,f=e("./core/shader").shaders,d=e("./core/system").systems,p=window.THREE=e("./lib/three"),m=window.TWEEN=e("tween.js"),g=e("../package");e("./components/index"),e("./geometries/index"),e("./shaders/index"),e("./systems/index");var v=e("./core/a-node"),y=e("./core/a-entity");e("./core/a-animation"),e("./core/a-assets"),e("./core/a-cubemap"),e("./core/a-mixin"),e("./extras/components/"),e("./extras/primitives/"),console.log("A-Frame Version: 0.5.0 (Date 10-02-2017, Commit #bf8b8f9)"),console.log("three Version:",g.dependencies.three),console.log("WebVR Polyfill Version:",g.dependencies["webvr-polyfill"]),t.exports=window.AFRAME={AComponent:e("./core/component").Component,AEntity:y,ANode:v,AScene:o,components:a,geometries:e("./core/geometry").geometries,registerComponent:s,registerElement:e("./core/a-register-element").registerElement,registerGeometry:u,registerPrimitive:c,registerShader:l,registerSystem:h,primitives:{getMeshMixin:e("./extras/primitives/getMeshMixin"),primitives:e("./extras/primitives/primitives").primitives},scenes:e("./core/scene/scenes"),schema:e("./core/schema"),shaders:f,systems:d,THREE:p,TWEEN:m,utils:r,version:g.version}},{"../package":55,"./components/index":63,"./core/a-animation":93,"./core/a-assets":94,"./core/a-cubemap":95,"./core/a-entity":96,"./core/a-mixin":97,"./core/a-node":98,"./core/a-register-element":99,"./core/component":100,"./core/geometry":101,"./core/scene/a-scene":103,"./core/scene/scenes":106,"./core/schema":108,"./core/shader":109,"./core/system":110,"./extras/components/":111,"./extras/primitives/":114,"./extras/primitives/getMeshMixin":113,"./extras/primitives/primitives":115,"./geometries/index":136,"./lib/three":146,"./shaders/index":148,"./style/aframe.css":152,"./style/rStats.css":153,"./systems/index":157,"./utils/":167,present:34,"promise-polyfill":35,"tween.js":49,"webvr-polyfill":50}],145:[function(e,t,n){window.aframeStats=function(e){var t=null,n=e;function r(){t("te").set(i()),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function i(){var e=n.querySelectorAll("*");return Array.prototype.slice.call(e).filter((function(e){return e.isEntity})),e.length}function o(){}function a(){}function s(e){t=e}return{update:r,start:o,end:a,attach:s,values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}},"object"===typeof t&&(t.exports={aframeStats:window.aframeStats})},{}],146:[function(e,t,n){(function(n){var r=n.THREE=e("three");r.TextureLoader&&(r.TextureLoader.prototype.crossOrigin="anonymous"),r.ImageLoader&&(r.ImageLoader.prototype.crossOrigin="anonymous"),r.Cache&&(r.Cache.enabled=!0),e("three/examples/js/loaders/GLTFLoader"),e("three/examples/js/loaders/OBJLoader"),e("three/examples/js/loaders/MTLLoader"),e("three/examples/js/BlendCharacter"),e("three/examples/js/loaders/ColladaLoader"),e("../../vendor/VRControls"),e("../../vendor/VREffect"),r.ColladaLoader.prototype.crossOrigin="anonymous",r.GLTFLoader.prototype.crossOrigin="anonymous",r.MTLLoader.prototype.crossOrigin="anonymous",r.OBJLoader.prototype.crossOrigin="anonymous",t.exports=r}).call(this,"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../vendor/VRControls":172,"../../vendor/VREffect":173,three:42,"three/examples/js/BlendCharacter":43,"three/examples/js/loaders/ColladaLoader":44,"three/examples/js/loaders/GLTFLoader":45,"three/examples/js/loaders/MTLLoader":46,"three/examples/js/loaders/OBJLoader":47}],147:[function(e,t,n){var r=e("../core/shader").registerShader,i=e("../lib/three"),o=e("../utils/");function a(e){return{fog:e.fog,color:new i.Color(e.color),wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth}}t.exports.Shader=r("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.textureSrc=null,this.material=new i.MeshBasicMaterial(a(e)),o.material.updateMap(this,e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e)},updateMaterial:function(e){var t=this.material;e=a(e),Object.keys(e).forEach((function(n){t[n]=e[n]}))}})},{"../core/shader":109,"../lib/three":146,"../utils/":167}],148:[function(e,t,n){e("./flat"),e("./standard"),e("./sdf"),e("./msdf")},{"./flat":147,"./msdf":149,"./sdf":150,"./standard":151}],149:[function(e,t,n){var r=e("../core/shader").registerShader;t.exports.Shader=r("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","void main() {","  vec3 sample = 1.0 - texture2D(map, vUV).rgb;","  float sigDist = median(sample.r, sample.g, sample.b) - 0.5;","  float alpha = clamp(sigDist/fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  if (isBigEnough <= BIG_ENOUGH && gl_FragColor.a < alphaTest) { discard; return; }","  if (gl_FragColor.a < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","}"].join("\n")})},{"../core/shader":109}],150:[function(e,t,n){var r=e("../core/shader").registerShader;t.exports.Shader=r("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},raw:!0,vertexShader:["attribute vec2 uv;","attribute vec3 position;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUV;","void main(void) {","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","  vUV = uv;","}"].join("\n"),fragmentShader:["#ifdef GL_OES_standard_derivatives","#extension GL_OES_standard_derivatives: enable","#endif","precision highp float;","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","#define ALL_SMOOTH 0.4","#define ALL_ROUGH 0.02","#define DISCARD_ALPHA (alphaTest / (2.2 - 1.2 * ratio))","uniform sampler2D map;","uniform vec3 color;","uniform float opacity;","uniform float alphaTest;","varying vec2 vUV;","#ifdef GL_OES_standard_derivatives","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#else","float aastep(float value, float afwidth) {","  return smoothstep(0.5 - afwidth, 0.5 + afwidth, value);","}","#endif","void main() {","#ifdef GL_OES_standard_derivatives","  vec2 uv = vUV;","  vec4 texColor = texture2D(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  else if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture2D(map, box.xy).a, width)","      + contour(texture2D(map, box.zw).a, width)","      + contour(texture2D(map, box.xw).a, width)","      + contour(texture2D(map, box.zy).a, width)","    )) / 3.0;","  }","  if (isBigEnough <= BIG_ENOUGH && alpha < alphaTest) { discard; return; }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","#else","  vec4 texColor = texture2D(map, vUV);","  float value = texColor.a;","  float afwidth = (1.0 / 32.0) * (1.4142135623730951 / (2.0 * gl_FragCoord.w));","  float alpha = aastep(value, afwidth);","  float ratio = (gl_FragCoord.w >= ALL_SMOOTH) ? 1.0 : (gl_FragCoord.w < ALL_ROUGH) ? 0.0 : (gl_FragCoord.w - ALL_ROUGH) / (ALL_SMOOTH - ALL_ROUGH);","  if (alpha < alphaTest) { if (ratio >= 1.0) { discard; return; } alpha = 0.0; }","  alpha = alpha * ratio + (1.0 - ratio) * value;","  if (ratio < 1.0)","    if (alpha <= DISCARD_ALPHA) { discard; return; }","#endif","  gl_FragColor = vec4(color, opacity * alpha);","}"].join("\n")})},{"../core/shader":109}],151:[function(e,t,n){var r=e("../core/shader").registerShader,i=e("../lib/three"),o=e("../utils/"),a=new i.CubeTextureLoader,s={};function u(e){var t={color:new i.Color(e.color),fog:e.fog,metalness:e.metalness,roughness:e.roughness,wireframe:e.wireframe,wireframeLinewidth:e.wireframeLinewidth};return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}t.exports.Shader=r("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},normalMap:{type:"map"},normalScale:{type:"vec2",default:"1 1"},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.material=new i.MeshStandardMaterial(u(e)),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),this.updateEnvMap(e)},update:function(e){this.updateMaterial(e),o.material.updateMap(this,e),e.normalMap&&o.material.updateDistortionMap("normal",this,e),e.displacementMap&&o.material.updateDistortionMap("displacement",this,e),e.ambientOcclusionMap&&o.material.updateDistortionMap("ambientOcclusion",this,e),this.updateEnvMap(e)},updateMaterial:function(e){var t=this.material;e=u(e),Object.keys(e).forEach((function(n){t[n]=e[n]}))},updateEnvMap:function(e){var t=this,n=this.material,r=e.envMap,u=e.sphericalEnvMap;if(!r&&!u||this.isLoadingEnvMap)return n.envMap=null,void(n.needsUpdate=!0);this.isLoadingEnvMap=!0,u?this.el.sceneEl.systems.material.loadTexture(u,{src:u},(function(e){t.isLoadingEnvMap=!1,e.mapping=i.SphericalReflectionMapping,n.envMap=e,o.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]?s[r].then((function(e){t.isLoadingEnvMap=!1,n.envMap=e,o.material.handleTextureEvents(t.el,e),n.needsUpdate=!0})):s[r]=new Promise((function(e){o.srcLoader.validateCubemapSrc(r,(function(r){a.load(r,(function(r){t.isLoadingEnvMap=!1,n.envMap=r,o.material.handleTextureEvents(t.el,r),e(r)}))}))}))}})},{"../core/shader":109,"../lib/three":146,"../utils/":167}],152:[function(e,t,n){var r=".a-html{bottom:0;left:0;position:fixed;right:0;top:0}.a-body{height:100%;margin:0;overflow:hidden;padding:0;width:100%}:-webkit-full-screen{background-color:transparent}.a-hidden{display:none!important}.a-canvas{height:100%;left:0;position:absolute;top:0;width:100%}.a-canvas.a-grab-cursor:hover{cursor:grab;cursor:-moz-grabbing;cursor:-webkit-grab}.a-canvas.a-grab-cursor:active,.a-grabbing{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}// Class is removed when doing <a-scene embedded>. a-scene.fullscreen .a-canvas{width:100%!important;height:100%!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:999999!important;position:fixed!important}.a-inspector-loader{background-color:#ed3160;position:fixed;left:3px;top:3px;padding:6px 10px;color:#fff;text-decoration:none;font-size:12px;font-family:Roboto,sans-serif;text-align:center;z-index:99999;width:174px}@keyframes dots-1{from{opacity:0}25%{opacity:1}}@keyframes dots-2{from{opacity:0}50%{opacity:1}}@keyframes dots-3{from{opacity:0}75%{opacity:1}}@-webkit-keyframes dots-1{from{opacity:0}25%{opacity:1}}@-webkit-keyframes dots-2{from{opacity:0}50%{opacity:1}}@-webkit-keyframes dots-3{from{opacity:0}75%{opacity:1}}.a-inspector-loader .dots span{animation:dots-1 2s infinite steps(1);-webkit-animation:dots-1 2s infinite steps(1)}.a-inspector-loader .dots span:first-child+span{animation-name:dots-2;-webkit-animation-name:dots-2}.a-inspector-loader .dots span:first-child+span+span{animation-name:dots-3;-webkit-animation-name:dots-3}a-scene{display:block;position:relative;height:100%;width:100%}a-assets,a-scene audio,a-scene img,a-scene video{display:none}.a-enter-vr-modal,.a-orientation-modal{font-family:Consolas,Andale Mono,Courier New,monospace}.a-enter-vr-modal a{border-bottom:1px solid #fff;padding:2px 0;text-decoration:none;transition:.1s color ease-in}.a-enter-vr-modal a:hover{background-color:#fff;color:#111;padding:2px 4px;position:relative;left:-4px}.a-enter-vr{font-family:sans-serif,monospace;font-size:13px;width:100%;font-weight:200;line-height:16px;height:10%;position:absolute;right:20px;bottom:20px}.a-enter-vr.embedded{right:5px;bottom:5px}.a-enter-vr-button,.a-enter-vr-modal,.a-enter-vr-modal a{color:#fff}.a-enter-vr-button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E) 50% 50%/70% 70% no-repeat rgba(0,0,0,.35);border:0;bottom:0;cursor:pointer;min-width:50px;min-height:30px;padding-right:5%;padding-top:4%;position:absolute;right:0;transition:background-color .05s ease;-webkit-transition:background-color .05s ease;z-index:9999}.a-enter-vr-button:active,.a-enter-vr-button:hover{background-color:#666}[data-a-enter-vr-no-webvr] .a-enter-vr-button{border-color:#666;opacity:.65}[data-a-enter-vr-no-webvr] .a-enter-vr-button:active,[data-a-enter-vr-no-webvr] .a-enter-vr-button:hover{background-color:rgba(0,0,0,.35);cursor:not-allowed}.a-enter-vr-modal{background-color:#666;border-radius:0;display:none;min-height:32px;margin-right:70px;padding:9px;width:280px;right:2%;position:absolute}.a-enter-vr-modal:after{border-bottom:10px solid transparent;border-left:10px solid #666;border-top:10px solid transparent;display:inline-block;content:'';position:absolute;right:-5px;top:5px;width:0;height:0}.a-enter-vr-modal a,.a-enter-vr-modal p{display:inline}.a-enter-vr-modal p{margin:0}.a-enter-vr-modal p:after{content:' '}[data-a-enter-vr-no-headset].a-enter-vr:hover .a-enter-vr-modal,[data-a-enter-vr-no-webvr].a-enter-vr:hover .a-enter-vr-modal{display:block}.a-orientation-modal{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center/50% 50% no-repeat rgba(244,244,244,1);bottom:0;font-size:14px;font-weight:600;left:0;line-height:20px;right:0;position:fixed;top:0;z-index:9999999}.a-orientation-modal:after{color:#666;content:\"Insert phone into Cardboard holder.\";display:block;position:absolute;text-align:center;top:70%;transform:translateY(-70%);width:100%}.a-orientation-modal button{background:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;border:none;height:50px;text-indent:-9999px;width:50px}";e("browserify-css").createStyle(r,{href:"src/style/aframe.css"}),t.exports=r},{"browserify-css":3}],153:[function(e,t,n){var r=".rs-base{background-color:#333;color:#fafafa;border-radius:0;font:10px monospace;left:5px;line-height:1em;opacity:.85;overflow:hidden;padding:10px;position:fixed;top:5px;width:300px;z-index:10000}.rs-base div.hidden{display:none}.rs-base h1{color:#fff;cursor:pointer;font-size:1.4em;font-weight:300;margin:0 0 5px;padding:0}.rs-group{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;margin-bottom:5px}.rs-group:last-child{margin-bottom:0}.rs-counter-base{align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;height:10px;-webkit-justify-content:space-between;justify-content:space-between;margin:2px 0}.rs-counter-base.alarm{color:#b70000;text-shadow:0 0 0 #b70000,0 0 1px #fff,0 0 1px #fff,0 0 2px #fff,0 0 2px #fff,0 0 3px #fff,0 0 3px #fff,0 0 4px #fff,0 0 4px #fff}.rs-counter-id{font-weight:300;-webkit-box-ordinal-group:0;-webkit-order:0;order:0;width:54px}.rs-counter-value{font-weight:300;-webkit-box-ordinal-group:1;-webkit-order:1;order:1;text-align:right;width:35px}.rs-canvas{-webkit-box-ordinal-group:2;-webkit-order:2;order:2}@media (min-width:480px){.rs-base{left:20px;top:20px}}";e("browserify-css").createStyle(r,{href:"src/style/rStats.css"}),t.exports=r},{"browserify-css":3}],154:[function(e,t,n){var r=e("../utils/bind"),i=e("../constants/"),o=e("../core/system").registerSystem,a="data-aframe-default-camera";function s(e){var t;e.camera&&(t=e.querySelector("["+a+"]"))&&e.removeChild(t)}t.exports.System=o("camera",{init:function(){this.activeCameraEl=null,this.sceneEl.addEventListener("loaded",r(this.setupDefaultCamera,this))},setupDefaultCamera:function(){var e,t=this.sceneEl;t.camera?t.emit("camera-ready",{cameraEl:t.camera.el}):((e=document.createElement("a-entity")).setAttribute("position","0 0 0"),e.setAttribute(a,""),e.setAttribute("camera",{active:!0,userHeight:i.DEFAULT_CAMERA_HEIGHT}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(i.AFRAME_INJECTED,""),t.appendChild(e),t.addEventListener("enter-vr",this.removeDefaultOffset),t.addEventListener("exit-vr",this.addDefaultOffset),t.emit("camera-ready",{cameraEl:e}))},disableActiveCamera:function(){var e=this.sceneEl.querySelectorAll("[camera]");e[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,r,i,o=this.activeCameraEl,u=this.sceneEl;if((i=e.getObject3D("camera"))&&e!==this.activeCameraEl){var c=u.querySelector("["+a+"]");for(e!==(c&&c.querySelector("[camera]"))&&s(u),this.activeCameraEl=e,this.activeCameraEl.play(),u.camera=i,o&&o.setAttribute("camera","active",!1),n=u.querySelectorAll("[camera]"),r=0;r<n.length;r++)e!==(t=n[r])&&(t.setAttribute("camera","active",!1),t.pause());u.emit("camera-set-active",{cameraEl:e})}}})},{"../constants/":91,"../core/system":110,"../utils/bind":161}],155:[function(e,t,n){var r=e("../core/geometry").geometries,i=e("../core/system").registerSystem,o=e("../lib/three");function a(e){var t=e.primitive,n=r[t]&&r[t].Geometry,i=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return i.init(e),c(i.geometry,e.buffer)}function s(e,t){e[t]--}function u(e,t){e[t]=void 0===e[t]?1:e[t]+1}function c(e,t){var n;return t?((n=(new o.BufferGeometry).fromGeometry(e)).metadata={type:e.type,parameters:e.parameters||{}},e.dispose(),n):e}t.exports.System=i("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,r=this.cache;return e.skipCache||e.mergeTo?a(e):(t=r[n=this.hash(e)],u(this.cacheCount,n),t||(t=a(e),r[n]=t,t))},unuseGeometry:function(e){var t,n=this.cache,r=this.cacheCount;e.skipCache||e.mergeTo||n[t=this.hash(e)]&&(s(r,t),r[t]>0||(n[t].dispose(),delete n[t],delete r[t]))},hash:function(e){return JSON.stringify(e)}})},{"../core/geometry":101,"../core/system":110,"../lib/three":146}],156:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../lib/three");t.exports.System=r("gltf-model",{init:function(){this.models=[]},tick:function(){var e=this.sceneEl;e.hasLoaded&&this.models.length&&i.GLTFLoader.Shaders.update(e.object3D,e.camera)},registerModel:function(e){this.models.push(e)},unregisterModel:function(e){var t=this.models,n=t.indexOf(e);n>=0&&t.splice(n,1)}})},{"../core/system":110,"../lib/three":146}],157:[function(e,t,n){e("./camera"),e("./geometry"),e("./gltf-model"),e("./light"),e("./material"),e("./tracked-controls")},{"./camera":154,"./geometry":155,"./gltf-model":156,"./light":158,"./material":159,"./tracked-controls":160}],158:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../utils/bind"),o=e("../constants/"),a="data-aframe-default-light";t.exports.System=r("light",{init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",i(this.setupDefaultLights,this))},registerLight:function(e){e.hasAttribute(a)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+a+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,n=this.sceneEl;this.userDefinedLights||this.defaultLights||(e=document.createElement("a-entity"),t=document.createElement("a-entity"),e.setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(a,""),e.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(e),t.setAttribute("light",{color:"#FFF",intensity:.6}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute(a,""),t.setAttribute(o.AFRAME_INJECTED,""),n.appendChild(t),this.defaultLights=!0)}})},{"../constants/":91,"../core/system":110,"../utils/bind":161}],159:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../lib/three"),o=e("../utils/"),a=o.debug,s=a("components:texture:error"),u=new i.TextureLoader,c=a("components:texture:warn");function l(e,t){var n,r,i,o=t.getAttribute("id");if(o)return o;for(r="",i=e||{},n=0;n<t.attributes.length;n++)i[t.attributes[n].name]=t.attributes[n].value;return Object.keys(i).sort().forEach((function(e){r+=e+":"+i[e]+";"})),r}function h(e,t){return new Promise(n);function n(n,r){function o(e){f(e,t),e.needsUpdate=!0,n(e)}"string"!==typeof e?o(new i.Texture(e)):u.load(e,o,(function(){}),(function(e){s("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)}))}}function f(e,t){var n=t.offset||{x:0,y:0},r=t.repeat||{x:1,y:1};!!t.npot&&(e.wrapS=i.ClampToEdgeWrapping,e.wrapT=i.ClampToEdgeWrapping,e.magFilter=i.LinearFilter,e.minFilter=i.LinearFilter),1===r.x&&1===r.y||(e.wrapS=i.RepeatWrapping,e.wrapT=i.RepeatWrapping,e.repeat.set(r.x,r.y)),0===n.x&&0===n.y||e.offset.set(n.x,n.y)}function d(e,t,n){var r=document.createElement("video");return r.width=t,r.height=n,r.setAttribute("webkit-playsinline",""),r.autoplay=!0,r.loop=!0,r.crossOrigin="anonymous",r.addEventListener("error",(function(){c("`$s` is not a valid video",e)}),!0),r.src=e,r}function p(e){return e.autoplay="false"!==e.getAttribute("autoplay"),e.controls="false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("webkit-playsinline",""),e}t.exports.System=r("material",{init:function(){this.materials={},this.textureCache={}},clearTextureCache:function(){this.textureCache={}},loadTexture:function(e,t,n){var r=this;if("CANVAS"!==e.tagName){if("VIDEO"===e.tagName)return e.hasAttribute("src")||e.hasAttribute("srcObject")||c("Video element was defined without `src` nor `srcObject` attributes."),void this.loadVideo(e,t,n);o.srcLoader.validateSrc(e,i,a)}else this.loadCanvas(e,t,n);function i(e){r.loadImage(e,t,n)}function a(e){r.loadVideo(e,t,n)}},loadImage:function(e,t,n){var r=this.hash(t),i=n,o=this.textureCache;o[r]||(o[r]=h(e,t)),o[r].then(i)},loadCanvas:function(e,t,n){e.readyState=2,e.HAVE_CURRENT_DATA=2,this.loadVideo(e,t,n)},loadVideo:function(e,t,n){var r,o,a,s,u=this.textureCache;function c(e){e.texture.needsUpdate=!0,n(e.texture,e.videoEl)}if("string"!==typeof e){if(a=e,u[r=this.hashVideo(t,a)])return void u[r].then(c);p(a)}a=a||d(e,t.width,t.height),u[r=this.hashVideo(t,a)]?u[r].then(c):((o=new i.VideoTexture(a)).minFilter=i.LinearFilter,f(o,t),s={texture:o,videoEl:a},u[r]=Promise.resolve(s),c(s))},hash:function(e){return JSON.stringify(e)},hashVideo:function(e,t){return l(e,t)},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]},updateMaterials:function(e){var t=this.materials;Object.keys(t).forEach((function(e){t[e].needsUpdate=!0}))}})},{"../core/system":110,"../lib/three":146,"../utils/":167}],160:[function(e,t,n){var r=e("../core/system").registerSystem,i=e("../utils/tracked-controls"),o=e("../utils");t.exports.System=r("tracked-controls",{init:function(){var e=this;this.controllers=[],this.lastControllersUpdate=0,this.tick=o.throttle(this.throttledTick,10,this),navigator.getVRDisplays&&navigator.getVRDisplays().then((function(t){t.length>0&&(e.vrDisplay=t[0])}))},updateControllerList:function(){for(var e=this.controllers=[],t=i.getGamepadsByPrefix(""),n=0;n<t.length;n++){var r=t[n];r&&r.pose&&e.push(r)}},throttledTick:function(){this.updateControllerList(),this.sceneEl.emit("controllersupdated",{controllers:this.controllers})}})},{"../core/system":110,"../utils":167,"../utils/tracked-controls":171}],161:[function(e,t,n){t.exports=function(e,t){return n=Array.prototype.slice.call(arguments,2),function(){var r=n.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,r)};var n}},{}],162:[function(e,t,n){var r=e("object-assign"),i=/^\s*((-?\d*\.{0,1}\d+)\s+){2,3}(-?\d*\.{0,1}\d+)\s*$/;function o(e,t){var n,i={};return e&&"object"===typeof e?s({x:void 0!==e.x?e.x:t&&t.x,y:void 0!==e.y?e.y:t&&t.y,z:void 0!==e.z?e.z:t&&t.z,w:void 0!==e.w?e.w:t&&t.w}):"string"!==typeof e||null===e?"object"===typeof t?r({},t):t:(n=e.trim().replace(/\s+/g," ").split(" "),i.x=n[0]||t&&t.x,i.y=n[1]||t&&t.y,i.z=n[2]||t&&t.z,i.w=n[3]||t&&t.w,s(i))}function a(e){return"object"!==typeof e?e:[e.x,e.y,e.z,e.w].join(" ").trim()}function s(e){return Object.keys(e).forEach((function(t){void 0!==e[t]?e[t]=parseFloat(e[t],10):delete e[t]})),e}t.exports.regex=i,t.exports.parse=o,t.exports.stringify=a,t.exports.isCoordinate=function(e){return i.test(e)},t.exports.toVector3=function(e){return new THREE.Vector3(e.x,e.y,e.z)}},{"object-assign":28}],163:[function(t,n,r){(function(r){var i=t("debug"),o=t("object-assign"),a={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}},s=function(e){var t=i(e);return t.color=c(e),t};function u(e){var t=e.split(":");return t[t.length-1]}function c(e){var t=u(e);return a.colors&&a.colors[t]||null}function l(){try{return window.localStorage}catch(e){}}o(s,i);var h=l();h&&(parseInt(h.logs,10)||"true"===h.logs)?s.enable("*"):s.enable("*:error,*:info,*:warn"),r.browser&&(window.logs=s),n.exports=s}).call(this,t("_process"))},{_process:9,debug:11,"object-assign":28}],164:[function(e,t,n){var r=e("../lib/three"),i=new r.Object3D,o=new r.VRControls(i);function a(){var e;return o.update(),0!==(e=i.quaternion)._x||0!==e._y||0!==e._z}function s(){var e=new r.Vector3;return!u()&&!l()&&(o.update(),i.updateMatrix(),e.setFromMatrixPosition(i.matrix),0!==e.x||0!==e.y||0!==e.z)}t.exports.checkHeadsetConnected=a,t.exports.checkHasPositionalTracking=s;var u=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),c()&&(t=!0),l()&&(t=!1),function(){return t}}();function c(){return/iPad|iPhone|iPod/.test(navigator.platform)}function l(){return/SamsungBrowser.+Mobile VR/i.test(navigator.userAgent)}t.exports.isMobile=u,t.exports.isIOS=c,t.exports.isGearVR=l,t.exports.isLandscape=function(){return 90===window.orientation||-90===window.orientation},t.exports.isIOSOlderThan10=function(e){return/(iphone|ipod|ipad).*os.(7|8|9)/i.test(e)}},{"../lib/three":146}],165:[function(e,t,n){t.exports.getComponentPropertyPath=function(e,t){return t=t||".",-1===e.indexOf(t)?e:e.split(t)},t.exports.getComponentProperty=function(e,t,n){var r;return n=n||".",-1!==t.indexOf(n)?(r=t.split(n),e.getAttribute(r[0])[r[1]]):e.getAttribute(t)},t.exports.setComponentProperty=function(e,t,n,r){var i;if(r=r||".",-1!==t.indexOf(r))return i=t.split(r),void e.setAttribute(i[0],i[1],n);e.setAttribute(t,n)}},{}],166:[function(e,t,n){t.exports=function(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout((function(){e.style.width=t,e.style.height=n}),200)}},{}],167:[function(e,t,n){var r=e("./debug"),i=e("deep-assign"),o=e("./device"),a=e("object-assign"),s=r("utils:warn");function u(e,t){var n,r,i,o,a;if("object"!==typeof e||"object"!==typeof t||null===e||null===t)return e===t;if(r=Object.keys(e),i=Object.keys(t),r.length!==i.length)return!1;for(n=0;n<r.length;++n)if(o=e[r[n]],a=t[r[n]],"object"===typeof o||"object"===typeof a||Array.isArray(o)&&Array.isArray(a)){if(!u(o,a))return!1}else if(o!==a)return!1;return!0}t.exports.bind=e("./bind"),t.exports.coordinates=e("./coordinates"),t.exports.debug=r,t.exports.device=o,t.exports.entity=e("./entity"),t.exports.forceCanvasResizeSafariMobile=e("./forceCanvasResizeSafariMobile"),t.exports.material=e("./material"),t.exports.styleParser=e("./styleParser"),t.exports.trackedControls=e("./tracked-controls"),t.exports.checkHeadsetConnected=function(){return s("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),o.checkHeadsetConnected(arguments)},t.exports.isGearVR=function(){return s("`utils.isGearVR` has moved to `utils.device.isGearVR`"),o.isGearVR(arguments)},t.exports.isIOS=function(){return s("`utils.isIOS` has moved to `utils.device.isIOS`"),o.isIOS(arguments)},t.exports.isMobile=function(){return s("`utils.isMobile has moved to `utils.device.isMobile`"),o.isMobile(arguments)},t.exports.throttle=function(e,n,r){var i;return r&&(e=t.exports.bind(e,r)),function(){var t=Date.now();("undefined"===typeof i||("undefined"===typeof i?n:t-i)>=n)&&(i=t,e.apply(null,arguments))}},t.exports.throttleTick=function(e,n,r){var i;return r&&(e=t.exports.bind(e,r)),function(t,r){var o="undefined"===typeof i?r:t-i;("undefined"===typeof i||o>=n)&&(i=t,e(t,o))}},t.exports.fireEvent=function(e,t,n){(n=n||{}).detail=n.detail||{},n.detail.target=n.detail.target||e;var r=new CustomEvent(t,n);e.dispatchEvent(r)},t.exports.extend=a,t.exports.extendDeep=i,t.exports.clone=function(e){return JSON.parse(JSON.stringify(e))},t.exports.deepEqual=u,t.exports.diff=function(e,t){var n={},r=Object.keys(e);return Object.keys(t).forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r.forEach((function(r){var i=e[r],o=t[r],a=i&&o&&i.constructor===Object&&o.constructor===Object;(a&&!u(i,o)||!a&&i!==o)&&(n[r]=o)})),n},t.exports.shouldCaptureKeyEvent=function(e){return!e.metaKey&&document.activeElement===document.body},t.exports.splitString=function(e,t){"undefined"===typeof t&&(t=" ");var n=new RegExp(t,"g");return(e=(e||"").replace(n,t)).split(t)},t.exports.getElData=function(e,t){t=t||{};var n={};function r(t){e.hasAttribute(t)&&(n[t]=e.getAttribute(t))}return Object.keys(t).forEach(r),n},t.exports.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},t.exports.isIframed=function(){return window.top!==window.self},t.exports.findAllScenes=function(e){for(var t=[],n=e.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&t.push(n[r]);return t},t.exports.srcLoader=e("./src-loader")},{"./bind":161,"./coordinates":162,"./debug":163,"./device":164,"./entity":165,"./forceCanvasResizeSafariMobile":166,"./material":168,"./src-loader":169,"./styleParser":170,"./tracked-controls":171,"deep-assign":14,"object-assign":28}],168:[function(e,t,n){var r=e("../lib/three");function i(e,t){t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",(function(){e.emit("materialvideoloadeddata",{src:t.image,texture:t})})),t.image.addEventListener("ended",(function(){e.emit("materialvideoended",{src:t.image,texture:t})}))))}t.exports.updateMapMaterialFromData=function(e,t,n,o){var a=n.el,s=n.material,u=o[t],c="_texture_"+t;if(u){if(u===n[c])return;return n[c]=u,u instanceof r.Texture?void l(u):void a.sceneEl.systems.material.loadTexture(u,{src:u,repeat:o.repeat,offset:o.offset,npot:o.npot},l)}function l(t){n[c]===u&&(s[e]=t,s.needsUpdate=!0,i(a,t))}s[e]&&(n[c]=null,l(null))},t.exports.updateMap=function(e,n){return t.exports.updateMapMaterialFromData("map","src",e,n)},t.exports.updateDistortionMap=function(e,t,n){var r=e;"ambientOcclusion"===e&&(r="ao");var o=t.el,a=t.material,s=n[e+"Map"],u={};if(u.src=s,u.offset=n[e+"TextureOffset"],u.repeat=n[e+"TextureRepeat"],u.wrap=n[e+"TextureWrap"],s){if(s===t[e+"TextureSrc"])return;return t[e+"TextureSrc"]=s,void o.sceneEl.systems.material.loadTexture(s,u,c)}function c(e){a[r+"Map"]=e,a.needsUpdate=!0,i(o,e)}a.map&&c(null)},t.exports.handleTextureEvents=i},{"../lib/three":146}],169:[function(t,n,r){var i=t("./debug")("utils:src-loader:warn");function o(e,t,n){u(e,(function(r){r?t(e):n(e)}))}function a(e,t){var n,r,a,u="",l=[];for(r=0;r<5;r++)u+="(url\\((?:[^\\)]+)\\),\\s*)";function h(e){l.push(e),6===l.length&&t(l)}if(u+="(url\\((?:[^\\)]+)\\)\\s*)",a=e.match(new RegExp(u)))for(r=1;r<7;r++)o(s(a[r]),h);else if(n=c(e))return"A-CUBEMAP"===n.tagName&&n.srcs?t(n.srcs):void i('Selector "%s" does not point to <a-cubemap>',e)}function s(e){var t=e.match(/\url\((.+)\)/);if(t)return t[1]}function u(e,t){var n=new Image;function r(){t(!0)}function i(){t(!1)}n.addEventListener("load",r),n.addEventListener("error",i),n.src=e}function c(t){try{var n=document.querySelector(t);return n||i('No element was found matching the selector: "%s"',t),n}catch(e){return void i('"%s" is not a valid selector',t)}}n.exports={parseUrl:s,validateSrc:o,validateCubemapSrc:a}},{"./debug":163}],170:[function(e,t,n){var r=e("style-attr");function i(e){return e.replace(/-([a-z])/g,t);function t(e){return e[1].toUpperCase()}}function o(e){var t=Object.keys(e),n={};return t.forEach((function(t){var r=i(t);n[r]=e[t]})),n}t.exports.parse=function(e){var t;return"string"!==typeof e||(t=r.parse(e))[""]?e:o(t)},t.exports.stringify=function(e){return"string"===typeof e?e:r.stringify(e)},t.exports.toCamelCase=i,t.exports.transformKeysToCamelCase=o},{"style-attr":37}],171:[function(e,t,n){t.exports.getGamepadsByPrefix=function(e){var t,n=[],r=navigator.getGamepads&&navigator.getGamepads();if(!r)return n;for(var i=0;i<r.length;++i)(t=r[i])&&(e&&0!==t.id.indexOf(e)||n.push(t));return n},t.exports.isControllerPresent=function(e,t,n){var r,i,o,a=!1,s=0,u=e&&e.systems["tracked-controls"];if(!u)return a;if((o=u.controllers)&&0!==o.length||(u.updateControllerList(),o=u.controllers),!o)return a;for(var c=0;c<o.length&&(r=o[c],(a=i=!t||""===t||0===r.id.indexOf(t))&&n.hand&&(a=r.hand===n.hand),a&&n.index&&(a=s===n.index),!a);++c)i&&s++;return a}},{}],172:[function(e,t,n){THREE.VRControls=function(e,t){var n,r,i=this,o=new THREE.Matrix4,a=null;function s(e){r=e,e.length>0?n=e[0]:t&&t("VR input not available.")}"VRFrameData"in window&&(a=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(s).catch((function(){console.warn("THREE.VRControls: Unable to get VR Displays")})),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return n},this.setVRDisplay=function(e){n=e},this.getVRDisplays=function(){return console.warn("THREE.VRControls: getVRDisplays() is being deprecated."),r},this.getStandingMatrix=function(){return o},this.update=function(){var t;n&&(n.getFrameData?(n.getFrameData(a),t=a.pose):n.getPose&&(t=n.getPose()),null!==t.orientation&&e.quaternion.fromArray(t.orientation),null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),this.standing&&(n.stageParameters?(e.updateMatrix(),o.fromArray(n.stageParameters.sittingToStandingTransform),e.applyMatrix(o)):e.position.setY(e.position.y+this.userHeight)),e.position.multiplyScalar(i.scale))},this.resetPose=function(){n&&n.resetPose()},this.resetSensor=function(){console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."),this.resetPose()},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."),this.resetPose()},this.dispose=function(){n=null}}},{}],173:[function(e,t,n){THREE.VREffect=function(e,t){var n,r,i,o,a=new THREE.Vector3,s=new THREE.Vector3,u=null;function c(e){r=e,e.length>0?n=e[0]:t&&t("HMD not available")}"VRFrameData"in window&&(u=new window.VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(c).catch((function(){console.warn("THREE.VREffect: Unable to get VR Displays")})),this.isPresenting=!1;var l=this,h=e.getSize(),f=!1,d=e.getPixelRatio();this.getVRDisplay=function(){return n},this.setVRDisplay=function(e){n=e},this.getVRDisplays=function(){return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."),r},this.setSize=function(t,r,i){if(h={width:t,height:r},f=i,l.isPresenting){var o=n.getEyeParameters("left");e.setPixelRatio(1),e.setSize(2*o.renderWidth,o.renderHeight,!1)}else e.setPixelRatio(d),e.setSize(t,r,i)};var p=e.domElement,m=[0,0,.5,1],g=[.5,0,.5,1];function v(){var t=l.isPresenting;if(l.isPresenting=void 0!==n&&n.isPresenting,l.isPresenting){var r=n.getEyeParameters("left"),i=r.renderWidth,o=r.renderHeight;t||(d=e.getPixelRatio(),h=e.getSize(),e.setPixelRatio(1),e.setSize(2*i,o,!1))}else t&&(e.setPixelRatio(d),e.setSize(h.width,h.height,f))}window.addEventListener("vrdisplaypresentchange",v,!1),this.setFullScreen=function(e){return new Promise((function(t,r){void 0!==n?l.isPresenting!==e?t(e?n.requestPresent([{source:p}]):n.exitPresent()):t():r(new Error("No VR hardware found."))}))},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(e){return void 0!==n?n.requestAnimationFrame(e):window.requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){void 0!==n?n.cancelAnimationFrame(e):window.cancelAnimationFrame(e)},this.submitFrame=function(){void 0!==n&&l.isPresenting&&n.submitFrame()},this.autoSubmitFrame=!0;var y=new THREE.PerspectiveCamera;y.layers.enable(1);var b=new THREE.PerspectiveCamera;function x(e){var t=2/(e.leftTan+e.rightTan),n=(e.leftTan-e.rightTan)*t*.5,r=2/(e.upTan+e.downTan);return{scale:[t,r],offset:[n,(e.upTan-e.downTan)*r*.5]}}function E(e,t,n,r){n=void 0===n?.01:n,r=void 0===r?1e4:r;var i=(t=void 0===t||t)?-1:1,o=new THREE.Matrix4,a=o.elements,s=x(e);return a[0]=s.scale[0],a[1]=0,a[2]=s.offset[0]*i,a[3]=0,a[4]=0,a[5]=s.scale[1],a[6]=-s.offset[1]*i,a[7]=0,a[8]=0,a[9]=0,a[10]=r/(n-r)*-i,a[11]=r*n/(n-r),a[12]=0,a[13]=0,a[14]=i,a[15]=0,o.transpose(),o}function w(e,t,n,r){var i=Math.PI/180;return E({upTan:Math.tan(e.upDegrees*i),downTan:Math.tan(e.downDegrees*i),leftTan:Math.tan(e.leftDegrees*i),rightTan:Math.tan(e.rightDegrees*i)},t,n,r)}b.layers.enable(2),this.render=function(t,r,c,h){if(n&&l.isPresenting){var f=t.autoUpdate;f&&(t.updateMatrixWorld(),t.autoUpdate=!1);var d=n.getEyeParameters("left"),p=n.getEyeParameters("right");a.fromArray(d.offset),s.fromArray(p.offset),Array.isArray(t)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),t=t[0]);var v,x,E=e.getSize(),M=n.getLayers();if(M.length){var A=M[0];v=null!==A.leftBounds&&4===A.leftBounds.length?A.leftBounds:m,x=null!==A.rightBounds&&4===A.rightBounds.length?A.rightBounds:g}else v=m,x=g;return i={x:Math.round(E.width*v[0]),y:Math.round(E.height*v[1]),width:Math.round(E.width*v[2]),height:Math.round(E.height*v[3])},o={x:Math.round(E.width*x[0]),y:Math.round(E.height*x[1]),width:Math.round(E.width*x[2]),height:Math.round(E.height*x[3])},c?(e.setRenderTarget(c),c.scissorTest=!0):(e.setRenderTarget(null),e.setScissorTest(!0)),(e.autoClear||h)&&e.clear(),null===r.parent&&r.updateMatrixWorld(),r.matrixWorld.decompose(y.position,y.quaternion,y.scale),b.position.copy(y.position),b.quaternion.copy(y.quaternion),b.scale.copy(y.scale),y.translateOnAxis(a,y.scale.x),b.translateOnAxis(s,b.scale.x),n.getFrameData?(n.depthNear=r.near,n.depthFar=r.far,n.getFrameData(u),y.projectionMatrix.elements=u.leftProjectionMatrix,b.projectionMatrix.elements=u.rightProjectionMatrix):(y.projectionMatrix=w(d.fieldOfView,!0,r.near,r.far),b.projectionMatrix=w(p.fieldOfView,!0,r.near,r.far)),c?(c.viewport.set(i.x,i.y,i.width,i.height),c.scissor.set(i.x,i.y,i.width,i.height)):(e.setViewport(i.x,i.y,i.width,i.height),e.setScissor(i.x,i.y,i.width,i.height)),e.render(t,y,c,h),c?(c.viewport.set(o.x,o.y,o.width,o.height),c.scissor.set(o.x,o.y,o.width,o.height)):(e.setViewport(o.x,o.y,o.width,o.height),e.setScissor(o.x,o.y,o.width,o.height)),e.render(t,b,c,h),c?(c.viewport.set(0,0,E.width,E.height),c.scissor.set(0,0,E.width,E.height),c.scissorTest=!1,e.setRenderTarget(null)):(e.setViewport(0,0,E.width,E.height),e.setScissorTest(!1)),f&&(t.autoUpdate=!0),void(l.autoSubmitFrame&&l.submitFrame())}e.render(t,r,c,h)},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",v,!1)}}},{}],174:[function(e,t,n){window.glStats=function(){var e=null,t=0,n=0,r=0,i=0,o=0,a=0,s=0;function u(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(){e("allcalls").set(t+n),e("drawElements").set(n),e("drawArrays").set(t),e("bindTexture").set(s),e("useProgram").set(r),e("glfaces").set(i),e("glvertices").set(o),e("glpoints").set(a)}function l(){t=0,n=0,r=0,i=0,o=0,a=0,s=0}function h(){}function f(t){e=t}return WebGLRenderingContext.prototype.drawArrays=u(WebGLRenderingContext.prototype.drawArrays,(function(){t++,arguments[0]==this.POINTS?a+=arguments[2]:o+=arguments[2]})),WebGLRenderingContext.prototype.drawElements=u(WebGLRenderingContext.prototype.drawElements,(function(){n++,i+=arguments[1]/3,o+=arguments[1]})),WebGLRenderingContext.prototype.useProgram=u(WebGLRenderingContext.prototype.useProgram,(function(){r++})),WebGLRenderingContext.prototype.bindTexture=u(WebGLRenderingContext.prototype.bindTexture,(function(){s++})),{update:c,start:l,end:h,attach:f,values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;function n(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs.length),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.faces").set(e.info.render.faces),t("renderer.info.render.points").set(e.info.render.points),t("renderer.info.render.vertices").set(e.info.render.vertices)}function r(){}function i(){}function o(e){t=e}return{update:n,start:r,end:i,attach:o,values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],fractions:[]}},window.BrowserStats=function(){var e=null,t=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},i=[{caption:"Browser",values:["memory","total"]}],o=[{base:"total",steps:["memory"]}],a=Math.log(1024);function s(e){var t=100,n=Math.floor(Math.log(e)/a);return Math.round(e*t/Math.pow(1024,n))/t}function u(){t=s(performance.memory.usedJSHeapSize),n=s(performance.memory.totalJSHeapSize),e("memory").set(t),e("total").set(n)}function c(){t=0}function l(){}function h(t){e=t}return{update:u,start:c,end:l,attach:h,values:r,groups:i,fractions:o}},"object"===typeof t&&(t.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats})},{}],175:[function(e,t,n){"use strict";!function(){if("undefined"===typeof window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),r=0,i=n.length;r<i;r++)t(n[r])}function n(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}var r=e||{},i=r.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],o="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",a=(r.CSSPath?r.CSSPath:"")+"rStats.css";(r.css||[o,a]).forEach((function(e){n(e)})),r.values||(r.values={});var s,u,c=10,l=200,h={};function f(e,t,n){var r=n||{},i=document.createElement("canvas"),o=i.getContext("2d"),a=0,s=0,u=r.color?r.color:"#666666",h=document.createElement("canvas"),f=h.getContext("2d");h.width=1,h.height=2*c,f.fillStyle="#444444",f.fillRect(0,0,1,2*c),f.fillStyle=u,f.fillRect(0,c,1,c),f.fillStyle="#ffffff",f.globalAlpha=.5,f.fillRect(0,c,1,1),f.globalAlpha=1;var d=document.createElement("canvas"),p=d.getContext("2d");function m(){i.width=l,i.height=c,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height)}function g(e,t){(s+=.1*(e-s))>(a*=.99)&&(a=s),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?o.drawImage(d,i.width-1,i.height-s*i.height/a-c):o.drawImage(h,i.width-1,i.height-s*i.height/a-c)}return d.width=1,d.height=2*c,p.fillStyle="#444444",p.fillRect(0,0,1,2*c),p.fillStyle="#b70000",p.fillRect(0,c,1,c),p.globalAlpha=.5,p.fillStyle="#ffffff",p.fillRect(0,c,1,1),p.globalAlpha=1,m(),{draw:g}}function d(e,n){var r=document.createElement("canvas"),o=r.getContext("2d");function a(){r.width=l,r.height=c*n,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),o.fillStyle="#444444",o.fillRect(0,0,r.width,r.height)}function s(e){o.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height);var n=0;t(e,(function(t){var a=e[t]*r.height;o.fillStyle=i[t],o.fillRect(r.width-1,n,1,a),n+=a}))}return a(),{draw:s}}function p(e,t){var n,i=e,o=0,a=0,s=0,c=0,l=performance.now(),h=0,d=document.createElement("div"),p=document.createElement("span"),m=document.createElement("div"),g=document.createTextNode(""),v=r?r.values[i.toLowerCase()]:null,y=new f(d,i,v),b=!1;function x(e){if(v&&v.average){c+=e,h++;var t=performance.now();t-l>=(v.avgMs||1e3)&&(s=c/h,c=0,l=t,h=0)}}function E(){n=performance.now(),r.userTimingAPI&&performance.mark(i+"-start"),b=!0}function w(){o=performance.now()-n,r.userTimingAPI&&(performance.mark(i+"-end"),b&&performance.measure(i,i+"-start",i+"-end")),x(o)}function M(){w(),E()}function A(){var e=v&&v.average?s:o;g.nodeValue=Math.round(100*e)/100;var t=v&&(v.below&&o<v.below||v.over&&o>v.over);y.draw(o,t),d.className=t?"rs-counter-base alarm":"rs-counter-base"}function _(){var e=performance.now(),t=e-n;a++,t>1e3&&(o=v&&!1===v.interpolate?a:1e3*a/t,a=0,n=e,x(o))}function T(e){x(o=e)}return p.className="rs-counter-id",p.textContent=v&&v.caption?v.caption:i,m.className="rs-counter-value",m.appendChild(g),d.appendChild(p),d.appendChild(m),t?t.div.appendChild(d):u.appendChild(d),n=performance.now(),{set:T,start:E,tick:M,end:w,frame:_,value:function(){return o},draw:A}}function m(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),h[n])return h[n];var i=null;r&&r.groups&&t(r.groups,(function(e){var t=r.groups[parseInt(e,10)];i||-1===t.values.indexOf(n.toLowerCase())||(i=t)}));var o=new p(n,i);return h[n]=o,o}function g(){if(r.plugins){r.values||(r.values={}),r.groups||(r.groups=[]),r.fractions||(r.fractions=[]);for(var e=0;e<r.plugins.length;e++)r.plugins[e].attach(m),t(r.plugins[e].values,(function(t){r.values[t]=r.plugins[e].values[t]})),r.groups=r.groups.concat(r.plugins[e].groups),r.fractions=r.fractions.concat(r.plugins[e].fractions)}else r.plugins={};(s=document.createElement("div")).className="rs-base",(u=document.createElement("div")).className="rs-container",u.style.height="auto",s.appendChild(u),document.body.appendChild(s),r&&(r.groups&&t(r.groups,(function(e){var t=r.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var i=document.createElement("h1");i.textContent=t.caption,i.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),u.appendChild(i),u.appendChild(n)})),r.fractions&&t(r.fractions,(function(e){var n=r.fractions[parseInt(e,10)],o=document.createElement("div");o.className="rs-fraction";var a=document.createElement("div");a.className="rs-legend";var s=0;t(r.fractions[e].steps,(function(t){var n=document.createElement("p");n.textContent=r.fractions[e].steps[t],n.style.color=i[s],a.appendChild(n),s++})),o.appendChild(a),o.style.height=s*c+"px",n.div=o;var l=new d(o,s);n.graph=l,u.appendChild(o)})))}function v(){t(r.plugins,(function(e){r.plugins[e].update()})),t(h,(function(e){h[e].draw()})),r&&r.fractions&&t(r.fractions,(function(e){var n=r.fractions[parseInt(e,10)],i=[],o=h[n.base.toLowerCase()];o&&(o=o.value(),t(r.fractions[e].steps,(function(t){var n=r.fractions[e].steps[parseInt(t,10)].toLowerCase(),a=h[n];a&&i.push(a.value()/o)}))),n.graph.draw(i)}))}return g(),function(e){return e?m(e):{element:s,update:v}}},"object"===typeof t&&(t.exports=window.rStats)},{}],176:[function(t,n,r){var i={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,n){var r=e.indexOf("?")<0?"?":"&";return e+=r+t+"="+n},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};n.exports=i},{}],177:[function(e,t,n){var r=e("./util.js");function i(){var e=document.createElement("video");e.addEventListener("ended",(function(){e.play()})),this.request=function(){e.paused&&(e.src=r.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}function o(){var e=null;this.request=function(){e||(e=setInterval((function(){window.location=window.location,setTimeout(window.stop,0)}),3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function a(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?o:i}t.exports=a()},{"./util.js":176}]},{},[144])(144)}()},7046:function(t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){var t,n="1.1.3",r={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],o="transform",a={arr:function(e){return Array.isArray(e)},obj:function(e){return Object.prototype.toString.call(e).indexOf("Object")>-1},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||a.svg(e)},num:function(e){return!isNaN(parseInt(e))},str:function(e){return"string"===typeof e},fnc:function(e){return"function"===typeof e},und:function(e){return"undefined"===typeof e},nul:function(e){return"null"===typeof e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return a.hex(e)||a.rgb(e)||a.hsl(e)}},s=function(){var e={},t={Sine:function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e,t){if(0===e||1===e)return e;var n=1-Math.min(t,998)/1e3,r=e/1-1,i=n/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*r)*Math.sin((r-i)*(2*Math.PI)/n)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,n){t[e]=function(e){return Math.pow(e,n+2)}})),Object.keys(t).forEach((function(n){var r=t[n];e["easeIn"+n]=r,e["easeOut"+n]=function(e,t){return 1-r(1-e,t)},e["easeInOut"+n]=function(e,t){return e<.5?r(2*e,t)/2:1-r(-2*e+2,t)/2},e["easeOutIn"+n]=function(e,t){return e<.5?(1-r(1-2*e,t))/2:(r(2*e-1,t)+1)/2}})),e.linear=function(e){return e},e}(),u=function(e){return a.str(e)?e:e+""},c=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},l=function(t){if(a.col(t))return!1;try{return document.querySelectorAll(t)}catch(e){return!1}},h=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},f=function e(t){return t.reduce((function(t,n){return t.concat(a.arr(n)?e(n):n)}),[])},d=function(e){return a.arr(e)?e:(a.str(e)&&(e=l(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])},p=function(e,t){return e.some((function(e){return e===t}))},m=function(e,t){var n={};return e.forEach((function(e){var r=JSON.stringify(t.map((function(t){return e[t]})));n[r]=n[r]||[],n[r].push(e)})),Object.keys(n).map((function(e){return n[e]}))},g=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},v=function(e){var t={};for(var n in e)t[n]=e[n];return t},y=function(e,t){for(var n in t)e[n]=a.und(e[n])?t[n]:e[n];return e},b=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=(e=e.replace(t,(function(e,t,n,r){return t+t+n+n+r+r})),/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e));return"rgb("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+")"},x=function(e){e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e);var t,n,r,i=parseInt(e[1])/360,o=parseInt(e[2])/100,a=parseInt(e[3])/100,s=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e};if(0==o)t=n=r=a;else{var u=a<.5?a*(1+o):a+o-a*o,c=2*a-u;t=s(c,u,i+1/3),n=s(c,u,i),r=s(c,u,i-1/3)}return"rgb("+255*t+","+255*n+","+255*r+")"},E=function(e){return a.rgb(e)?e:a.hex(e)?b(e):a.hsl(e)?x(e):void 0},w=function(e){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(e)[2]},M=function(e,t,n){return w(t)?t:e.indexOf("translate")>-1?w(n)?t+w(n):t+"px":e.indexOf("rotate")>-1||e.indexOf("skew")>-1?t+"deg":t},A=function(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(c(t))||"0"},_=function(e,t){var n=t.indexOf("scale")>-1?1:0,r=e.style.transform;if(!r)return n;for(var i=/(\w+)\((.+?)\)/g,o=[],a=[],s=[];o=i.exec(r);)a.push(o[1]),s.push(o[2]);var u=s.filter((function(e,n){return a[n]===t}));return u.length?u[0]:n},T=function(e,t){return a.dom(e)&&p(i,t)?"transform":a.dom(e)&&(e.getAttribute(t)||a.svg(e)&&e[t])?"attribute":a.dom(e)&&"transform"!==t&&A(e,t)?"css":a.nul(e[t])||a.und(e[t])?void 0:"object"},S=function(e,t){switch(T(e,t)){case"transform":return _(e,t);case"css":return A(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0},N=function(e,t,n){if(a.col(t))return E(t);if(w(t))return t;var r=w(e.to)?w(e.to):w(e.from);return!r&&n&&(r=w(n)),r?t+r:t},C=function(e){var t=/-?\d*\.?\d+/g;return{original:e,numbers:u(e).match(t)?u(e).match(t).map(Number):[0],strings:u(e).split(t)}},I=function(e,t,n){return t.reduce((function(t,r,i){return r=r||n[i-1],t+e[i-1]+r}))},L=function(e){return(e=e?f(a.arr(e)?e.map(d):d(e)):[]).map((function(e,t){return{target:e,id:t}}))},D=function(e,t){var n=[];for(var i in e)if(!r.hasOwnProperty(i)&&"targets"!==i){var o=a.obj(e[i])?v(e[i]):{value:e[i]};o.name=i,n.push(y(o,t))}return n},O=function(e,t,n,r){var i=d(a.fnc(n)?n(e,r):n);return{from:i.length>1?i[0]:S(e,t),to:i.length>1?i[1]:i[0]}},R=function(e,t,n,r){var i={};if("transform"===n)i.from=e+"("+M(e,t.from,t.to)+")",i.to=e+"("+M(e,t.to)+")";else{var o="css"===n?A(r,e):void 0;i.from=N(t,t.from,o),i.to=N(t,t.to,o)}return{from:C(i.from),to:C(i.to)}},P=function(e,t){var n=[];return e.forEach((function(r,i){var o=r.target;return t.forEach((function(t){var s=T(o,t.name);if(s){var u=O(o,t.name,t.value,i),c=v(t);c.animatables=r,c.type=s,c.from=R(t.name,u,c.type,o).from,c.to=R(t.name,u,c.type,o).to,c.round=a.col(u.from)||c.round?1:0,c.delay=(a.fnc(c.delay)?c.delay(o,i,e.length):c.delay)/Z.speed,c.duration=(a.fnc(c.duration)?c.duration(o,i,e.length):c.duration)/Z.speed,n.push(c)}}))})),n},j=function(e,t){var n=P(e,t);return m(n,["name","from","to","delay","duration"]).map((function(e){var t=v(e[0]);return t.animatables=e.map((function(e){return e.animatables})),t.totalDuration=t.delay+t.duration,t}))},k=function(e,t){e.tweens.forEach((function(n){var r=n.to,i=n.from,o=e.duration-(n.delay+n.duration);n.from=r,n.to=i,t&&(n.delay=o)})),e.reversed=!e.reversed},U=function(e){return Math.max.apply(Math,e.map((function(e){return e.totalDuration})))},F=function(e){return Math.min.apply(Math,e.map((function(e){return e.delay})))},z=function(e){var t=[],n=[];return e.tweens.forEach((function(e){"css"!==e.type&&"transform"!==e.type||(t.push("css"===e.type?c(e.name):"transform"),e.animatables.forEach((function(e){n.push(e.target)})))})),{properties:g(t).join(", "),elements:g(n)}},B=function(e){var t=z(e);t.elements.forEach((function(e){e.style.willChange=t.properties}))},G=function(e){z(e).elements.forEach((function(e){e.style.removeProperty("will-change")}))},H=function(e){var t=a.str(e)?l(e)[0]:e;return{path:t,value:t.getTotalLength()}},V=function(e,t){var n=e.path,r=e.value*t,i=function(i){var o=i||0,a=t>1?e.value+o:r+o;return n.getPointAtLength(a)},o=i(),a=i(-1),s=i(1);switch(e.name){case"translateX":return o.x;case"translateY":return o.y;case"rotate":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}},Y=function(e,t){var n=Math.min(Math.max(t-e.delay,0),e.duration)/e.duration,r=e.to.numbers.map((function(t,r){var i=e.from.numbers[r],o=s[e.easing](n,e.elasticity),a=e.path?V(e,o):i+o*(t-i);return a=e.round?Math.round(a*e.round)/e.round:a}));return I(r,e.to.strings,e.from.strings)},W=function(e,n){var r;e.currentTime=n,e.progress=n/e.duration*100;for(var i=0;i<e.tweens.length;i++){var a=e.tweens[i];a.currentValue=Y(a,n);for(var s=a.currentValue,u=0;u<a.animatables.length;u++){var c=a.animatables[u],l=c.id,h=c.target,f=a.name;switch(a.type){case"css":h.style[f]=s;break;case"attribute":h.setAttribute(f,s);break;case"object":h[f]=s;break;case"transform":r||(r={}),r[l]||(r[l]=[]),r[l].push(s)}}}if(r)for(var i in t||(t=(A(document.body,o)?"":"-webkit-")+o),r)e.animatables[i].target.style[t]=r[i].join(" ")},X=function(e){var t={};return t.animatables=L(e.targets),t.settings=y(e,r),t.properties=D(e,t.settings),t.tweens=j(t.animatables,t.properties),t.duration=t.tweens.length?U(t.tweens):e.duration,t.delay=t.tweens.length?F(t.tweens):e.delay,t.currentTime=0,t.progress=0,t.ended=!1,t},Q=[],q=0,K=function(){var e=function(){q=requestAnimationFrame(t)},t=function(t){if(Q.length){for(var n=0;n<Q.length;n++)Q[n].tick(t);e()}else cancelAnimationFrame(q),q=0};return e}(),Z=function(e){var t=X(e),n={};return t.tick=function(e){t.ended=!1,n.start||(n.start=e),n.current=Math.min(Math.max(n.last+e-n.start,0),t.duration),W(t,n.current);var r=t.settings;n.current>=t.delay&&(r.begin&&r.begin(t),r.begin=void 0,r.update&&r.update(t)),n.current>=t.duration&&(r.loop?(n.start=e,"alternate"===r.direction&&k(t,!0),a.num(r.loop)&&r.loop--):(t.ended=!0,t.pause(),r.complete&&r.complete(t)),n.last=0)},t.seek=function(e){W(t,e/100*t.duration)},t.pause=function(){G(t);var e=Q.indexOf(t);e>-1&&Q.splice(e,1)},t.play=function(e){t.pause(),e&&(t=y(X(y(e,t.settings)),t)),n.start=0,n.last=t.ended?0:t.currentTime;var r=t.settings;"reverse"===r.direction&&k(t),"alternate"!==r.direction||r.loop||(r.loop=1),B(t),Q.push(t),q||K()},t.restart=function(){t.reversed&&k(t),t.pause(),t.seek(0),t.play()},t.settings.autoplay&&t.play(),t},J=function(e){for(var t=f(a.arr(e)?e.map(d):d(e)),n=Q.length-1;n>=0;n--)for(var r=Q[n],i=r.tweens,o=i.length-1;o>=0;o--)for(var s=i[o].animatables,u=s.length-1;u>=0;u--)p(t,s[u].target)&&(s.splice(u,1),s.length||i.splice(o,1),i.length||r.pause())};return Z.version=n,Z.speed=1,Z.list=Q,Z.remove=J,Z.easings=s,Z.getValue=S,Z.path=H,Z.random=h,Z})?r.apply(n,i):r)||(t.exports=o)},69998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},73872:function(e,t,n){"use strict";if(n(51505),n(65580),n(55273),n.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");n.g._babelPolyfill=!0;function r(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&r(Array,e,Function.call.bind([][e]))}))},65580:function(e,t,n){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=b;var l="suspendedStart",h="suspendedYield",f="executing",d="completed",p={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(I([])));v&&v!==r&&i.call(v,a)&&(m=v);var y=M.prototype=E.prototype=Object.create(m);w.prototype=y.constructor=M,M.constructor=w,M[u]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,M):(e.__proto__=M,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},A(_.prototype),_.prototype[s]=function(){return this},c.AsyncIterator=_,c.async=function(e,t,n,r){var i=new _(b(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(y),y[u]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=I,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function b(e,t,n,r){var i=t&&t.prototype instanceof E?t:E,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=x(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function E(){}function w(){}function M(){}function A(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){function n(t,r,o,a){var s=x(e[t],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(c).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}var r;"object"===typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function i(){return new Promise((function(r,i){n(e,t,r,i)}))}return r=r?r.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=x(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}("object"===typeof n.g?n.g:"object"===typeof window?window:"object"===typeof self?self:this)},81694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},55273:function(e,t,n){n(76451),e.exports=n(68777).RegExp.escape},97303:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},58028:function(e,t,n){var r=n(58445);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},89196:function(e,t,n){var r=n(71732)("unscopables"),i=Array.prototype;void 0==i[r]&&n(27616)(i,r,{}),e.exports=function(e){i[r][e]=!0}},14300:function(e,t,n){"use strict";var r=n(3031)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},89091:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},35995:function(e,t,n){var r=n(51342);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},54452:function(e,t,n){"use strict";var r=n(28148),i=n(33209),o=n(34988);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),h=1;for(u<s&&s<u+l&&(h=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},81902:function(e,t,n){"use strict";var r=n(28148),i=n(33209),o=n(34988);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},53157:function(e,t,n){var r=n(43948);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},26083:function(e,t,n){var r=n(54482),i=n(34988),o=n(33209);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},37046:function(e,t,n){var r=n(10622),i=n(54477),o=n(28148),a=n(34988),s=n(49509);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,h=6==e,f=5==e||h,d=t||s;return function(t,s,p){for(var m,g,v=o(t),y=i(v),b=r(s,p,3),x=a(y.length),E=0,w=n?d(t,x):u?d(t,0):void 0;x>E;E++)if((f||E in y)&&(g=b(m=y[E],E,v),e))if(n)w[E]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return E;case 2:w.push(m)}else if(l)return!1;return h?-1:c||l?l:w}}},18749:function(e,t,n){var r=n(97303),i=n(28148),o=n(54477),a=n(34988);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),h=a(c.length),f=u?h-1:0,d=u?-1:1;if(n<2)for(;;){if(f in l){s=l[f],f+=d;break}if(f+=d,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=d)f in l&&(s=t(s,l[f],f,c));return s}},2645:function(e,t,n){var r=n(51342),i=n(63666),o=n(71732)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},49509:function(e,t,n){var r=n(2645);e.exports=function(e,t){return new(r(e))(t)}},71084:function(e,t,n){"use strict";var r=n(97303),i=n(51342),o=n(93298),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function r(){var i=n.concat(a.call(arguments));return this instanceof r?u(t,i.length,i):o(t,i,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},55161:function(t,n,r){var i=r(58445),o=r(71732)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(t){var n,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(e){}}(n=Object(t),o))?r:a?i(n):"Object"==(s=i(n))&&"function"==typeof n.callee?"Arguments":s}},58445:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},59284:function(e,t,n){"use strict";var r=n(68063).f,i=n(75195),o=n(53803),a=n(10622),s=n(89091),u=n(43948),c=n(95271),l=n(37757),h=n(87381),f=n(23568),d=n(62255).fastKey,p=n(78118),m=f?"_s":"size",g=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=r&&u(r,n,e[c],e)}));return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),r=g(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),f&&r(l.prototype,"size",{get:function(){return p(this,t)[m]}}),l},def:function(e,t,n){var r,i,o=g(e,t);return o?o.v=n:(e._l=o={i:i=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,l(1))}),n?"entries":"values",!n,!0),h(t)}}},61216:function(e,t,n){var r=n(55161),i=n(53157);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},40275:function(e,t,n){"use strict";var r=n(53803),i=n(62255).getWeak,o=n(35995),a=n(51342),s=n(89091),u=n(43948),c=n(37046),l=n(35701),h=n(78118),f=c(5),d=c(6),p=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return f(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},60620:function(e,t,n){"use strict";var r=n(51079),i=n(46129),o=n(25281),a=n(53803),s=n(62255),u=n(43948),c=n(89091),l=n(51342),h=n(44353),f=n(80770),d=n(4200),p=n(96919);e.exports=function(e,t,n,m,g,v){var y=r[e],b=y,x=g?"set":"add",E=b&&b.prototype,w={},M=function(e){var t=E[e];o(E,e,"delete"==e||"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||E.forEach&&!h((function(){(new b).entries().next()})))){var A=new b,_=A[x](v?{}:-0,1)!=A,T=h((function(){A.has(1)})),S=f((function(e){new b(e)})),N=!v&&h((function(){for(var e=new b,t=5;t--;)e[x](t,t);return!e.has(-0)}));S||((b=t((function(t,n){c(t,b,e);var r=p(new y,t,b);return void 0!=n&&u(n,g,r[x],r),r}))).prototype=E,E.constructor=b),(T||N)&&(M("delete"),M("has"),g&&M("get")),(N||_)&&M(x),v&&E.clear&&delete E.clear}else b=m.getConstructor(t,e,g,x),a(b.prototype,n),s.NEED=!0;return d(b,e),w[e]=b,i(i.G+i.W+i.F*(b!=y),w),v||m.setStrong(b,e,g),b}},68777:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},6820:function(e,t,n){"use strict";var r=n(68063),i=n(64750);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},10622:function(e,t,n){var r=n(97303);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},36104:function(e,t,n){"use strict";var r=n(44353),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},77602:function(e,t,n){"use strict";var r=n(35995),i=n(85253),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},79934:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},23568:function(e,t,n){e.exports=!n(44353)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},66200:function(e,t,n){var r=n(51342),i=n(51079).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},52209:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},39130:function(e,t,n){var r=n(68062),i=n(90377),o=n(83343);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},46129:function(e,t,n){var r=n(51079),i=n(68777),o=n(27616),a=n(25281),s=n(10622),u=function e(t,n,u){var c,l,h,f,d=t&e.F,p=t&e.G,m=t&e.P,g=t&e.B,v=p?r:t&e.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=p?i:i[n]||(i[n]={}),b=y.prototype||(y.prototype={});for(c in p&&(u=n),u)h=((l=!d&&v&&void 0!==v[c])?v:u)[c],f=g&&l?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,v&&a(v,c,h,t&e.U),y[c]!=h&&o(y,c,f),m&&b[c]!=h&&(b[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},68589:function(t,n,r){var i=r(71732)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(r){}}return!0}},44353:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},81086:function(e,t,n){"use strict";n(43927);var r=n(25281),i=n(27616),o=n(44353),a=n(79934),s=n(71732),u=n(12324),c=s("species"),l=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=s(e),d=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=d?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!t})):void 0;if(!d||!p||"replace"===e&&!l||"split"===e&&!h){var m=/./[f],g=n(a,f,""[e],(function(e,t,n,r,i){return t.exec===u?d&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=g[0],y=g[1];r(String.prototype,e,v),i(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},45253:function(e,t,n){"use strict";var r=n(35995);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},8237:function(e,t,n){"use strict";var r=n(63666),i=n(51342),o=n(34988),a=n(10622),s=n(71732)("isConcatSpreadable");e.exports=function e(t,n,u,c,l,h,f,d){for(var p,m,g=l,v=0,y=!!f&&a(f,d,3);v<c;){if(v in u){if(p=y?y(u[v],v,n):u[v],m=!1,i(p)&&(m=void 0!==(m=p[s])?!!m:r(p)),m&&h>0)g=e(t,n,p,o(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}v++}return g}},43948:function(e,t,n){var r=n(10622),i=n(33802),o=n(41010),a=n(35995),s=n(34988),u=n(61641),c={},l={},h=e.exports=function(e,t,n,h,f){var d,p,m,g,v=f?function(){return e}:u(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(d=s(e.length);d>b;b++)if((g=t?y(a(p=e[b])[0],p[1]):y(e[b]))===c||g===l)return g}else for(m=v.call(e);!(p=m.next()).done;)if((g=i(m,y,p.value,t))===c||g===l)return g};h.BREAK=c,h.RETURN=l},57581:function(e,t,n){e.exports=n(87673)("native-function-to-string",Function.toString)},51079:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},35701:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},27616:function(e,t,n){var r=n(68063),i=n(64750);e.exports=n(23568)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},19850:function(e,t,n){var r=n(51079).document;e.exports=r&&r.documentElement},55140:function(e,t,n){e.exports=!n(23568)&&!n(44353)((function(){return 7!=Object.defineProperty(n(66200)("div"),"a",{get:function(){return 7}}).a}))},96919:function(e,t,n){var r=n(51342),i=n(3880).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},93298:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},54477:function(e,t,n){var r=n(58445);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},41010:function(e,t,n){var r=n(83447),i=n(71732)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},63666:function(e,t,n){var r=n(58445);e.exports=Array.isArray||function(e){return"Array"==r(e)}},49830:function(e,t,n){var r=n(51342),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},51342:function(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},82720:function(e,t,n){var r=n(51342),i=n(58445),o=n(71732)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},33802:function(t,n,r){var i=r(35995);t.exports=function(t,n,r,o){try{return o?n(i(r)[0],r[1]):n(r)}catch(e){var a=t.return;throw void 0!==a&&i(a.call(t)),e}}},33694:function(e,t,n){"use strict";var r=n(75195),i=n(64750),o=n(4200),a={};n(27616)(a,n(71732)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},95271:function(e,t,n){"use strict";var r=n(29775),i=n(46129),o=n(25281),a=n(27616),s=n(83447),u=n(33694),c=n(4200),l=n(59543),h=n(71732)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){u(n,t,g);var x,E,w,M=function(e){if(!f&&e in S)return S[e];switch(e){case d:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",_=v==p,T=!1,S=e.prototype,N=S[h]||S["@@iterator"]||v&&S[v],C=N||M(v),I=v?_?M("entries"):C:void 0,L="Array"==t&&S.entries||N;if(L&&(w=l(L.call(new e)))!==Object.prototype&&w.next&&(c(w,A,!0),r||"function"==typeof w[h]||a(w,h,m)),_&&N&&N.name!==p&&(T=!0,C=function(){return N.call(this)}),r&&!b||!f&&!T&&S[h]||a(S,h,C),s[t]=C,s[A]=m,v)if(x={values:_?C:M(p),keys:y?C:M(d),entries:I},b)for(E in x)E in S||o(S,E,x[E]);else i(i.P+i.F*(f||T),t,x);return x}},80770:function(t,n,r){var i=r(71732)("iterator"),o=!1;try{var a=[7][i]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var a=[7],s=a[i]();s.next=function(){return{done:r=!0}},a[i]=function(){return s},t(a)}catch(e){}return r}},37757:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},83447:function(e){e.exports={}},29775:function(e){e.exports=!1},93838:function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},4768:function(e,t,n){var r=n(65882),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},94831:function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},94560:function(e){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},65882:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},62255:function(e,t,n){var r=n(55427)("meta"),i=n(51342),o=n(35701),a=n(68063).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(44353)((function(){return u(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&u(e)&&!o(e,r)&&l(e),e}}},8729:function(e,t,n){var r=n(18725),i=n(46129),o=n(87673)("metadata"),a=o.store||(o.store=new(n(14431))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},54955:function(t,n,r){var i=r(51079),o=r(15671).set,a=i.MutationObserver||i.WebKitMutationObserver,s=i.process,u=i.Promise,c="process"==r(58445)(s);t.exports=function(){var t,n,r,l=function(){var i,o;for(c&&(i=s.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,i&&i.enter()};if(c)r=function(){s.nextTick(l)};else if(!a||i.navigator&&i.navigator.standalone)if(u&&u.resolve){var h=u.resolve(void 0);r=function(){h.then(l)}}else r=function(){o.call(i,l)};else{var f=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},2164:function(e,t,n){"use strict";var r=n(97303);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},89284:function(e,t,n){"use strict";var r=n(23568),i=n(68062),o=n(90377),a=n(83343),s=n(28148),u=n(54477),c=Object.assign;e.exports=!c||n(44353)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,l=1,h=o.f,f=a.f;c>l;)for(var d,p=u(arguments[l++]),m=h?i(p).concat(h(p)):i(p),g=m.length,v=0;g>v;)d=m[v++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:c},75195:function(e,t,n){var r=n(35995),i=n(48145),o=n(52209),a=n(33170)("IE_PROTO"),s=function(){},u=function(){var e,t=n(66200)("iframe"),r=o.length;for(t.style.display="none",n(19850).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},68063:function(t,n,r){var i=r(35995),o=r(55140),a=r(85253),s=Object.defineProperty;n.f=r(23568)?Object.defineProperty:function(t,n,r){if(i(t),n=a(n,!0),i(r),o)try{return s(t,n,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},48145:function(e,t,n){var r=n(68063),i=n(35995),o=n(68062);e.exports=n(23568)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},39308:function(e,t,n){"use strict";e.exports=n(29775)||!n(44353)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(51079)[e]}))},54933:function(t,n,r){var i=r(83343),o=r(64750),a=r(54482),s=r(85253),u=r(35701),c=r(55140),l=Object.getOwnPropertyDescriptor;n.f=r(23568)?l:function(t,n){if(t=a(t),n=s(n,!0),c)try{return l(t,n)}catch(e){}if(u(t,n))return o(!i.f.call(t,n),t[n])}},66379:function(t,n,r){var i=r(54482),o=r(40723).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(e){return s.slice()}}(t):o(i(t))}},40723:function(e,t,n){var r=n(94820),i=n(52209).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},90377:function(e,t){t.f=Object.getOwnPropertySymbols},59543:function(e,t,n){var r=n(35701),i=n(28148),o=n(33170)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},94820:function(e,t,n){var r=n(35701),i=n(54482),o=n(26083)(!1),a=n(33170)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},68062:function(e,t,n){var r=n(94820),i=n(52209);e.exports=Object.keys||function(e){return r(e,i)}},83343:function(e,t){t.f={}.propertyIsEnumerable},72739:function(e,t,n){var r=n(46129),i=n(68777),o=n(44353);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},39730:function(e,t,n){var r=n(23568),i=n(68062),o=n(54482),a=n(83343).f;e.exports=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,h=[];c>l;)n=u[l++],r&&!a.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}}},65026:function(e,t,n){var r=n(40723),i=n(90377),o=n(35995),a=n(51079).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},91125:function(e,t,n){var r=n(51079).parseFloat,i=n(44511).trim;e.exports=1/r(n(58834)+"-0")!==-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},35406:function(e,t,n){var r=n(51079).parseInt,i=n(44511).trim,o=n(58834),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},97386:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},3530:function(e,t,n){var r=n(35995),i=n(51342),o=n(2164);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},64750:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},53803:function(e,t,n){var r=n(25281);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},25281:function(e,t,n){var r=n(51079),i=n(27616),o=n(35701),a=n(55427)("src"),s=n(57581),u="toString",c=(""+s).split(u);n(68777).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},53283:function(e,t,n){"use strict";var r=n(55161),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},12324:function(e,t,n){"use strict";var r=n(45253),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(e){var t,n,a,c,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),e.exports=a},55899:function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},59845:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},78163:function(e,t,n){"use strict";var r=n(46129),i=n(97303),o=n(10622),a=n(43948);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},26044:function(e,t,n){"use strict";var r=n(46129);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},3880:function(t,n,r){var i=r(51342),o=r(35995),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=r(10622)(Function.call,r(54933).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a}},87381:function(e,t,n){"use strict";var r=n(51079),i=n(68063),o=n(23568),a=n(71732)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},4200:function(e,t,n){var r=n(68063).f,i=n(35701),o=n(71732)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},33170:function(e,t,n){var r=n(87673)("keys"),i=n(55427);e.exports=function(e){return r[e]||(r[e]=i(e))}},87673:function(e,t,n){var r=n(68777),i=n(51079),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(29775)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},27661:function(e,t,n){var r=n(35995),i=n(97303),o=n(71732)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},48528:function(e,t,n){"use strict";var r=n(44353);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},3031:function(e,t,n){var r=n(16163),i=n(79934);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},87572:function(e,t,n){var r=n(82720),i=n(79934);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},36198:function(e,t,n){var r=n(46129),i=n(44353),o=n(79934),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},61674:function(e,t,n){var r=n(34988),i=n(44468),o=n(79934);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},44468:function(e,t,n){"use strict";var r=n(16163),i=n(79934);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},44511:function(e,t,n){var r=n(46129),i=n(79934),o=n(44353),a=n(58834),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),u=i[e]=s?t(h):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},h=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},58834:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},15671:function(e,t,n){var r,i,o,a=n(10622),s=n(93298),u=n(19850),c=n(66200),l=n(51079),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,m=l.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},x=function(e){b.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},d=function(e){delete v[e]},"process"==n(58445)(h)?r=function(e){h.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=x,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",x,!1)):r=y in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:d}},33209:function(e,t,n){var r=n(16163),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},53912:function(e,t,n){var r=n(16163),i=n(34988);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},16163:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},54482:function(e,t,n){var r=n(54477),i=n(79934);e.exports=function(e){return r(i(e))}},34988:function(e,t,n){var r=n(16163),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},28148:function(e,t,n){var r=n(79934);e.exports=function(e){return Object(r(e))}},85253:function(e,t,n){var r=n(51342);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},90135:function(e,t,n){"use strict";if(n(23568)){var r=n(29775),i=n(51079),o=n(44353),a=n(46129),s=n(50468),u=n(2954),c=n(10622),l=n(89091),h=n(64750),f=n(27616),d=n(53803),p=n(16163),m=n(34988),g=n(53912),v=n(33209),y=n(85253),b=n(35701),x=n(55161),E=n(51342),w=n(28148),M=n(41010),A=n(75195),_=n(59543),T=n(40723).f,S=n(61641),N=n(55427),C=n(71732),I=n(37046),L=n(26083),D=n(27661),O=n(22676),R=n(83447),P=n(80770),j=n(87381),k=n(81902),U=n(54452),F=n(68063),z=n(54933),B=F.f,G=z.f,H=i.RangeError,V=i.TypeError,Y=i.Uint8Array,W="ArrayBuffer",X="SharedArrayBuffer",Q="BYTES_PER_ELEMENT",q=Array.prototype,K=u.ArrayBuffer,Z=u.DataView,J=I(0),$=I(2),ee=I(3),te=I(4),ne=I(5),re=I(6),ie=L(!0),oe=L(!1),ae=O.values,se=O.keys,ue=O.entries,ce=q.lastIndexOf,le=q.reduce,he=q.reduceRight,fe=q.join,de=q.sort,pe=q.slice,me=q.toString,ge=q.toLocaleString,ve=C("iterator"),ye=C("toStringTag"),be=N("typed_constructor"),xe=N("def_constructor"),Ee=s.CONSTR,we=s.TYPED,Me=s.VIEW,Ae="Wrong length!",_e=I(1,(function(e,t){return Ie(D(e,e[xe]),t)})),Te=o((function(){return 1===new Y(new Uint16Array([1]).buffer)[0]})),Se=!!Y&&!!Y.prototype.set&&o((function(){new Y(1).set({})})),Ne=function(e,t){var n=p(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ce=function(e){if(E(e)&&we in e)return e;throw V(e+" is not a typed array!")},Ie=function(e,t){if(!E(e)||!(be in e))throw V("It is not a typed array constructor!");return new e(t)},Le=function(e,t){return De(D(e,e[xe]),t)},De=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},Oe=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,i,o,a,s=w(e),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=S(s);if(void 0!=f&&!M(f)){for(a=f.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(h&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(s.length),i=Ie(this,n);n>t;t++)i[t]=h?l(s[t],t):s[t];return i},Pe=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},je=!!Y&&o((function(){ge.call(new Y(1))})),ke=function(){return ge.apply(je?pe.call(Ce(this)):Ce(this),arguments)},Ue={copyWithin:function(e,t){return U.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return k.apply(Ce(this),arguments)},filter:function(e){return Le(this,$(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return oe(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return fe.apply(Ce(this),arguments)},lastIndexOf:function(e){return ce.apply(Ce(this),arguments)},map:function(e){return _e(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return le.apply(Ce(this),arguments)},reduceRight:function(e){return he.apply(Ce(this),arguments)},reverse:function(){for(var e,t=this,n=Ce(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=v(e,r);return new(D(n,n[xe]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-i))}},Fe=function(e,t){return Le(this,pe.call(Ce(this),e,t))},ze=function(e){Ce(this);var t=Ne(arguments[1],1),n=this.length,r=w(e),i=m(r.length),o=0;if(i+t>n)throw H(Ae);for(;o<i;)this[t+o]=r[o++]},Be={entries:function(){return ue.call(Ce(this))},keys:function(){return se.call(Ce(this))},values:function(){return ae.call(Ce(this))}},Ge=function(e,t){return E(e)&&e[we]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ge(e,t=y(t,!0))?h(2,e[t]):G(e,t)},Ve=function(e,t,n){return!(Ge(e,t=y(t,!0))&&E(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};Ee||(z.f=He,F.f=Ve),a(a.S+a.F*!Ee,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ve}),o((function(){me.call({})}))&&(me=ge=function(){return fe.call(this)});var Ye=d({},Ue);d(Ye,Be),f(Ye,ve,Be.values),d(Ye,{slice:Fe,set:ze,constructor:function(){},toString:me,toLocaleString:ke}),Oe(Ye,"buffer","b"),Oe(Ye,"byteOffset","o"),Oe(Ye,"byteLength","l"),Oe(Ye,"length","e"),B(Ye,ye,{get:function(){return this[we]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",h="get"+e,d="set"+e,p=i[c],v=p||{},y=p&&_(p),b=!p||!s.ABV,w={},M=p&&p.prototype,S=function(e,n){B(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[h](n*t+r.o,Te)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*t+i.o,r,Te)}(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,r,i){l(e,p,c,"_d");var o,a,s,u,h=0,d=0;if(E(n)){if(!(n instanceof K||(u=x(n))==W||u==X))return we in n?De(p,n):Re.call(p,n);o=n,d=Ne(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw H(Ae);if((a=v-d)<0)throw H(Ae)}else if((a=m(i)*t)+d>v)throw H(Ae);s=a/t}else s=g(n),o=new K(a=s*t);for(f(e,"_d",{b:o,o:d,l:a,e:s,v:new Z(o)});h<s;)S(e,h++)})),M=p.prototype=A(Ye),f(M,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&P((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return l(e,p,c),E(n)?n instanceof K||(o=x(n))==W||o==X?void 0!==i?new v(n,Ne(r,t),i):void 0!==r?new v(n,Ne(r,t)):new v(n):we in n?De(p,n):Re.call(p,n):new v(g(n))})),J(y!==Function.prototype?T(v).concat(T(y)):T(v),(function(e){e in p||f(p,e,v[e])})),p.prototype=M,r||(M.constructor=p));var N=M[ve],C=!!N&&("values"==N.name||void 0==N.name),I=Be.values;f(p,be,!0),f(M,we,c),f(M,Me,!0),f(M,xe,p),(u?new p(1)[ye]==c:ye in M)||B(M,ye,{get:function(){return c}}),w[c]=p,a(a.G+a.W+a.F*(p!=v),w),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(p,1)})),c,{from:Re,of:Pe}),Q in M||f(M,Q,t),a(a.P,c,Ue),j(c),a(a.P+a.F*Se,c,{set:ze}),a(a.P+a.F*!C,c,Be),r||M.toString==me||(M.toString=me),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Fe}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){M.toLocaleString.call([1,2])}))),c,{toLocaleString:ke}),R[c]=C?N:I,r||C||f(M,ve,I)}}else e.exports=function(){}},2954:function(e,t,n){"use strict";var r=n(51079),i=n(23568),o=n(29775),a=n(50468),s=n(27616),u=n(53803),c=n(44353),l=n(89091),h=n(16163),f=n(34988),d=n(53912),p=n(40723).f,m=n(68063).f,g=n(81902),v=n(4200),y="ArrayBuffer",b="DataView",x="Wrong index!",E=r.ArrayBuffer,w=r.DataView,M=r.Math,A=r.RangeError,_=r.Infinity,T=E,S=M.abs,N=M.pow,C=M.floor,I=M.log,L=M.LN2,D="buffer",O="byteLength",R="byteOffset",P=i?"_b":D,j=i?"_l":O,k=i?"_o":R;function U(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?N(2,-24)-N(2,-77):0,h=0,f=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===_?(i=e!=e?1:0,r=u):(r=C(I(e)/L),e*(o=N(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*N(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*N(2,t),r+=c):(i=e*N(2,c-1)*N(2,t),r=0));t>=8;a[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function F(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-_:_;r+=N(2,t),l-=a}return(c?-1:1)*r*N(2,l-t)}function z(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function G(e){return[255&e,e>>8&255]}function H(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return U(e,52,8)}function Y(e){return U(e,23,4)}function W(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function X(e,t,n,r){var i=d(+n);if(i+t>e[j])throw A(x);var o=e[P]._b,a=i+e[k],s=o.slice(a,a+t);return r?s:s.reverse()}function Q(e,t,n,r,i,o){var a=d(+n);if(a+t>e[j])throw A(x);for(var s=e[P]._b,u=a+e[k],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c((function(){E(1)}))||!c((function(){new E(-1)}))||c((function(){return new E,new E(1.5),new E(NaN),E.name!=y}))){for(var q,K=(E=function(e){return l(this,E),new T(d(e))}).prototype=T.prototype,Z=p(T),J=0;Z.length>J;)(q=Z[J++])in E||s(E,q,T[q]);o||(K.constructor=E)}var $=new w(new E(2)),ee=w.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(w.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else E=function(e){l(this,E,y);var t=d(e);this._b=g.call(new Array(t),0),this[j]=t},w=function(e,t,n){l(this,w,b),l(e,E,b);var r=e[j],i=h(t);if(i<0||i>r)throw A("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw A("Wrong length!");this[P]=e,this[k]=i,this[j]=n},i&&(W(E,O,"_l"),W(w,D,"_b"),W(w,O,"_l"),W(w,R,"_o")),u(w.prototype,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return z(X(this,4,e,arguments[1]))},getUint32:function(e){return z(X(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(X(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(X(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,B,t)},setUint8:function(e,t){Q(this,1,e,B,t)},setInt16:function(e,t){Q(this,2,e,G,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,G,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,H,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,H,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,Y,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,V,t,arguments[2])}});v(E,y),v(w,b),s(w.prototype,a.VIEW,!0),t.ArrayBuffer=E,t.DataView=w},50468:function(e,t,n){for(var r,i=n(51079),o=n(27616),a=n(55427),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},55427:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},75348:function(e,t,n){var r=n(51079).navigator;e.exports=r&&r.userAgent||""},78118:function(e,t,n){var r=n(51342);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},39381:function(e,t,n){var r=n(51079),i=n(68777),o=n(29775),a=n(59791),s=n(68063).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},59791:function(e,t,n){t.f=n(71732)},71732:function(e,t,n){var r=n(87673)("wks"),i=n(55427),o=n(51079).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},61641:function(e,t,n){var r=n(55161),i=n(71732)("iterator"),o=n(83447);e.exports=n(68777).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},76451:function(e,t,n){var r=n(46129),i=n(55899)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},87815:function(e,t,n){var r=n(46129);r(r.P,"Array",{copyWithin:n(54452)}),n(89196)("copyWithin")},1549:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(4);r(r.P+r.F*!n(48528)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},23594:function(e,t,n){var r=n(46129);r(r.P,"Array",{fill:n(81902)}),n(89196)("fill")},23982:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(2);r(r.P+r.F*!n(48528)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},6632:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(89196)(o)},26942:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(5),o="find",a=!0;o in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(89196)(o)},71459:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(0),o=n(48528)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},43537:function(e,t,n){"use strict";var r=n(10622),i=n(46129),o=n(28148),a=n(33802),s=n(41010),u=n(34988),c=n(6820),l=n(61641);i(i.S+i.F*!n(80770)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,f=o(e),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=l(f);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(n=new d(t=u(f.length));t>v;v++)c(n,v,g?m(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(i=h.next()).done;v++)c(n,v,g?a(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},98903:function(e,t,n){"use strict";var r=n(46129),i=n(26083)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(48528)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},99993:function(e,t,n){var r=n(46129);r(r.S,"Array",{isArray:n(63666)})},22676:function(e,t,n){"use strict";var r=n(89196),i=n(37757),o=n(83447),a=n(54482);e.exports=n(95271)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},92949:function(e,t,n){"use strict";var r=n(46129),i=n(54482),o=[].join;r(r.P+r.F*(n(54477)!=Object||!n(48528)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},86479:function(e,t,n){"use strict";var r=n(46129),i=n(54482),o=n(16163),a=n(34988),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(48528)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},44727:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(1);r(r.P+r.F*!n(48528)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},181:function(e,t,n){"use strict";var r=n(46129),i=n(6820);r(r.S+r.F*n(44353)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},97228:function(e,t,n){"use strict";var r=n(46129),i=n(18749);r(r.P+r.F*!n(48528)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},67318:function(e,t,n){"use strict";var r=n(46129),i=n(18749);r(r.P+r.F*!n(48528)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},3125:function(e,t,n){"use strict";var r=n(46129),i=n(19850),o=n(58445),a=n(33209),s=n(34988),u=[].slice;r(r.P+r.F*n(44353)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),h=new Array(l),f=0;f<l;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},64659:function(e,t,n){"use strict";var r=n(46129),i=n(37046)(3);r(r.P+r.F*!n(48528)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},67552:function(e,t,n){"use strict";var r=n(46129),i=n(97303),o=n(28148),a=n(44353),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(48528)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},55535:function(e,t,n){n(87381)("Array")},86351:function(e,t,n){var r=n(46129);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},73511:function(e,t,n){var r=n(46129),i=n(36104);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},21594:function(e,t,n){"use strict";var r=n(46129),i=n(28148),o=n(85253);r(r.P+r.F*n(44353)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},47181:function(e,t,n){var r=n(71732)("toPrimitive"),i=Date.prototype;r in i||n(27616)(i,r,n(77602))},47755:function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r.toString,s=r.getTime;new Date(NaN)+""!=i&&n(25281)(r,o,(function(){var e=s.call(this);return e===e?a.call(this):i}))},53367:function(e,t,n){var r=n(46129);r(r.P,"Function",{bind:n(71084)})},35343:function(e,t,n){"use strict";var r=n(51342),i=n(59543),o=n(71732)("hasInstance"),a=Function.prototype;o in a||n(68063).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},73765:function(t,n,r){var i=r(68063).f,o=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in o||r(23568)&&i(o,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},18725:function(e,t,n){"use strict";var r=n(59284),i=n(78118),o="Map";e.exports=n(60620)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},66246:function(e,t,n){var r=n(46129),i=n(94831),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},72269:function(e,t,n){var r=n(46129),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},94052:function(e,t,n){var r=n(46129),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},78863:function(e,t,n){var r=n(46129),i=n(65882);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},20614:function(e,t,n){var r=n(46129);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},10085:function(e,t,n){var r=n(46129),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},17191:function(e,t,n){var r=n(46129),i=n(93838);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},87489:function(e,t,n){var r=n(46129);r(r.S,"Math",{fround:n(4768)})},24673:function(e,t,n){var r=n(46129),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},34042:function(e,t,n){var r=n(46129),i=Math.imul;r(r.S+r.F*n(44353)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},79394:function(e,t,n){var r=n(46129);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},77061:function(e,t,n){var r=n(46129);r(r.S,"Math",{log1p:n(94831)})},10228:function(e,t,n){var r=n(46129);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},31147:function(e,t,n){var r=n(46129);r(r.S,"Math",{sign:n(65882)})},92861:function(e,t,n){var r=n(46129),i=n(93838),o=Math.exp;r(r.S+r.F*n(44353)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},10632:function(e,t,n){var r=n(46129),i=n(93838),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},86034:function(e,t,n){var r=n(46129);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},53191:function(e,t,n){"use strict";var r=n(51079),i=n(35701),o=n(58445),a=n(96919),s=n(85253),u=n(44353),c=n(40723).f,l=n(54933).f,h=n(68063).f,f=n(44511).trim,d="Number",p=r.Number,m=p,g=p.prototype,v=o(n(75195)(g))==d,y="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u((function(){g.valueOf.call(n)})):o(n)!=d)?a(new m(b(t)),n,p):b(t)};for(var x,E=n(23568)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;E.length>w;w++)i(m,x=E[w])&&!i(p,x)&&h(p,x,l(m,x));p.prototype=g,g.constructor=p,n(25281)(r,d,p)}},28789:function(e,t,n){var r=n(46129);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},59946:function(e,t,n){var r=n(46129),i=n(51079).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},4883:function(e,t,n){var r=n(46129);r(r.S,"Number",{isInteger:n(49830)})},22493:function(e,t,n){var r=n(46129);r(r.S,"Number",{isNaN:function(e){return e!=e}})},41941:function(e,t,n){var r=n(46129),i=n(49830),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},71508:function(e,t,n){var r=n(46129);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},26930:function(e,t,n){var r=n(46129);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},32129:function(e,t,n){var r=n(46129),i=n(91125);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},20873:function(e,t,n){var r=n(46129),i=n(35406);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},55854:function(e,t,n){"use strict";var r=n(46129),i=n(16163),o=n(58028),a=n(44468),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h="0",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(h,7-n.length)+n}return t},m=function e(t,n,r){return 0===n?r:n%2===1?e(t,n-1,r*t):e(t*t,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(44353)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),g="",v=h;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*m(2,69,1))-69,n=t<0?u*m(2,-t,1):u/m(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(m(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+a.call(h,c);return v=c>0?g+((s=v.length)<=c?"0."+a.call(h,c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):g+v}})},70803:function(e,t,n){"use strict";var r=n(46129),i=n(44353),o=n(58028),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},64576:function(e,t,n){var r=n(46129);r(r.S+r.F,"Object",{assign:n(89284)})},45145:function(e,t,n){var r=n(46129);r(r.S,"Object",{create:n(75195)})},96992:function(e,t,n){var r=n(46129);r(r.S+r.F*!n(23568),"Object",{defineProperties:n(48145)})},9136:function(e,t,n){var r=n(46129);r(r.S+r.F*!n(23568),"Object",{defineProperty:n(68063).f})},37055:function(e,t,n){var r=n(51342),i=n(62255).onFreeze;n(72739)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},68013:function(e,t,n){var r=n(54482),i=n(54933).f;n(72739)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},72764:function(e,t,n){n(72739)("getOwnPropertyNames",(function(){return n(66379).f}))},15532:function(e,t,n){var r=n(28148),i=n(59543);n(72739)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},49695:function(e,t,n){var r=n(51342);n(72739)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},93371:function(e,t,n){var r=n(51342);n(72739)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},5349:function(e,t,n){var r=n(51342);n(72739)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},38268:function(e,t,n){var r=n(46129);r(r.S,"Object",{is:n(59845)})},92479:function(e,t,n){var r=n(28148),i=n(68062);n(72739)("keys",(function(){return function(e){return i(r(e))}}))},14413:function(e,t,n){var r=n(51342),i=n(62255).onFreeze;n(72739)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},76873:function(e,t,n){var r=n(51342),i=n(62255).onFreeze;n(72739)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},52901:function(e,t,n){var r=n(46129);r(r.S,"Object",{setPrototypeOf:n(3880).set})},72080:function(e,t,n){"use strict";var r=n(55161),i={};i[n(71732)("toStringTag")]="z",i+""!="[object z]"&&n(25281)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},37891:function(e,t,n){var r=n(46129),i=n(91125);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},49609:function(e,t,n){var r=n(46129),i=n(35406);r(r.G+r.F*(parseInt!=i),{parseInt:i})},98717:function(t,n,r){"use strict";var i,o,a,s,u=r(29775),c=r(51079),l=r(10622),h=r(55161),f=r(46129),d=r(51342),p=r(97303),m=r(89091),g=r(43948),v=r(27661),y=r(15671).set,b=r(54955)(),x=r(2164),E=r(97386),w=r(75348),M=r(3530),A="Promise",_=c.TypeError,T=c.process,S=T&&T.versions,N=S&&S.v8||"",C=c.Promise,I="process"==h(T),L=function(){},D=o=x.f,O=!!function(){try{var t=C.resolve(1),n=(t.constructor={})[r(71732)("species")]=function(e){e(L,L)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof n&&0!==N.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(t,n){if(!t._n){t._n=!0;var r=t._c;b((function(){for(var i=t._v,o=1==t._s,a=0,s=function(n){var r,a,s,u=o?n.ok:n.fail,c=n.resolve,l=n.reject,h=n.domain;try{u?(o||(2==t._h&&U(t),t._h=1),!0===u?r=i:(h&&h.enter(),r=u(i),h&&(h.exit(),s=!0)),r===n.promise?l(_("Promise-chain cycle")):(a=R(r))?a.call(r,c,l):c(r)):l(i)}catch(e){h&&!s&&h.exit(),l(e)}};r.length>a;)s(r[a++]);t._c=[],t._n=!1,n&&!t._h&&j(t)}))}},j=function(e){y.call(c,(function(){var t,n,r,i=e._v,o=k(e);if(o&&(t=E((function(){I?T.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=I||k(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){y.call(c,(function(){var t;I?T.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},z=function t(n){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===n)throw _("Promise can't be resolved itself");(r=R(n))?b((function(){var o={_w:i,_d:!1};try{r.call(n,l(t,o,1),l(F,o,1))}catch(e){F.call(o,e)}})):(i._v=n,i._s=1,P(i,!1))}catch(e){F.call({_w:i,_d:!1},e)}}};O||(C=function(e){m(this,C,A,"_h"),p(e),i.call(this);try{e(l(z,this,1),l(F,this,1))}catch(t){F.call(this,t)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(53803)(C.prototype,{then:function(e,t){var n=D(v(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i;this.promise=e,this.resolve=l(z,e,1),this.reject=l(F,e,1)},x.f=D=function(e){return e===C||e===s?new a(e):o(e)}),f(f.G+f.W+f.F*!O,{Promise:C}),r(4200)(C,A),r(87381)(A),s=r(68777).Promise,f(f.S+f.F*!O,A,{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(u||!O),A,{resolve:function(e){return M(u&&this===s?C:this,e)}}),f(f.S+f.F*!(O&&r(80770)((function(e){C.all(e).catch(L)}))),A,{all:function(e){var t=this,n=D(t),r=n.resolve,i=n.reject,o=E((function(){var n=[],o=0,a=1;g(e,!1,(function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=D(t),r=n.reject,i=E((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},41069:function(e,t,n){var r=n(46129),i=n(97303),o=n(35995),a=(n(51079).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(44353)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},62937:function(e,t,n){var r=n(46129),i=n(75195),o=n(97303),a=n(35995),s=n(51342),u=n(44353),c=n(71084),l=(n(51079).Reflect||{}).construct,h=u((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),f=!u((function(){l((function(){}))}));r(r.S+r.F*(h||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!h)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,d=i(s(u)?u:Object.prototype),p=Function.apply.call(e,d,t);return s(p)?p:d}})},88620:function(t,n,r){var i=r(68063),o=r(46129),a=r(35995),s=r(85253);o(o.S+o.F*r(44353)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,n,r){a(t),n=s(n,!0),a(r);try{return i.f(t,n,r),!0}catch(e){return!1}}})},54130:function(e,t,n){var r=n(46129),i=n(54933).f,o=n(35995);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},58981:function(e,t,n){"use strict";var r=n(46129),i=n(35995),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(33694)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},32209:function(e,t,n){var r=n(54933),i=n(46129),o=n(35995);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},22859:function(e,t,n){var r=n(46129),i=n(59543),o=n(35995);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},46848:function(e,t,n){var r=n(54933),i=n(59543),o=n(35701),a=n(46129),s=n(51342),u=n(35995);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},84346:function(e,t,n){var r=n(46129);r(r.S,"Reflect",{has:function(e,t){return t in e}})},58157:function(e,t,n){var r=n(46129),i=n(35995),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},16452:function(e,t,n){var r=n(46129);r(r.S,"Reflect",{ownKeys:n(65026)})},74856:function(t,n,r){var i=r(46129),o=r(35995),a=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){o(t);try{return a&&a(t),!0}catch(e){return!1}}})},91821:function(t,n,r){var i=r(46129),o=r(3880);o&&i(i.S,"Reflect",{setPrototypeOf:function(t,n){o.check(t,n);try{return o.set(t,n),!0}catch(e){return!1}}})},95766:function(e,t,n){var r=n(68063),i=n(54933),o=n(59543),a=n(35701),s=n(46129),u=n(64750),c=n(35995),l=n(51342);s(s.S,"Reflect",{set:function e(t,n,s){var h,f,d=arguments.length<4?t:arguments[3],p=i.f(c(t),n);if(!p){if(l(f=o(t)))return e(f,n,s,d);p=u(0)}if(a(p,"value")){if(!1===p.writable||!l(d))return!1;if(h=i.f(d,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,r.f(d,n,h)}else r.f(d,n,u(0,s));return!0}return void 0!==p.set&&(p.set.call(d,s),!0)}})},76539:function(e,t,n){var r=n(51079),i=n(96919),o=n(68063).f,a=n(40723).f,s=n(82720),u=n(45253),c=r.RegExp,l=c,h=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(n(23568)&&(!p||n(44353)((function(){return d[n(71732)("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(p?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:h,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},g=a(l),v=0;g.length>v;)m(g[v++]);h.constructor=c,c.prototype=h,n(25281)(r,"RegExp",c)}n(87381)("RegExp")},43927:function(e,t,n){"use strict";var r=n(12324);n(46129)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},96866:function(e,t,n){n(23568)&&"g"!=/./g.flags&&n(68063).f(RegExp.prototype,"flags",{configurable:!0,get:n(45253)})},88939:function(e,t,n){"use strict";var r=n(35995),i=n(34988),o=n(14300),a=n(53283);n(81086)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;for(var h,f=[],d=0;null!==(h=a(u,c));){var p=String(h[0]);f[d]=p,""===p&&(u.lastIndex=o(c,i(u.lastIndex),l)),d++}return 0===d?null:f}]}))},74751:function(e,t,n){"use strict";var r=n(35995),i=n(28148),o=n(34988),a=n(16163),s=n(14300),u=n(53283),c=Math.max,l=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(81086)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var h=r(e),f=String(this),d="function"===typeof t;d||(t=String(t));var g=h.global;if(g){var v=h.unicode;h.lastIndex=0}for(var y=[];;){var b=u(h,f);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(h.lastIndex=s(f,o(h.lastIndex),v))}for(var x,E="",w=0,M=0;M<y.length;M++){b=y[M];for(var A=String(b[0]),_=c(l(a(b.index),f.length),0),T=[],S=1;S<b.length;S++)T.push(void 0===(x=b[S])?x:String(x));var N=b.groups;if(d){var C=[A].concat(T,_,f);void 0!==N&&C.push(N);var I=String(t.apply(void 0,C))}else I=m(A,f,_,T,N,t);_>=w&&(E+=f.slice(w,_)+I,w=_+A.length)}return E+f.slice(w)}];function m(e,t,r,o,a,s){var u=r+e.length,c=o.length,l=d;return void 0!==a&&(a=i(a),l=f),n.call(s,l,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var f=h(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s}))}}))},7960:function(e,t,n){"use strict";var r=n(35995),i=n(59845),o=n(53283);n(81086)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]}))},58471:function(e,t,n){"use strict";var r=n(82720),i=n(35995),o=n(27661),a=n(14300),s=n(34988),u=n(53283),c=n(12324),l=n(44353),h=Math.min,f=[].push,d=4294967295,p=!l((function(){RegExp(d,"y")}));n(81086)("split",2,(function(e,t,n,l){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,p=void 0===t?d:t>>>0,m=new RegExp(e.source,l+"g");(o=c.call(m,i))&&!((a=m.lastIndex)>h&&(u.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&f.apply(u,o.slice(1)),s=o[0].length,h=a,u.length>=p));)m.lastIndex===o.index&&m.lastIndex++;return h===i.length?!s&&m.test("")||u.push(""):u.push(i.slice(h)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):m.call(String(i),n,r)},function(e,t){var r=l(m,e,this,t,m!==n);if(r.done)return r.value;var c=i(e),f=String(this),g=o(c,RegExp),v=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),b=new g(p?c:"^(?:"+c.source+")",y),x=void 0===t?d:t>>>0;if(0===x)return[];if(0===f.length)return null===u(b,f)?[f]:[];for(var E=0,w=0,M=[];w<f.length;){b.lastIndex=p?w:0;var A,_=u(b,p?f:f.slice(w));if(null===_||(A=h(s(b.lastIndex+(p?0:w)),f.length))===E)w=a(f,w,v);else{if(M.push(f.slice(E,w)),M.length===x)return M;for(var T=1;T<=_.length-1;T++)if(M.push(_[T]),M.length===x)return M;w=E=A}}return M.push(f.slice(E)),M}]}))},8479:function(e,t,n){"use strict";n(96866);var r=n(35995),i=n(45253),o=n(23568),a="toString",s=/./.toString,u=function(e){n(25281)(RegExp.prototype,a,e,!0)};n(44353)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&u((function(){return s.call(this)}))},83546:function(e,t,n){"use strict";var r=n(59284),i=n(78118);e.exports=n(60620)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},96633:function(e,t,n){"use strict";n(36198)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},91376:function(e,t,n){"use strict";n(36198)("big",(function(e){return function(){return e(this,"big","","")}}))},70501:function(e,t,n){"use strict";n(36198)("blink",(function(e){return function(){return e(this,"blink","","")}}))},94559:function(e,t,n){"use strict";n(36198)("bold",(function(e){return function(){return e(this,"b","","")}}))},77522:function(e,t,n){"use strict";var r=n(46129),i=n(3031)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},20755:function(e,t,n){"use strict";var r=n(46129),i=n(34988),o=n(87572),a="endsWith",s="".endsWith;r(r.P+r.F*n(68589)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),u=void 0===n?r:Math.min(i(n),r),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})},7818:function(e,t,n){"use strict";n(36198)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},11160:function(e,t,n){"use strict";n(36198)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},38217:function(e,t,n){"use strict";n(36198)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},8489:function(e,t,n){var r=n(46129),i=n(33209),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},19748:function(e,t,n){"use strict";var r=n(46129),i=n(87572),o="includes";r(r.P+r.F*n(68589)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},6413:function(e,t,n){"use strict";n(36198)("italics",(function(e){return function(){return e(this,"i","","")}}))},91651:function(e,t,n){"use strict";var r=n(3031)(!0);n(95271)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},35855:function(e,t,n){"use strict";n(36198)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},36154:function(e,t,n){var r=n(46129),i=n(54482),o=n(34988);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},98318:function(e,t,n){var r=n(46129);r(r.P,"String",{repeat:n(44468)})},54786:function(e,t,n){"use strict";n(36198)("small",(function(e){return function(){return e(this,"small","","")}}))},95378:function(e,t,n){"use strict";var r=n(46129),i=n(34988),o=n(87572),a="startsWith",s="".startsWith;r(r.P+r.F*n(68589)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},80970:function(e,t,n){"use strict";n(36198)("strike",(function(e){return function(){return e(this,"strike","","")}}))},49914:function(e,t,n){"use strict";n(36198)("sub",(function(e){return function(){return e(this,"sub","","")}}))},96706:function(e,t,n){"use strict";n(36198)("sup",(function(e){return function(){return e(this,"sup","","")}}))},20544:function(e,t,n){"use strict";n(44511)("trim",(function(e){return function(){return e(this,3)}}))},79117:function(e,t,n){"use strict";var r=n(51079),i=n(35701),o=n(23568),a=n(46129),s=n(25281),u=n(62255).KEY,c=n(44353),l=n(87673),h=n(4200),f=n(55427),d=n(71732),p=n(59791),m=n(39381),g=n(39130),v=n(63666),y=n(35995),b=n(51342),x=n(28148),E=n(54482),w=n(85253),M=n(64750),A=n(75195),_=n(66379),T=n(54933),S=n(90377),N=n(68063),C=n(68062),I=T.f,L=N.f,D=_.f,O=r.Symbol,R=r.JSON,P=R&&R.stringify,j=d("_hidden"),k=d("toPrimitive"),U={}.propertyIsEnumerable,F=l("symbol-registry"),z=l("symbols"),B=l("op-symbols"),G=Object.prototype,H="function"==typeof O&&!!S.f,V=r.QObject,Y=!V||!V.prototype||!V.prototype.findChild,W=o&&c((function(){return 7!=A(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=I(G,t);r&&delete G[t],L(e,t,n),r&&e!==G&&L(G,t,r)}:L,X=function(e){var t=z[e]=A(O.prototype);return t._k=e,t},Q=H&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},q=function(e,t,n){return e===G&&q(B,t,n),y(e),t=w(t,!0),y(n),i(z,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=A(n,{enumerable:M(0,!1)})):(i(e,j)||L(e,j,M(1,{})),e[j][t]=!0),W(e,t,n)):L(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=E(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},Z=function(e){var t=U.call(this,e=w(e,!0));return!(this===G&&i(z,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,j)&&this[j][e])||t)},J=function(e,t){if(e=E(e),t=w(t,!0),e!==G||!i(z,t)||i(B,t)){var n=I(e,t);return!n||!i(z,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=D(E(e)),r=[],o=0;n.length>o;)i(z,t=n[o++])||t==j||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===G,r=D(n?B:E(e)),o=[],a=0;r.length>a;)!i(z,t=r[a++])||n&&!i(G,t)||o.push(z[t]);return o};H||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function t(n){this===G&&t.call(B,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),W(this,e,M(1,n))};return o&&Y&&W(G,e,{configurable:!0,set:t}),X(e)},s(O.prototype,"toString",(function(){return this._k})),T.f=J,N.f=q,n(40723).f=_.f=$,n(83343).f=Z,S.f=ee,o&&!n(29775)&&s(G,"propertyIsEnumerable",Z,!0),p.f=function(e){return X(d(e))}),a(a.G+a.W+a.F*!H,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=C(d.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(F,e+="")?F[e]:F[e]=O(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?A(e):K(A(e),t)},defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var oe=c((function(){S.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return S.f(x(e))}}),R&&a(a.S+a.F*(!H||c((function(){var e=O();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,P.apply(R,r)}}),O.prototype[k]||n(27616)(O.prototype,k,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},53842:function(e,t,n){"use strict";var r=n(46129),i=n(50468),o=n(2954),a=n(35995),s=n(33209),u=n(34988),c=n(51342),l=n(51079).ArrayBuffer,h=n(27661),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&l.isView,m=f.prototype.slice,g=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return p&&p(e)||c(e)&&g in e}}),r(r.P+r.U+r.F*n(44353)((function(){return!new f(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(h(this,f))(u(i-r)),c=new d(this),l=new d(o),p=0;r<i;)l.setUint8(p++,c.getUint8(r++));return o}}),n(87381)(v)},33454:function(e,t,n){var r=n(46129);r(r.G+r.W+r.F*!n(50468).ABV,{DataView:n(2954).DataView})},20495:function(e,t,n){n(90135)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},15753:function(e,t,n){n(90135)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},60866:function(e,t,n){n(90135)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},42024:function(e,t,n){n(90135)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},42990:function(e,t,n){n(90135)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3732:function(e,t,n){n(90135)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},35142:function(e,t,n){n(90135)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},94873:function(e,t,n){n(90135)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},58252:function(e,t,n){n(90135)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},14431:function(e,t,n){"use strict";var r,i=n(51079),o=n(37046)(0),a=n(25281),s=n(62255),u=n(89284),c=n(40275),l=n(51342),h=n(78118),f=n(78118),d=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",m=s.getWeak,g=Object.isExtensible,v=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(l(e)){var t=m(e);return!0===t?v(h(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(h(this,p),e,t)}},x=e.exports=n(60620)(p,y,b,c,!0,!0);f&&d&&(u((r=c.getConstructor(y,p)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=x.prototype,n=t[e];a(t,e,(function(t,i){if(l(t)&&!g(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},96893:function(e,t,n){"use strict";var r=n(40275),i=n(78118),o="WeakSet";n(60620)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},46392:function(e,t,n){"use strict";var r=n(46129),i=n(8237),o=n(28148),a=n(34988),s=n(97303),u=n(49509);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(89196)("flatMap")},86851:function(e,t,n){"use strict";var r=n(46129),i=n(8237),o=n(28148),a=n(34988),s=n(16163),u=n(49509);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(89196)("flatten")},42451:function(e,t,n){"use strict";var r=n(46129),i=n(26083)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(89196)("includes")},80708:function(e,t,n){var r=n(46129),i=n(54955)(),o=n(51079).process,a="process"==n(58445)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},91970:function(e,t,n){var r=n(46129),i=n(58445);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},83739:function(e,t,n){var r=n(46129);r(r.G,{global:n(51079)})},73604:function(e,t,n){n(78163)("Map")},81928:function(e,t,n){n(26044)("Map")},34511:function(e,t,n){var r=n(46129);r(r.P+r.R,"Map",{toJSON:n(61216)("Map")})},88389:function(e,t,n){var r=n(46129);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},60546:function(e,t,n){var r=n(46129);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},9544:function(e,t,n){var r=n(46129),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},58642:function(e,t,n){var r=n(46129),i=n(94560),o=n(4768);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},30729:function(e,t,n){var r=n(46129);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},62841:function(e,t,n){var r=n(46129);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},35524:function(e,t,n){var r=n(46129);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},71236:function(e,t,n){var r=n(46129);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},39830:function(e,t,n){var r=n(46129),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},95881:function(e,t,n){var r=n(46129);r(r.S,"Math",{scale:n(94560)})},24192:function(e,t,n){var r=n(46129);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},29127:function(e,t,n){var r=n(46129);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},45989:function(e,t,n){"use strict";var r=n(46129),i=n(28148),o=n(97303),a=n(68063);n(23568)&&r(r.P+n(39308),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},80069:function(e,t,n){"use strict";var r=n(46129),i=n(28148),o=n(97303),a=n(68063);n(23568)&&r(r.P+n(39308),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},51575:function(e,t,n){var r=n(46129),i=n(39730)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},56125:function(e,t,n){var r=n(46129),i=n(65026),o=n(54482),a=n(54933),s=n(6820);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},h=0;c.length>h;)void 0!==(n=u(r,t=c[h++]))&&s(l,t,n);return l}})},24355:function(e,t,n){"use strict";var r=n(46129),i=n(28148),o=n(85253),a=n(59543),s=n(54933).f;n(23568)&&r(r.P+n(39308),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},76881:function(e,t,n){"use strict";var r=n(46129),i=n(28148),o=n(85253),a=n(59543),s=n(54933).f;n(23568)&&r(r.P+n(39308),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},87950:function(e,t,n){var r=n(46129),i=n(39730)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},78671:function(t,n,r){"use strict";var i=r(46129),o=r(51079),a=r(68777),s=r(54955)(),u=r(71732)("observable"),c=r(97303),l=r(35995),h=r(89091),f=r(53803),d=r(27616),p=r(43948),m=p.RETURN,g=function(e){return null==e?void 0:c(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},b=function(e){y(e)||(e._o=void 0,v(e))},x=function(t,n){l(t),this._c=void 0,this._o=t,t=new E(this);try{var r=n(t),i=r;null!=r&&("function"===typeof r.unsubscribe?r=function(){i.unsubscribe()}:c(r),this._c=r)}catch(e){return void t.error(e)}y(this)&&v(this)};x.prototype=f({},{unsubscribe:function(){b(this)}});var E=function(e){this._s=e};E.prototype=f({},{next:function(t){var n=this._s;if(!y(n)){var r=n._o;try{var i=g(r.next);if(i)return i.call(r,t)}catch(e){try{b(n)}finally{throw e}}}},error:function(t){var n=this._s;if(y(n))throw t;var r=n._o;n._o=void 0;try{var i=g(r.error);if(!i)throw t;t=i.call(r,t)}catch(e){try{v(n)}finally{throw e}}return v(n),t},complete:function(t){var n=this._s;if(!y(n)){var r=n._o;n._o=void 0;try{var i=g(r.complete);t=i?i.call(r,t):void 0}catch(e){try{v(n)}finally{throw e}}return v(n),t}}});var w=function(e){h(this,w,"Observable","_f")._f=c(e)};f(w.prototype,{subscribe:function(e){return new x(e,this._f)},forEach:function(t){var n=this;return new(a.Promise||o.Promise)((function(r,i){c(t);var o=n.subscribe({next:function(n){try{return t(n)}catch(e){i(e),o.unsubscribe()}},error:i,complete:r})}))}}),f(w,{from:function(t){var n="function"===typeof this?this:w,r=g(l(t)[u]);if(r){var i=l(r.call(t));return i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}return new n((function(n){var r=!1;return s((function(){if(!r){try{if(p(t,!1,(function(e){if(n.next(e),r)return m}))===m)return}catch(e){if(r)throw e;return void n.error(e)}n.complete()}})),function(){r=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"===typeof this?this:w)((function(e){var t=!1;return s((function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}})),function(){t=!0}}))}}),d(w.prototype,u,(function(){return this})),i(i.G,{Observable:w}),r(87381)("Observable")},57096:function(e,t,n){"use strict";var r=n(46129),i=n(68777),o=n(51079),a=n(27661),s=n(3530);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},18833:function(e,t,n){"use strict";var r=n(46129),i=n(2164),o=n(97386);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},79929:function(e,t,n){var r=n(8729),i=n(35995),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},28055:function(e,t,n){var r=n(8729),i=n(35995),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},88410:function(e,t,n){var r=n(83546),i=n(53157),o=n(8729),a=n(35995),s=n(59543),u=o.keys,c=o.key,l=function e(t,n){var o=u(t,n),a=s(t);if(null===a)return o;var c=e(a,n);return c.length?o.length?i(new r(o.concat(c))):c:o};o.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},6084:function(e,t,n){var r=n(8729),i=n(35995),o=n(59543),a=r.has,s=r.get,u=r.key,c=function e(t,n,r){if(a(t,n,r))return s(t,n,r);var i=o(n);return null!==i?e(t,i,r):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},82779:function(e,t,n){var r=n(8729),i=n(35995),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},47246:function(e,t,n){var r=n(8729),i=n(35995),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},25860:function(e,t,n){var r=n(8729),i=n(35995),o=n(59543),a=r.has,s=r.key,u=function e(t,n,r){if(a(t,n,r))return!0;var i=o(n);return null!==i&&e(t,i,r)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},50682:function(e,t,n){var r=n(8729),i=n(35995),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},68269:function(e,t,n){var r=n(8729),i=n(35995),o=n(97303),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},2669:function(e,t,n){n(78163)("Set")},36790:function(e,t,n){n(26044)("Set")},58562:function(e,t,n){var r=n(46129);r(r.P+r.R,"Set",{toJSON:n(61216)("Set")})},91392:function(e,t,n){"use strict";var r=n(46129),i=n(3031)(!0),o=n(44353)((function(){return"\ud842\udfb7"!=="\ud842\udfb7".at(0)}));r(r.P+r.F*o,"String",{at:function(e){return i(this,e)}})},51798:function(e,t,n){"use strict";var r=n(46129),i=n(79934),o=n(34988),a=n(82720),s=n(45253),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(33694)(c,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},62920:function(e,t,n){"use strict";var r=n(46129),i=n(61674),o=n(75348),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},48206:function(e,t,n){"use strict";var r=n(46129),i=n(61674),o=n(75348),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},32457:function(e,t,n){"use strict";n(44511)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},48672:function(e,t,n){"use strict";n(44511)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},89405:function(e,t,n){n(39381)("asyncIterator")},4324:function(e,t,n){n(39381)("observable")},5792:function(e,t,n){var r=n(46129);r(r.S,"System",{global:n(51079)})},94930:function(e,t,n){n(78163)("WeakMap")},2025:function(e,t,n){n(26044)("WeakMap")},30376:function(e,t,n){n(78163)("WeakSet")},55642:function(e,t,n){n(26044)("WeakSet")},34699:function(e,t,n){for(var r=n(22676),i=n(68062),o=n(25281),a=n(51079),s=n(27616),u=n(83447),c=n(71732),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var g,v=p[m],y=d[v],b=a[v],x=b&&b.prototype;if(x&&(x[l]||s(x,l,f),x[h]||s(x,h,v),u[v]=f,y))for(g in r)x[g]||o(x,g,r[g],!0)}},93449:function(e,t,n){var r=n(46129),i=n(15671);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},31567:function(e,t,n){var r=n(51079),i=n(46129),o=n(75348),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},51505:function(e,t,n){n(79117),n(45145),n(9136),n(96992),n(68013),n(15532),n(92479),n(72764),n(37055),n(76873),n(14413),n(93371),n(5349),n(49695),n(64576),n(38268),n(52901),n(72080),n(53367),n(73765),n(35343),n(49609),n(37891),n(53191),n(55854),n(70803),n(28789),n(59946),n(4883),n(22493),n(41941),n(71508),n(26930),n(32129),n(20873),n(66246),n(72269),n(94052),n(78863),n(20614),n(10085),n(17191),n(87489),n(24673),n(34042),n(79394),n(77061),n(10228),n(31147),n(92861),n(10632),n(86034),n(8489),n(36154),n(20544),n(91651),n(77522),n(20755),n(19748),n(98318),n(95378),n(96633),n(91376),n(70501),n(94559),n(7818),n(11160),n(38217),n(6413),n(35855),n(54786),n(80970),n(49914),n(96706),n(86351),n(21594),n(73511),n(47755),n(47181),n(99993),n(43537),n(181),n(92949),n(3125),n(67552),n(71459),n(44727),n(23982),n(64659),n(1549),n(67318),n(97228),n(98903),n(86479),n(87815),n(23594),n(26942),n(6632),n(55535),n(22676),n(76539),n(43927),n(8479),n(96866),n(88939),n(74751),n(7960),n(58471),n(98717),n(18725),n(83546),n(14431),n(96893),n(53842),n(33454),n(42990),n(94873),n(58252),n(60866),n(3732),n(42024),n(35142),n(20495),n(15753),n(41069),n(62937),n(88620),n(54130),n(58981),n(46848),n(32209),n(22859),n(84346),n(58157),n(16452),n(74856),n(95766),n(91821),n(42451),n(46392),n(86851),n(91392),n(48206),n(62920),n(32457),n(48672),n(51798),n(89405),n(4324),n(56125),n(87950),n(51575),n(45989),n(80069),n(24355),n(76881),n(34511),n(58562),n(81928),n(36790),n(2025),n(55642),n(73604),n(2669),n(94930),n(30376),n(83739),n(5792),n(91970),n(88389),n(60546),n(9544),n(58642),n(30729),n(35524),n(62841),n(71236),n(39830),n(95881),n(29127),n(24192),n(57096),n(18833),n(79929),n(28055),n(6084),n(88410),n(47246),n(82779),n(25860),n(50682),n(68269),n(80708),n(78671),n(31567),n(93449),n(34699),e.exports=n(68777)},57089:function(e){"use strict";function t(e,t,o){o=o||2;var a,s,u,h,f,p,m,g=t&&t.length,v=g?t[0]*o:e.length,y=n(e,0,v,o,!0),b=[];if(!y||y.next===y.prev)return b;if(g&&(y=function(e,t,i,o){var a,s,u,h=[];for(a=0,s=t.length;a<s;a++)(u=n(e,t[a]*o,a<s-1?t[a+1]*o:e.length,o,!1))===u.next&&(u.steiner=!0),h.push(d(u));for(h.sort(c),a=0;a<h.length;a++)i=r(i=l(h[a],i),i.next);return i}(e,t,y,o)),e.length>80*o){a=u=e[0],s=h=e[1];for(var x=o;x<v;x+=o)(f=e[x])<a&&(a=f),(p=e[x+1])<s&&(s=p),f>u&&(u=f),p>h&&(h=p);m=0!==(m=Math.max(u-a,h-s))?1/m:0}return i(y,b,o,a,s,m),b}function n(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=M(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=M(o,e[o],e[o+1],a);return a&&v(a,a.next)&&(A(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(A(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,c,l,h,d){if(e){!d&&h&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,c,l,h);for(var p,m,g=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?a(e,c,l,h):o(e))t.push(p.i/n),t.push(e.i/n),t.push(m.i/n),A(e),e=m.next,g=m.next;else if((e=m)===g){d?1===d?i(e=s(r(e),t,n),t,n,c,l,h,2):2===d&&u(e,t,n,c,l,h):i(r(e),t,n,c,l,h,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(p(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=f(s,u,t,n,r),d=f(c,l,t,n,r),m=e.prevZ,v=e.nextZ;m&&m.z>=h&&v&&v.z<=d;){if(m!==e.prev&&m!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;if(m=m.prevZ,v!==e.prev&&v!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;m&&m.z>=h;){if(m!==e.prev&&m!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;v&&v.z<=d;){if(v!==e.prev&&v!==e.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&g(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!v(o,a)&&y(o,i,i.next,a)&&E(o,a)&&E(a,o)&&(t.push(o.i/n),t.push(i.i/n),t.push(a.i/n),A(i),A(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function u(e,t,n,o,a,s){var u=e;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&m(u,c)){var l=w(u,c);return u=r(u,u.next),l=r(l,l.next),i(u,t,n,o,a,s),void i(l,t,n,o,a,s)}c=c.next}u=u.next}while(u!==e)}function c(e,t){return e.x-t.x}function l(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&p(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),E(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=u)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var i=w(n,e),o=r(n,n.next);return r(i,i.next),t===n?o:t}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(E(e,t)&&E(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||v(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=x(g(e,t,n)),o=x(g(e,t,r)),a=x(g(n,r,e)),s=x(g(n,r,t));return i!==o&&a!==s||(!(0!==i||!b(e,n,t))||(!(0!==o||!b(e,r,t))||(!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function x(e){return e>0?1:e<0?-1:0}function E(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function w(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function M(e,t,n,r){var i=new _(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var c=t[s]*n,l=s<u-1?t[s+1]*n:e.length;a-=Math.abs(T(e,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},62110:function(t,n,r){"use strict";var i=r(48309),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function c(e){return i.isMemo(e)?s:u[e.$$typeof]||o}u[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[i.Memo]=s;var l=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;t.exports=function t(n,r,i){if("string"!==typeof r){if(m){var o=p(r);o&&o!==m&&t(n,o,i)}var s=h(r);f&&(s=s.concat(f(r)));for(var u=c(n),g=c(r),v=0;v<s.length;++v){var y=s[v];if(!a[y]&&(!i||!i[y])&&(!g||!g[y])&&(!u||!u[y])){var b=d(r,y);try{l(n,y,b)}catch(e){}}}}return n}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return E(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||E(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=E},48309:function(e,t,n){"use strict";e.exports=n(746)},95929:function(e){var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",a=void 0!==r.container?r.container:document.querySelector("head"),s=t.indexOf(a);return-1===s&&(s=t.push(a)-1,n[s]={}),void 0!==n[s]&&void 0!==n[s][o]?i=n[s][o]:(i=n[s][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?a.insertBefore(i,a.childNodes[0]):a.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},50908:function(e,t,n){var r=n(68136)(n(97009),"DataView");e.exports=r},29676:function(e,t,n){var r=n(85403),i=n(62747),o=n(16037),a=n(94154),s=n(77728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},38384:function(e,t,n){var r=n(43894),i=n(8699),o=n(64957),a=n(87184),s=n(87109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},95797:function(e,t,n){var r=n(68136)(n(97009),"Map");e.exports=r},78059:function(e,t,n){var r=n(34086),i=n(9255),o=n(29186),a=n(13423),s=n(73739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},78319:function(e,t,n){var r=n(68136)(n(97009),"Promise");e.exports=r},23924:function(e,t,n){var r=n(68136)(n(97009),"Set");e.exports=r},20692:function(e,t,n){var r=n(78059),i=n(35774),o=n(41596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},22854:function(e,t,n){var r=n(38384),i=n(20511),o=n(50835),a=n(90707),s=n(18832),u=n(35077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},87197:function(e,t,n){var r=n(97009).Symbol;e.exports=r},46219:function(e,t,n){var r=n(97009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(68136)(n(97009),"WeakMap");e.exports=r},84903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},47538:function(e,t,n){var r=n(86478),i=n(34963),o=n(93629),a=n(5174),s=n(26800),u=n(19102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&a(e),f=!n&&!l&&!h&&u(e),d=n||l||h||f,p=d?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},41705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},47897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},27112:function(e,t,n){var r=n(29231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},61986:function(e,t,n){var r=n(41705),i=n(93629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},39066:function(e,t,n){var r=n(87197),i=n(81587),o=n(43581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},71848:function(e,t,n){var r=n(93355),i=n(43141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},93355:function(e,t,n){var r=n(22854),i=n(15305),o=n(92206),a=n(88078),s=n(88383),u=n(93629),c=n(5174),l=n(19102),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=u(e),b=u(t),x=y?f:s(e),E=b?f:s(t),w=(x=x==h?d:x)==d,M=(E=E==h?d:E)==d,A=x==E;if(A&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(A&&!w)return v||(v=new r),y||l(e)?i(e,t,n,m,g,v):o(e,t,x,n,m,g,v);if(!(1&n)){var _=w&&p.call(e,"__wrapped__"),T=M&&p.call(t,"__wrapped__");if(_||T){var S=_?e.value():e,N=T?t.value():t;return v||(v=new r),g(S,N,n,m,v)}}return!!A&&(v||(v=new r),a(e,t,n,m,g,v))}},26703:function(e,t,n){var r=n(74786),i=n(257),o=n(8092),a=n(27907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},68150:function(e,t,n){var r=n(39066),i=n(24635),o=n(43141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},43654:function(e,t,n){var r=n(62936),i=n(75964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},86478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},20821:function(e,t,n){var r=n(26050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},60075:function(e){e.exports=function(e,t){return e.has(t)}},65525:function(e,t,n){var r=n(97009)["__core-js_shared__"];e.exports=r},15305:function(e,t,n){var r=n(20692),i=n(47897),o=n(60075);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,h=t.length;if(l!=h&&!(c&&h>l))return!1;var f=u.get(e),d=u.get(t);if(f&&d)return f==t&&d==e;var p=-1,m=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var v=e[p],y=t[p];if(a)var b=c?a(y,v,p,t,e,u):a(v,y,p,e,t,u);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,u)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,u)){m=!1;break}}return u.delete(e),u.delete(t),m}},92206:function(e,t,n){var r=n(87197),i=n(46219),o=n(29231),a=n(15305),s=n(90234),u=n(22230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=a(d(e),d(t),r,c,h,f);return f.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},88078:function(e,t,n){var r=n(38248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in t:i.call(t,f)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=u;++h<l;){var v=e[f=c[h]],y=t[f];if(o)var b=u?o(y,v,f,t,e,s):o(v,y,f,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var x=e.constructor,E=t.constructor;x==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(e),s.delete(t),m}},31032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},38248:function(e,t,n){var r=n(61986),i=n(65918),o=n(12742);e.exports=function(e){return r(e,o,i)}},32799:function(e,t,n){var r=n(55964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},68136:function(e,t,n){var r=n(26703),i=n(30040);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},81587:function(t,n,r){var i=r(87197),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=function(t){var n=a.call(t,u),r=t[u];try{t[u]=void 0;var i=!0}catch(e){}var o=s.call(t);return i&&(n?t[u]=r:delete t[u]),o}},65918:function(e,t,n){var r=n(84903),i=n(68174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},88383:function(e,t,n){var r=n(50908),i=n(95797),o=n(78319),a=n(23924),s=n(7091),u=n(39066),c=n(27907),l="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=l||o&&x(o.resolve())!=h||a&&x(new a)!=f||s&&x(new s)!=d)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return l;case v:return h;case y:return f;case b:return d}return t}),e.exports=x},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},85403:function(e,t,n){var r=n(49620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},94154:function(e,t,n){var r=n(49620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},77728:function(e,t,n){var r=n(49620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(65525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(27112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64957:function(e,t,n){var r=n(27112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},87184:function(e,t,n){var r=n(27112);e.exports=function(e){return r(this.__data__,e)>-1}},87109:function(e,t,n){var r=n(27112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},34086:function(e,t,n){var r=n(29676),i=n(38384),o=n(95797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(32799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).get(e)}},13423:function(e,t,n){var r=n(32799);e.exports=function(e){return r(this,e).has(e)}},73739:function(e,t,n){var r=n(32799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},90234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},49620:function(e,t,n){var r=n(68136)(Object,"create");e.exports=r},75964:function(e,t,n){var r=n(12709)(Object.keys,Object);e.exports=r},49494:function(t,n,r){t=r.nmd(t);var i=r(31032),o=n&&!n.nodeType&&n,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=u},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},97009:function(e,t,n){var r=n(31032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},35774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},41596:function(e){e.exports=function(e){return this.__data__.has(e)}},22230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},20511:function(e,t,n){var r=n(38384);e.exports=function(){this.__data__=new r,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,n){var r=n(38384),i=n(95797),o=n(78059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},27907:function(t){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},48573:function(e,t,n){var r=n(8092),i=n(50072),o=n(42582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,h,f,d,p=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,h=e.apply(r,n)}function b(e){return p=e,f=setTimeout(E,t),m?y(e):h}function x(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-p>=l}function E(){var e=i();if(x(e))return w(e);f=setTimeout(E,function(e){var n=t-(e-d);return g?s(n,l-(e-p)):n}(e))}function w(e){return f=void 0,v&&u?y(e):(u=c=void 0,h)}function M(){var e=i(),n=x(e);if(u=arguments,c=this,d=e,n){if(void 0===f)return b(d);if(g)return clearTimeout(f),f=setTimeout(E,t),y(d)}return void 0===f&&(f=setTimeout(E,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,l=(g="maxWait"in n)?a(o(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),M.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=c=f=void 0},M.flush=function(){return void 0===f?h:w(i())},M}},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},34963:function(e,t,n){var r=n(4906),i=n(43141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,n){var r=n(74786),i=n(24635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(97009),i=n(49488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},18111:function(e,t,n){var r=n(71848);e.exports=function(e,t){return r(e,t)}},74786:function(e,t,n){var r=n(39066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},70152:function(e,t,n){var r=n(39066),i=n(43141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},19102:function(e,t,n){var r=n(68150),i=n(16194),o=n(49494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},12742:function(e,t,n){var r=n(47538),i=n(43654),o=n(21473);e.exports=function(e){return o(e)?r(e):i(e)}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},42582:function(e,t,n){var r=n(20821),i=n(8092),o=n(70152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},31725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},80888:function(e,t,n){"use strict";var r=n(79047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},97059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,h,f,d,p=e[c].replace(a,"%20"),m=p.indexOf(r);m>=0?(l=p.substr(0,m),h=p.substr(m+1)):(l=p,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),t(o,f)?Array.isArray(o[f])?o[f].push(d):o[f]=[o[f],d]:o[f]=d}return o}},94297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},30863:function(e,t,n){"use strict";t.decode=t.parse=n(97059),t.encode=t.stringify=n(94297)},94501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return E(e)===h}t.isFragment=function(e){return E(e)===o},t.isMemo=function(e){return E(e)===m}},73873:function(e,t,n){"use strict";e.exports=n(94501)},34463:function(t,n,r){"use strict";var i=r(72791),o=r(45296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),M=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var k,U=Object.assign;function F(e){if(void 0===k)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return"\n"+k+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function G(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case M:return"Portal";case T:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){J(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ne(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ae(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,he,fe=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ae=null,_e=null;function Te(e){if(e=xi(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Me(e.stateNode,e.type,t))}}function Se(e){Ae?_e?_e.push(e):_e=[e]:Ae=e}function Ne(){if(Ae){var e=Ae,t=_e;if(_e=Ae=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Le=!1;function De(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ce(e,t,n)}finally{Le=!1,(null!==Ae||null!==_e)&&(Ie(),Ne())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(h)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(he){Re=!1}function je(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ke=!1,Ue=null,Fe=!1,ze=null,Be={onError:function(e){ke=!0,Ue=e}};function Ge(e,t,n,r,i,o,a,s,u){ke=!1,Ue=null,je.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(He(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Qe=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,Ze=o.unstable_requestPaint,Je=o.unstable_now,$e=o.unstable_getCurrentPriorityLevel,et=o.unstable_ImmediatePriority,tt=o.unstable_UserBlockingPriority,nt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,it=o.unstable_IdlePriority,ot=null,at=null;var st=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/ct|0)|0},ut=Math.log,ct=Math.LN2;var lt=64,ht=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Mt,At,_t,Tt,St=!1,Nt=[],Ct=null,It=null,Lt=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function kt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&Mt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=bi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&Mt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ee=r,n.target.dispatchEvent(r),Ee=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==Lt&&Ft(Lt)&&(Lt=null),Dt.forEach(zt),Ot.forEach(zt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Gt(t,e)}if(0<Nt.length){Gt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Gt(Ct,e),null!==It&&Gt(It,e),null!==Lt&&Gt(Lt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Rt.shift()}var Vt=E.ReactCurrentBatchConfig,Yt=!0;function Wt(e,t,n,r){var i=xt,o=Vt.transition;Vt.transition=null;try{xt=1,Qt(e,t,n,r)}finally{xt=i,Vt.transition=o}}function Xt(e,t,n,r){var i=xt,o=Vt.transition;Vt.transition=null;try{xt=4,Qt(e,t,n,r)}finally{xt=i,Vt.transition=o}}function Qt(e,t,n,r){if(Yt){var i=Kt(e,t,n,r);if(null===i)Yr(e,t,r,qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=kt(Ct,e,t,n,r,i),!0;case"dragenter":return It=kt(It,e,t,n,r,i),!0;case"mouseover":return Lt=kt(Lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,kt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,kt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=xi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Yr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=bi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,un,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(ln),fn=U({},ln,{view:0,detail:0}),dn=an(fn),pn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),mn=an(pn),gn=an(U({},pn,{dataTransfer:0})),vn=an(U({},fn,{relatedTarget:0})),yn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(bn),En=an(U({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Tn(){return _n}var Sn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Sn),Cn=an(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Ln=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var kn=h&&"TextEvent"in window&&!jn,Un=h&&(!Pn||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Xr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Qn=null;function qn(e){Fr(e,0)}function Kn(e){if(Q(Ei(e)))return e}function Zn(e,t){if("change"===e)return t}var Jn=!1;if(h){var $n;if(h){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}$n=er}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){Xn&&(Xn.detachEvent("onpropertychange",rr),Qn=Xn=null)}function rr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];Wn(t,Qn,e,we(e)),De(qn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Qn=n,(Xn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=hr(n,o);var a=hr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,br=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Xr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},_r={};function Tr(e){if(Ar[e])return Ar[e];if(!Mr[e])return e;var t,n=Mr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Ar[e]=n[t];return e}h&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);var Sr=Tr("animationend"),Nr=Tr("animationiteration"),Cr=Tr("animationstart"),Ir=Tr("transitionend"),Lr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Lr.set(e,t),c(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Nr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ge.apply(this,arguments),ke){if(!ke)throw Error(a(198));var l=Ue;ke=!1,Ue=null,Fe||(Fe=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ur(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ur(i,s,c),o=u}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Gr]){e[Gr]=!0,s.forEach((function(t){"selectionchange"!==t&&(kr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Zt(t)){case 1:var i=Wt;break;case 4:i=Xt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=bi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,i=we(n),a=[];e:{var s=Lr.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Nr:case Cr:u=yn;break;case Ir:u=Ln;break;case"scroll":u=dn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Oe(p,f))&&l.push(Wr(p,m,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ee||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[mi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:Ei(u),d=null==c?s:Ei(c),(s=new l(m,p+"leave",u,n,i)).target=h,s.relatedTarget=d,m=null,bi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Qr(d))p++;for(d=0,m=f;m;m=Qr(m))d++;for(;0<p-d;)l=Qr(l),p--;for(;0<d-p;)f=Qr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Qr(l),f=Qr(f)}l=null}else l=null;null!==u&&qr(a,s,u,l,!1),null!==c&&null!==h&&qr(a,h,c,l,!0)}if("select"===(u=(s=r?Ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Yn(s))if(Jn)g=sr;else{g=or;var v=ir}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&te(s,"number",s.value)),v=r?Ei(r):window,e){case"focusin":(Yn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,br=null);break;case"focusout":br=yr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=tn()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Hn=!0)),0<(v=Xr(r,b)).length&&(b=new En(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=tn(),en=$t=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,oi="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ii;function ui(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,mi="__reactContainer$"+fi,gi="__reactEvents$"+fi,vi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[di])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[di]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var Mi=[],Ai=-1;function _i(e){return{current:e}}function Ti(e){0>Ai||(e.current=Mi[Ai],Mi[Ai]=null,Ai--)}function Si(e,t){Ai++,Mi[Ai]=e.current,e.current=t}var Ni={},Ci=_i(Ni),Ii=_i(!1),Li=Ni;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ii),Ti(Ci)}function Pi(e,t,n){if(Ci.current!==Ni)throw Error(a(168));Si(Ci,t),Si(Ii,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return U({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Li=Ci.current,Si(Ci,e),Si(Ii,Ii.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(Ci),Si(Ci,e)):Ti(Ii),Si(Ii,n)}var Fi=null,zi=!1,Bi=!1;function Gi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Bi&&null!==Fi){Bi=!0;var t=0,n=xt;try{var r=Fi;for(xt=1;t<r.length;t++){var i=r[t];do{i=i(!0)}while(null!==i)}Fi=null,zi=!1}catch(e){throw null!==Fi&&(Fi=Fi.slice(t+1)),Qe(et,Hi),e}finally{xt=n,Bi=!1}}return null}var Vi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=_i(null),Xi=null,Qi=null,qi=null;function Ki(){qi=Qi=Xi=null}function Zi(e){var t=Wi.current;Ti(Wi),e._currentValue=t}function Ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){Xi=e,qi=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function eo(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Qi){if(null===Xi)throw Error(a(308));Qi=e,Xi.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var to=null,no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ao(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,nc(e)?(null===(e=n.interleaved)?(t.next=t,null===to?to=[n]:to.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var i=e.updateQueue;no=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=U({},h,f);break e;case 2:no=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ru|=a,e.lanes=a,e.memoizedState=h}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new i.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=$u(e),o=oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ao(e,o),null!==(t=ec(e,i,r))&&so(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ju(),i=$u(e),o=oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ao(e,o),null!==(t=ec(e,i,r))&&so(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ju(),r=$u(e),i=oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ao(e,i),null!==(t=ec(e,r,n))&&so(t,e,r)}};function mo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function go(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"===typeof o&&null!==o?o=eo(o):(i=Oi(t)?Li:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=eo(o):(o=Oi(t)?Li:Ci.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var bo=[],xo=0,Eo=null,wo=0,Mo=[],Ao=0,_o=null,To=1,So="";function No(e,t){bo[xo++]=wo,bo[xo++]=Eo,Eo=e,wo=t}function Co(e,t,n){Mo[Ao++]=To,Mo[Ao++]=So,Mo[Ao++]=_o,_o=e;var r=To;e=So;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,To=1<<32-st(t)+i|n<<i|r,So=o+e}else To=1<<o|n<<i|r,So=e}function Io(e){null!==e.return&&(No(e,1),Co(e,1,0))}function Lo(e){for(;e===Eo;)Eo=bo[--xo],bo[xo]=null,wo=bo[--xo],bo[xo]=null;for(;e===_o;)_o=Mo[--Ao],Mo[Ao]=null,So=Mo[--Ao],Mo[Ao]=null,To=Mo[--Ao],Mo[Ao]=null}var Do=null,Oo=null,Ro=!1,Po=null;function jo(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Do=e,Oo=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Do=e,Oo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_o?{id:To,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Do=e,Oo=null,!0);default:return!1}}function Uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fo(e){if(Ro){var t=Oo;if(t){var n=t;if(!ko(e,t)){if(Uo(e))throw Error(a(418));t=li(n.nextSibling);var r=Do;t&&ko(e,t)?jo(r,n):(e.flags=-4097&e.flags|2,Ro=!1,Do=e)}}else{if(Uo(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ro=!1,Do=e}}}function zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Do=e}function Bo(e){if(e!==Do)return!1;if(!Ro)return zo(e),Ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=Oo)){if(Uo(e)){for(e=Oo;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)jo(e,t),t=li(t.nextSibling)}if(zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oo=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Oo=null}}else Oo=Do?li(e.stateNode.nextSibling):null;return!0}function Go(){Oo=Do=null,Ro=!1}function Ho(e){null===Po?Po=[e]:Po.push(e)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ho&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Wo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=kc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case M:return(t=Uc(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(ne(t)||j(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case M:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(ne(n)||j(n))return null!==i?null:h(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=g}if(m===s.length)return n(i,h),Ro&&No(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return Ro&&No(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),Ro&&No(i,m),c}function g(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),Ro&&No(i,g),l;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return Ro&&No(i,g),l}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),Ro&&No(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===A&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===A){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Wo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Vo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===A?((o=Pc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Rc(a.type,a.key,a.props,null,r.mode,u)).ref=Vo(r,o,a),u.return=r,r=u)}return s(r);case M:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(l=a._init)(a._payload),u)}if(ne(a))return m(r,o,a,u);if(j(a))return g(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=kc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=Xo(!0),qo=Xo(!1),Ko={},Zo=_i(Ko),Jo=_i(Ko),$o=_i(Ko);function ea(e){if(e===Ko)throw Error(a(174));return e}function ta(e,t){switch(Si($o,t),Si(Jo,e),Si(Zo,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zo),Si(Zo,t)}function na(){Ti(Zo),Ti(Jo),Ti($o)}function ra(e){ea($o.current);var t=ea(Zo.current),n=ce(t,e.type);t!==n&&(Si(Jo,e),Si(Zo,n))}function ia(e){Jo.current===e&&(Ti(Zo),Ti(Jo))}var oa=_i(0);function aa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sa=[];function ua(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var ca=E.ReactCurrentDispatcher,la=E.ReactCurrentBatchConfig,ha=0,fa=null,da=null,pa=null,ma=!1,ga=!1,va=0,ya=0;function ba(){throw Error(a(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,o){if(ha=o,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ca.current=null===e||null===e.memoizedState?is:os,e=n(r,i),ga){o=0;do{if(ga=!1,va=0,25<=o)throw Error(a(301));o+=1,pa=da=null,t.updateQueue=null,ca.current=as,e=n(r,i)}while(ga)}if(ca.current=rs,t=null!==da&&null!==da.next,ha=0,pa=da=fa=null,ma=!1,t)throw Error(a(300));return e}function wa(){var e=0!==va;return va=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?fa.memoizedState=pa=e:pa=pa.next=e,pa}function Aa(){if(null===da){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var t=null===pa?fa.memoizedState:pa.next;if(null!==t)pa=t,da=e;else{if(null===e)throw Error(a(310));e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===pa?fa.memoizedState=pa=e:pa=pa.next=e}return pa}function _a(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=da,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((ha&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,fa.lanes|=h,Ru|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,ur(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,fa.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ur(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Na(){}function Ca(e,t){var n=fa,r=Aa(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,za(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==pa&&1&pa.memoizedState.tag){if(n.flags|=2048,Pa(9,La.bind(null,n,r,i,t),void 0,null),null===Su)throw Error(a(349));0!==(30&ha)||Ia(n,t,i)}return i}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&ec(e,1,-1)}function Da(e,t,n){return n((function(){Oa(t)&&ec(e,1,-1)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Ra(e){var t=Ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Ja.bind(null,fa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Aa().memoizedState}function ka(e,t,n,r){var i=Ma();fa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Aa();r=void 0===r?null:r;var o=void 0;if(null!==da){var a=da.memoizedState;if(o=a.destroy,null!==r&&xa(r,a.deps))return void(i.memoizedState=Pa(t,n,o,r))}fa.flags|=e,i.memoizedState=Pa(1|t,n,o,r)}function Fa(e,t){return ka(8390656,8,e,t)}function za(e,t){return Ua(2048,8,e,t)}function Ba(e,t){return Ua(4,2,e,t)}function Ga(e,t){return Ua(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ha.bind(null,t,e),n)}function Ya(){}function Wa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(ur(n,t)||(n=gt(),fa.lanes|=n,Ru|=n,e.baseState=!0),t)}function qa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=la.transition;la.transition={};try{e(!1),t()}finally{xt=n,la.transition=r}}function Ka(){return Aa().memoizedState}function Za(e,t,n){var r=$u(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e)?es(t,n):(ts(e,t,n),null!==(e=ec(e,r,n=Ju()))&&ns(e,t,r))}function Ja(e,t,n){var r=$u(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))es(t,i);else{ts(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ur(s,a))return}catch(u){}null!==(e=ec(e,r,n=Ju()))&&ns(e,t,r)}}function $a(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function es(e,t){ga=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){nc(e)?(null===(e=t.interleaved)?(n.next=n,null===to?to=[t]:to.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ns(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var rs={readContext:eo,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},is={readContext:eo,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:eo,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var n=Ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Za.bind(null,fa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:Ra,useDebugValue:Ya,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=qa.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fa,i=Ma();if(Ro){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Su)throw Error(a(349));0!==(30&ha)||Ia(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fa(Da.bind(null,r,o,e),[e]),r.flags|=2048,Pa(9,La.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ma(),t=Su.identifierPrefix;if(Ro){var n=So;t=":"+t+"R"+(n=(To&~(1<<32-st(To)-1)).toString(32)+n),0<(n=va++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:eo,useCallback:Wa,useContext:eo,useEffect:za,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Ga,useMemo:Xa,useReducer:Ta,useRef:ja,useState:function(){return Ta(_a)},useDebugValue:Ya,useDeferredValue:function(e){return Qa(Aa(),da.memoizedState,e)},useTransition:function(){return[Ta(_a)[0],Aa().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ca,useId:Ka,unstable_isNewReconciler:!1},as={readContext:eo,useCallback:Wa,useContext:eo,useEffect:za,useImperativeHandle:Va,useInsertionEffect:Ba,useLayoutEffect:Ga,useMemo:Xa,useReducer:Sa,useRef:ja,useState:function(){return Sa(_a)},useDebugValue:Ya,useDeferredValue:function(e){var t=Aa();return null===da?t.memoizedState=e:Qa(t,da.memoizedState,e)},useTransition:function(){return[Sa(_a)[0],Aa().memoizedState]},useMutableSource:Na,useSyncExternalStore:Ca,useId:Ka,unstable_isNewReconciler:!1};function ss(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var cs,ls,hs,fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Hu=r),us(0,t)},n}function ps(e,t,n){(n=oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=oo(-1,1)).tag=2,ao(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function bs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xs(e,t,n){var r=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),bs(t),null;case 3:return r=t.stateNode,na(),Ti(Ii),Ti(Ci),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Po&&(ac(Po),Po=null))),bs(t),null;case 5:ia(t);var i=ea($o.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return bs(t),null}if(e=ea(Zo.current),Bo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":oe(r,o),zr("invalid",r)}for(var s in be(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":X(r),ee(r,o,!0);break;case"textarea":X(r),se(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[pi]=r,cs(e,t),t.stateNode=e;e:{switch(s=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)zr(jr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),i=ie(e,r),zr("invalid",e)}for(o in be(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ve(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&x(e,o,l,s))}switch(n){case"input":X(e),ee(e,r,!1);break;case"textarea":X(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?re(e,!!r.multiple,o,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return bs(t),null;case 6:if(e&&null!=t.stateNode)hs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ea($o.current),ea(Zo.current),Bo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=Do))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return bs(t),null;case 13:if(Ti(oa),r=t.memoizedState,Ro&&null!==Oo&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Oo;r;)r=li(r.nextSibling);return Go(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Bo(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[di]=t}else Go(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return bs(t),null}return null!==Po&&(ac(Po),Po=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Bo(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Du&&(Du=3):mc())),null!==t.updateQueue&&(t.flags|=4),bs(t),null);case 4:return na(),null===e&&Hr(t.stateNode.containerInfo),bs(t),null;case 10:return Zi(t.type._context),bs(t),null;case 19:if(Ti(oa),null===(o=t.memoizedState))return bs(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)ys(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=aa(e))){for(t.flags|=128,ys(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(oa,1&oa.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zu&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=aa(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ro)return bs(t),null}else 2*Je()-o.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=oa.current,Si(oa,r?1&n|2:1&n),t):(bs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Iu)&&(bs(t),6&t.subtreeFlags&&(t.flags|=8192)):bs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ea(Zo.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=ie(e,i),r=ie(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(l in be(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Es=E.ReactCurrentOwner,ws=!1;function Ms(e,t,n,r){t.child=null===e?qo(t,null,n,r):Qo(t,e.child,n,r)}function As(e,t,n,r,i){n=n.render;var o=t.ref;return $i(t,i),r=Ea(e,t,n,r,o,i),n=wa(),null===e||ws?(Ro&&n&&Io(t),t.flags|=1,Ms(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Lu,Iu),Iu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Lu,Iu),Iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Lu,Iu),Iu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Lu,Iu),Iu|=r;return Ms(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Oi(n)?Li:Ci.current;return o=Di(t,o),$i(t,i),n=Ea(e,t,n,r,o,i),r=wa(),null===e||ws?(Ro&&r&&Io(t),t.flags|=1,Ms(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Is(e,t,n,r,i){if(Oi(n)){var o=!0;ki(t)}else o=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=eo(c):c=Di(t,c=Oi(n)?Li:Ci.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&vo(t,a,r,c),no=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ii.current||no?("function"===typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=no||mo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,io(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=eo(u):u=Di(t,u=Oi(n)?Li:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&vo(t,a,r,u),no=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ii.current||no?("function"===typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=no||mo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ls(e,t,n,r,o,i)}function Ls(e,t,n,r,i,o){Ns(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),Ys(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):Ms(e,t,s,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ta(e,t.containerInfo)}function Os(e,t,n,r,i){return Go(),Ho(i),t.flags|=256,Ms(e,t,n,r),t.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function ks(e,t,n){var r,i=t.pendingProps,o=oa.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(oa,1&o),null===e)return Fo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=jc(o,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=Rs,e):Us(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Bs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=jc({mode:"visible",children:i.children},o,0,null),(s=Pc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Qo(t,e.child,null,n),t.child.memoizedState=Ps(n),t.memoizedState=Rs,s);if(0===(1&t.mode))t=Bs(e,t,n,null);else if("$!"===r.data)t=Bs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Su)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,ec(e,i,-1))}mc(),t=Bs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Oo=li(r.nextSibling),Do=t,Ro=!0,Po=null,null!==n&&(Mo[Ao++]=To,Mo[Ao++]=So,Mo[Ao++]=_o,To=n.id,So=n.overflow,_o=t),(t=Us(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=zs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ps(n):js(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=zs(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ps(n):js(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){var i=e.child;return e=i.sibling,n=Oc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function zs(e,t,n,r,i){var o=t.mode,a=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Oc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Oc(a,r):(r=Pc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Bs(e,t,n,r){return null!==r&&Ho(r),Qo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ji(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ms(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===aa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===aa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){switch(Lo(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return na(),Ti(Ii),Ti(Ci),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ia(t),null;case 13:if(Ti(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Go()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(oa),null;case 4:return na(),null;case 10:return Zi(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}var Xs=!1,Qs=!1,qs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function Js(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var $s=!1;function eu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&Js(t,n,o)}i=i.next}while(i!==r)}}function tu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ru(e){var t=e.alternate;null!==t&&(e.alternate=null,ru(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iu(e){return 5===e.tag||3===e.tag||4===e.tag}function ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(su(e,t,n),e=e.sibling;null!==e;)su(e,t,n),e=e.sibling}var uu=null,cu=!1;function lu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Qs||Zs(n,t);case 6:var r=uu,i=cu;uu=null,lu(e,t,n),cu=i,null!==(uu=r)&&(cu?(e=uu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uu.removeChild(n.stateNode));break;case 18:null!==uu&&(cu?(e=uu,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ht(e)):ci(uu,n.stateNode));break;case 4:r=uu,i=cu,uu=n.stateNode.containerInfo,cu=!0,lu(e,t,n),uu=r,cu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&Js(n,t,a),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Qs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ac(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,lu(e,t,n),Qs=r):lu(e,t,n);break;default:lu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function du(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:uu=u.stateNode,cu=!1;break e;case 3:case 4:uu=u.stateNode.containerInfo,cu=!0;break e}u=u.return}if(null===uu)throw Error(a(160));hu(o,s,i),uu=null,cu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ac(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pu(t,e),t=t.sibling}function pu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(du(t,e),mu(e),4&r){try{eu(3,e,e.return),tu(3,e)}catch(m){Ac(e,e.return,m)}try{eu(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:du(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(du(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),xe(u,s);var l=xe(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ve(i,f):"dangerouslySetInnerHTML"===h?fe(i,f):"children"===h?de(i,f):x(i,h,f,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(m){Ac(e,e.return,m)}}break;case 6:if(du(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,h=e.memoizedProps;try{l.nodeValue=h}catch(m){Ac(e,e.return,m)}}break;case 3:if(du(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:du(t,e),mu(e);break;case 13:du(t,e),mu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fu=Je()),4&r&&fu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(h=Qs)||l,du(t,e),Qs=h):du(t,e),mu(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",s))}catch(m){Ac(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!l&&0!==(1&e.mode))for(Ks=e,e=e.child;null!==e;){for(l=Ks=e;null!==Ks;){switch(f=(h=Ks).child,h.tag){case 0:case 11:case 14:case 15:eu(4,h,h.return);break;case 1:if(Zs(h,h.return),"function"===typeof(o=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(m){Ac(d,p,m)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){bu(l);continue}}null!==f?(f.return=h,Ks=f):bu(l)}e=e.sibling}}break;case 19:du(t,e),mu(e),4&r&&fu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(iu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),su(e,ou(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,ou(e),o);break;default:throw Error(a(161))}}catch(s){Ac(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Ks=e,vu(e,t,n)}function vu(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var i=Ks,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Xs;var c=Qs;if(Xs=a,(Qs=u)&&!c)for(Ks=i;null!==Ks;)u=(a=Ks).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,Ks=u):xu(i);for(;null!==o;)Ks=o,vu(o,t,n),o=o.sibling;Ks=i,Xs=s,Qs=c}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ks=o):yu(e)}}function yu(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||tu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&lo(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}lo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&nu(t)}catch(d){Ac(t,t.return,d)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function bu(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function xu(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tu(4,t)}catch(u){Ac(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ac(t,i,u)}}var o=t.return;try{nu(t)}catch(u){Ac(t,o,u)}break;case 5:var a=t.return;try{nu(t)}catch(u){Ac(t,a,u)}}}catch(u){Ac(t,t.return,u)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var Eu,wu=Math.ceil,Mu=E.ReactCurrentDispatcher,Au=E.ReactCurrentOwner,_u=E.ReactCurrentBatchConfig,Tu=0,Su=null,Nu=null,Cu=0,Iu=0,Lu=_i(0),Du=0,Ou=null,Ru=0,Pu=0,ju=0,ku=null,Uu=null,Fu=0,zu=1/0,Bu=null,Gu=!1,Hu=null,Vu=null,Yu=!1,Wu=null,Xu=0,Qu=0,qu=null,Ku=-1,Zu=0;function Ju(){return 0!==(6&Tu)?Je():-1!==Ku?Ku:Ku=Je()}function $u(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Cu?Cu&-Cu:null!==Vi.transition?(0===Zu&&(Zu=gt()),Zu):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function ec(e,t,n){if(50<Qu)throw Qu=0,qu=null,Error(a(185));var r=tc(e,t);return null===r?null:(yt(r,t,n),0!==(2&Tu)&&r===Su||(r===Su&&(0===(2&Tu)&&(Pu|=t),4===Du&&sc(r,Cu)),rc(r,n),1===t&&0===Tu&&0===(1&e.mode)&&(zu=Je()+500,zi&&Hi())),r)}function tc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function nc(e){return(null!==Su||null!==to)&&0!==(1&e.mode)&&0===(2&Tu)}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-st(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Su?Cu:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){zi=!0,Gi(e)}(uc.bind(null,e)):Gi(uc.bind(null,e)),si((function(){0===Tu&&Hi()})),n=null;else{switch(Et(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ku=-1,Zu=0,0!==(6&Tu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Su?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tu;Tu|=2;var o=pc();for(Su===e&&Cu===t||(Bu=null,zu=Je()+500,fc(e,t));;)try{yc();break}catch(u){dc(e,u)}Ki(),Mu.current=o,Tu=i,null!==Nu?t=0:(Su=null,Cu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ou,fc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ur(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=mt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ou,fc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ec(e,Uu,Bu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Fu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Ju(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Ec.bind(null,e,Uu,Bu),t);break}Ec(e,Uu,Bu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ii(Ec.bind(null,e,Uu,Bu),r);break}Ec(e,Uu,Bu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=ku;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&ac(t)),e}function ac(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sc(e,t){for(t&=~ju,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Tu))throw Error(a(327));wc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ou,fc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Uu,Bu),rc(e,Je()),null}function cc(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(zu=Je()+500,zi&&Hi())}}function lc(e){null!==Wu&&0===Wu.tag&&0===(6&Tu)&&wc();var t=Tu;Tu|=1;var n=_u.transition,r=xt;try{if(_u.transition=null,xt=1,e)return e()}finally{xt=r,_u.transition=n,0===(6&(Tu=t))&&Hi()}}function hc(){Iu=Lu.current,Ti(Lu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oi(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(Lo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:na(),Ti(Ii),Ti(Ci),ua();break;case 5:ia(r);break;case 4:na();break;case 13:case 19:Ti(oa);break;case 10:Zi(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Su=e,Nu=e=Oc(e.current,null),Cu=Iu=t,Du=0,Ou=null,ju=Pu=Ru=0,Uu=ku=null,null!==to){for(t=0;t<to.length;t++)if(null!==(r=(n=to[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}to=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(Ki(),ca.current=rs,ma){for(var r=fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(ha=0,pa=da=fa=null,ga=!1,va=0,Au.current=null,null===n||null===n.return){Du=1,Ou=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(Ro&&1&u.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,u,0,t),Ho(c);break e}}o=c,4!==Du&&(Du=2),null===ku?ku=[o]:ku.push(o),c=ss(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,uo(u,ds(0,c,t));break e;case 1:o=c;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vu||!Vu.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,uo(u,ps(u,o,t));break e}}u=u.return}while(null!==u)}xc(n)}catch(x){t=x,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Mu.current;return Mu.current=rs,null===e?rs:e}function mc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Su||0===(268435455&Ru)&&0===(268435455&Pu)||sc(Su,Cu)}function gc(t,n){var r=Tu;Tu|=2;var i=pc();for(Su===t&&Cu===n||(Bu=null,fc(t,n));;)try{vc();break}catch(e){dc(t,e)}if(Ki(),Tu=r,Mu.current=i,null!==Nu)throw Error(a(261));return Su=null,Cu=0,Du}function vc(){for(;null!==Nu;)bc(Nu)}function yc(){for(;null!==Nu&&!Ke();)bc(Nu)}function bc(e){var t=Eu(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?xc(e):Nu=t,Au.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=xs(n,t,Iu)))return void(Nu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Du=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function Ec(e,t,n){var r=xt,i=_u.transition;try{_u.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Wu);if(0!==(6&Tu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Su&&(Nu=Su=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Cc(nt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_u.transition,_u.transition=null;var s=xt;xt=1;var u=Tu;Tu|=4,Au.current=null,function(e,t){if(ti=Yt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Yt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var E=x.body;null!=E&&(E.textContent="")}break;default:throw Error(a(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=$s,$s=!1}(e,n),pu(n,e),mr(ni),Yt=!!ti,ni=ti=null,e.current=n,gu(n,e,i),Ze(),Tu=u,xt=s,_u.transition=o}else e.current=n;if(Yu&&(Yu=!1,Wu=e,Xu=i),0===(o=e.pendingLanes)&&(Vu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Gu)throw Gu=!1,e=Hu,Hu=null,e;0!==(1&Xu)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===qu?Qu++:(Qu=0,qu=e):Qu=0,Hi()}(e,t,n,r)}finally{_u.transition=i,xt=r}return null}function wc(){if(null!==Wu){var e=Et(Xu),t=_u.transition,n=xt;try{if(_u.transition=null,xt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Xu=0,0!==(6&Tu))throw Error(a(331));var i=Tu;for(Tu|=4,Ks=e.current;null!==Ks;){var o=Ks,s=o.child;if(0!==(16&Ks.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ks=l;null!==Ks;){var h=Ks;switch(h.tag){case 0:case 11:case 15:eu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Ks=f;else for(;null!==Ks;){var d=(h=Ks).sibling,p=h.return;if(ru(h),h===l){Ks=null;break}if(null!==d){d.return=p,Ks=d;break}Ks=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ks=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(o=Ks).flags))switch(o.tag){case 0:case 11:case 15:eu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ks=y;break e}Ks=o.return}}var b=e.current;for(Ks=b;null!==Ks;){var x=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ks=x;else e:for(s=b;null!==Ks;){if(0!==(2048&(u=Ks).flags))try{switch(u.tag){case 0:case 11:case 15:tu(9,u)}}catch(w){Ac(u,u.return,w)}if(u===s){Ks=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Ks=E;break e}Ks=u.return}}if(Tu=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(w){}r=!0}return r}finally{xt=n,_u.transition=t}}return!1}function Mc(e,t,n){ao(e,t=ds(0,t=ss(n,t),1)),t=Ju(),null!==(e=tc(e,1))&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)Mc(e,e,n);else for(;null!==t;){if(3===t.tag){Mc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){ao(t,e=ps(t,e=ss(n,e),1)),e=Ju(),null!==(t=tc(t,1))&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ju(),e.pingedLanes|=e.suspendedLanes&n,Su===e&&(Cu&n)===n&&(4===Du||3===Du&&(130023424&Cu)===Cu&&500>Je()-Fu?fc(e,0):ju|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=Ju();null!==(e=tc(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return Qe(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Ic(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return Pc(n.children,i,o,t);case _:s=8,i|=8;break;case T:return(e=Lc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case I:return(e=Lc(13,n,t,i)).elementType=I,e.lanes=o,e;case L:return(e=Lc(19,n,t,i)).elementType=L,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case N:s=9;break e;case C:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function kc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,a,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Lc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ro(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gc(e){if(!e)return Ni;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return ji(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,u){return(e=zc(n,r,!0,e,0,o,0,s,u)).context=Gc(null),n=e.current,(o=oo(r=Ju(),i=$u(n))).callback=void 0!==t&&null!==t?t:null,ao(n,o),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Vc(e,t,n,r){var i=t.current,o=Ju(),a=$u(i);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),null!==(e=ec(i,a,o))&&so(e,i,a),a}function Yc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),Go();break;case 5:ra(t);break;case 1:Oi(t.type)&&ki(t);break;case 4:ta(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ks(e,t,n):(Si(oa,1&oa.current),null!==(e=Ys(e,t,n))?e.sibling:null);Si(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ys(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Ro&&0!==(1048576&t.flags)&&Co(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Di(t,Ci.current);$i(t,n),i=Ea(null,t,r,e,i,n);var o=wa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,ki(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ro(t),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ls(null,t,r,!0,o,n)):(t.tag=0,Ro&&o&&Io(t),Ms(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=Yi(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=As(null,t,r,e,n);break e;case 14:t=_s(null,t,r,Yi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,io(e,t),co(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Os(e,t,r,n,i=Error(a(424)));break e}for(Oo=li(t.stateNode.containerInfo.firstChild),Do=t,Ro=!0,Po=null,n=qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Go(),r===i){t=Ys(e,t,n);break e}Ms(e,t,r,n)}t=t.child}return t;case 5:return ra(t),null===e&&Fo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(r,i)?s=null:null!==o&&ri(r,o)&&(t.flags|=32),Ns(e,t),Ms(e,t,s,n),t.child;case 6:return null===e&&Fo(t),null;case 13:return ks(e,t,n);case 4:return ta(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):Ms(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Ms(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ms(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(Wi,r._currentValue),r._currentValue=s,null!==o)if(ur(o.value,s)){if(o.children===i.children&&!Ii.current){t=Ys(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=oo(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ji(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ji(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ms(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=eo(i)),t.flags|=1,Ms(e,t,r,n),t.child;case 14:return i=Yi(r=t.type,t.pendingProps),_s(e,t,r,i=Yi(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Oi(r)?(e=!0,ki(t)):e=!1,$i(t,n),go(t,r,i),yo(t,r,i,n),Ls(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Yc(a);s.call(e)}}Vc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Yc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[mi]=a.current,Hr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Yc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[mi]=u.current,Hr(8===e.nodeType?e.parentNode:e),lc((function(){Vc(t,u,n,r)})),u}(n,t,e,i,r);return Yc(a)}Kc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Kc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Vc(null,e,null,null)})),t[mi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Je()),0===(6&Tu)&&(zu=Je()+500,Hi()))}break;case 13:var r=Ju();lc((function(){return ec(e,1,r)})),Xc(e,1)}},Mt=function(e){13===e.tag&&(ec(e,134217728,Ju()),Xc(e,134217728))},At=function(e){if(13===e.tag){var t=Ju(),n=$u(e);ec(e,n,t),Xc(e,n)}},_t=function(){return xt},Tt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Me=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Q(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ce=cc,Ie=lc;var tl={usingClientEntryPoint:!1,Events:[xi,Ei,wi,Se,Ne,cc]},nl={findFiberByHostInstance:bi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{ot=il.inject(rl),at=il}catch(he){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,n.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return Bc(e,t,null,n)},n.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[mi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qc(t)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},n.flushSync=function(e){return lc(e)},n.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},n.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,s),e[mi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},n.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},n.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},n.unstable_batchedUpdates=cc,n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},n.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(54164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},54164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(34463)},66374:function(e,t,n){"use strict";var r=n(72791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},59117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var E=Array.isArray,w=Object.prototype.hasOwnProperty,M={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!A.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:M.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+N(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var c=0;c<e.length;c++){var l=o+N(s=e[c],c);u+=C(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:M};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.1.0"},72791:function(e,t,n){"use strict";e.exports=n(59117)},80184:function(e,t,n){"use strict";e.exports=n(66374)},36813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function E(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(w);else{var t=r(l);null!==t&&R(E,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=d;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!C());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),x(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&R(E,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,A=!1,_=null,T=-1,S=5,N=-1;function C(){return!(t.unstable_now()-N<S)}function I(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?M():(A=!1,_=null)}}else A=!1}if("function"===typeof b)M=function(){b(I)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,D=L.port2;L.port1.onmessage=I,M=function(){D.postMessage(null)}}else M=function(){v(I,0)};function O(e){_=e,A||(A=!0,M())}function R(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(y(T),T=-1):g=!0,R(E,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,O(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},45296:function(e,t,n){"use strict";e.exports=n(36813)},79613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},36369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(h,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=u)e=d(e/35);return d(r+36*e/(e+38))}function w(e){var t,n,r,i,o,a,c,l,h,f,p,g=[],v=e.length,y=0,x=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,a=1,c=u;i>=v&&m("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>d((s-y)/a))&&m("overflow"),y+=l*a,!(l<(h=c<=w?1:c>=w+26?26:c-w));c+=u)a>d(s/(f=u-h))&&m("overflow"),a*=f;w=E(y-o,t=g.length+1,0==o),d(y/t)>s-x&&m("overflow"),x+=d(y/t),y%=t,g.splice(y++,0,x)}return b(g)}function M(e){var t,n,r,i,o,a,c,l,h,f,g,v,b,w,M,A=[];for(v=(e=y(e)).length,t=128,n=0,o=72,a=0;a<v;++a)(g=e[a])<128&&A.push(p(g));for(r=i=A.length,i&&A.push("-");r<v;){for(c=s,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>d((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<v;++a)if((g=e[a])<t&&++n>s&&m("overflow"),g==t){for(l=n,h=u;!(l<(f=h<=o?1:h>=o+26?26:h-o));h+=u)M=l-f,w=u-f,A.push(p(x(f+M%w,0))),l=d(M/w);A.push(p(x(l,0))),o=E(n,b,r==i),n=0,++r}++n,++t}return A.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:w,encode:M,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},12114:function(e,t,n){"use strict";var r=n(36369),i=n(69939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.DB=function(e,t){return b(e,!1,!0).resolve(t)},t.WU=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(30863);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=a.exec(b);if(E){var w=(E=E[0]).toLowerCase();this.protocol=w,b=b.substr(E.length)}if(n||E||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var M="//"===b.substr(0,2);!M||E&&g[E]||(b=b.substr(2),this.slashes=!0)}if(!g[E]&&(M||E&&!v[E])){for(var A,_,T=-1,S=0;S<f.length;S++){-1!==(N=b.indexOf(f[S]))&&(-1===T||N<T)&&(T=N)}-1!==(_=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(A=b.slice(0,_),b=b.slice(_+1),this.auth=decodeURIComponent(A)),T=-1;for(S=0;S<h.length;S++){var N;-1!==(N=b.indexOf(h[S]))&&(-1===T||N<T)&&(T=N)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var I=this.hostname.split(/\./),L=(S=0,I.length);S<L;S++){var D=I[S];if(D&&!D.match(d)){for(var O="",R=0,P=D.length;R<P;R++)D.charCodeAt(R)>127?O+="x":O+=D[R];if(!O.match(d)){var j=I.slice(0,S),k=I.slice(S+1),U=D.match(p);U&&(j.push(U[1]),k.unshift(U[2])),k.length&&(b="/"+k.join(".")+b),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(S=0,L=l.length;S<L;S++){var B=l[S];if(-1!==b.indexOf(B)){var G=encodeURIComponent(B);G===B&&(G=escape(B)),b=b.split(B).join(G)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Y=this.search||"";this.path=F+Y}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=x||b||n.host&&e.pathname,w=E,M=n.pathname&&n.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===M[0]?M[0]=n.host:M.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),E=E&&(""===p[0]||""===M[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,M=p;else if(p.length)M||(M=[]),M.pop(),M=M.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=M.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!M.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=M.slice(-1)[0],T=(n.host||e.host||M.length>1)&&("."===_||".."===_)||""===_,S=0,N=M.length;N>=0;N--)"."===(_=M[N])?M.splice(N,1):".."===_?(M.splice(N,1),S++):S&&(M.splice(N,1),S--);if(!E&&!w)for(;S--;S)M.unshift("..");!E||""===M[0]||M[0]&&"/"===M[0].charAt(0)||M.unshift(""),T&&"/"!==M.join("/").substr(-1)&&M.push("");var C,I=""===M[0]||M[0]&&"/"===M[0].charAt(0);A&&(n.hostname=n.host=I?"":M.length?M.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(E=E||n.host&&M.length)&&!I&&M.unshift(""),M.length?n.pathname=M.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},69939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},91583:function(e,t,n){var r=n(32378),i=n(7983);e.exports=function(e,t){return r(i(e),i(t))}},39963:function(e,t,n){var r=n(4343);e.exports=function(e,t,n){var i=0,o=[];return function(){var a=arguments;++i<=e&&o.push(a[0]),i>=e&&t.apply(n,[o].concat(r(a)))}}},47255:function(e){e.exports=function(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)}},11520:function(e){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(t===e[n])return n}},34117:function(e){e.exports=function(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var n=e.length-1;n>=0;n--)if(t===e[n])return n;return-1}},43025:function(e,t,n){var r=n(47255),i=n(89526),o=n(38911),a=n(6486),s=Object.assign;function u(e,t,n){for(var o,s=t.length,u=1;u<s;u++)o=t[u],r(i(t[u]),n?function(t){e[t]=a(o[t],n)}:function(t){e[t]=o[t]});return e}e.exports=function(e){if(e){var t=arguments;if(!0!==e)return s?s.apply(Object,t):u(e,t);if(t.length>1)return u(e=o(e[1])?[]:{},t,!0)}return e}},63061:function(e,t,n){var r=n(4343);e.exports=function(e,t,n){var i=0,o=[];return n=n||this,function(){var a=arguments;++i<e&&(o.push(a[0]),t.apply(n,[o].concat(r(a))))}}},68490:function(e,t,n){var r=n(4343);e.exports=function(e,t){var n=r(arguments,2);return function(){return e.apply(t,r(arguments).concat(n))}}},36197:function(t,n,r){var i=r(79694),o=r(59512),a=r(8584),s=r(43025),u=r(47255);function c(t){try{var n="__xe_t";return t.setItem(n,1),t.removeItem(n),!0}catch(e){return!1}}function l(e){return navigator.userAgent.indexOf(e)>-1}t.exports=function(){var e,t,n,r=!1,h={isNode:!1,isMobile:r,isPC:!1,isDoc:!!o};return a||typeof process===i?(n=l("Edge"),t=l("Chrome"),r=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),h.isDoc&&(e=o.body||o.documentElement,u(["webkit","khtml","moz","ms","o"],(function(t){h["-"+t]=!!e[t+"MatchesSelector"]}))),s(h,{edge:n,firefox:l("Firefox"),msie:!n&&h["-ms"],safari:!t&&!n&&l("Safari"),isMobile:r,isPC:!r,isLocalStorage:c(a.localStorage),isSessionStorage:c(a.sessionStorage)})):h.isNode=!0,h}},27210:function(e,t,n){var r=n(17199),i=n(56123),o=n(38151),a=n(18840),s={};e.exports=function(e){if(e=r(e),s[e])return s[e];var t=e.length,n=e.replace(/([-]+)/g,(function(e,n,r){return r&&r+n.length<t?"-":""}));return t=n.length,n=n.replace(/([A-Z]+)/g,(function(e,n,r){var s=n.length;return n=a(n),r?s>2&&r+s<t?o(i(n,0,1))+i(n,1,s-1)+o(i(n,s-1,s)):o(i(n,0,1))+i(n,1,s):s>1&&r+s<t?i(n,0,s-1)+o(i(n,s-1,s)):n})).replace(/(-[a-zA-Z])/g,(function(e,t){return o(i(t,1,t.length))})),s[e]=n,n}},92982:function(e,t,n){var r=n(5737)("ceil");e.exports=r},35067:function(e,t,n){var r=n(38911);e.exports=function(e,t){var n,i=[],o=t>>0||1;if(r(e))if(o>=0&&e.length>o)for(n=0;n<e.length;)i.push(e.slice(n,n+o)),n+=o;else i=e.length?[e]:e;return i}},18293:function(e,t,n){var r=n(53728),i=n(26680),o=n(94330),a=n(38911),s=n(49774),u=n(43025),c=n(25176);e.exports=function(e,t,n){if(e){var l,h=arguments.length>1&&(s(t)||!o(t)),f=h?n:t;if(i(e))c(e,h?function(n,r){e[r]=t}:function(t,n){r(e,n)}),f&&u(e,f);else if(a(e)){if(h)for(l=e.length;l>0;)l--,e[l]=t;else e.length=0;f&&e.push.apply(e,f)}}return e}},6486:function(e,t,n){var r=n(36019),i=n(25176),o=n(47255);function a(e,t){var n=e.__proto__.constructor;return t?new n(t):new n}function s(e,t){return t?u(e,t):e}function u(e,t){if(e)switch(r.call(e)){case"[object Object]":var n=Object.create(e.__proto__);return i(e,(function(e,r){n[r]=s(e,t)})),n;case"[object Date]":case"[object RegExp]":return a(e,e.valueOf());case"[object Array]":case"[object Arguments]":var u=[];return o(e,(function(e){u.push(s(e,t))})),u;case"[object Set]":var c=a(e);return c.forEach((function(e){c.add(s(e,t))})),c;case"[object Map]":var l=a(e);return l.forEach((function(e,n){l.set(s(e,t))})),l}return e}e.exports=function(e,t){return e?u(e,t):e}},34412:function(e,t,n){var r=n(13911),i=n(45971),o=n(92982),a=n(39255),s=n(11529),u=n(17199),c=n(69382),l=n(55483),h=n(43025);e.exports=function(e,t){var n,f,d,p,m,g=h({},r.commafyOptions,t),v=g.digits;return s(e)?(n=(g.ceil?o:g.floor?a:i)(e,v),p=(f=l(v?c(n,v):n).split("."))[0],m=f[1],(d=p&&n<0)&&(p=p.substring(1,p.length))):p=(f=(n=u(e).replace(/,/g,""))?[n]:[])[0],f.length?(d?"-":"")+p.replace(new RegExp("(?=(?!(\\b))(.{"+(g.spaceNumber||3)+"})+$)","g"),g.separator||",")+(m?"."+m:""):n}},39322:function(e,t,n){var r=n(13911),i=n(59512),o=n(74238),a=n(18927),s=n(38911),u=n(94330),c=n(49630),l=n(53624),h=n(4893),f=n(89526),d=n(43025),p=n(47255),m=n(79075),g=n(13603),v=n(27172),y=n(95391),b=n(10597);function x(e,t){var n=parseFloat(t),r=m(),i=g(r);switch(e){case"y":return g(v(r,n));case"M":return g(y(r,n));case"d":return g(b(r,n));case"h":case"H":return i+60*n*60*1e3;case"m":return i+60*n*1e3;case"s":return i+1e3*n}return i}function E(e){return(c(e)?e:new Date(e)).toUTCString()}function w(e,t,n){if(i){var h,f,m,g,v,y,b=[],w=arguments;return s(e)?b=e:w.length>1?b=[d({name:e,value:t},n)]:u(e)&&(b=[e]),b.length>0?(p(b,(function(e){h=d({},r.cookies,e),m=[],h.name&&(f=h.expires,m.push(a(h.name)+"="+a(u(h.value)?JSON.stringify(h.value):h.value)),f&&(f=isNaN(f)?f.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,(function(e,t,n){return E(x(n,t))})):/^[0-9]{11,13}$/.test(f)||c(f)?E(f):E(x("d",f)),h.expires=f),p(["expires","path","domain","secure"],(function(e){l(h[e])||m.push(h[e]&&"secure"===e?e:e+"="+h[e])}))),i.cookie=m.join("; ")})),!0):(g={},(v=i.cookie)&&p(v.split("; "),(function(e){y=e.indexOf("="),g[o(e.substring(0,y))]=o(e.substring(y+1)||"")})),1===w.length?g[e]:g)}return!1}function M(e){return w(e)}function A(e,t,n){return w(e,t,n),w}function _(e,t){w(e,"",d({expires:-1},r.cookies,t))}function T(){return f(w())}d(w,{has:function(e){return h(T(),e)},set:A,setItem:A,get:M,getItem:M,remove:_,removeItem:_,keys:T,getJSON:function(){return w()}}),e.exports=w},74030:function(e,t,n){var r=n(38911);e.exports=function(e,t,n,i){if(r(e)&&e.copyWithin)return e.copyWithin(t,n,i);var o,a,s=t>>0,u=n>>0,c=e.length,l=arguments.length>3?i>>0:c;if(s<c&&(s=s>=0?s:c+s)>=0&&(u=u>=0?u:c+u)<(l=l>=0?l:c+l))for(o=0,a=e.slice(u,l);s<c&&!(a.length<=o);s++)e[s]=a[o++];return e}},66096:function(e,t,n){var r=n(19904),i=n(25176);e.exports=function(e,t,n){var o=r(e,t,n||this);return i(o,(function(e,t){o[t]=e.length})),o}},55013:function(e,t,n){"use strict";var r=n(13911),i=n(47255),o=n(54915),a=n(64215),s=n(43025),u=function(){};u.VERSION="3.5.3",u.mixin=function(){i(arguments,(function(e){o(e,(function(e,t){u[t]=a(e)?function(){var t=e.apply(u.$context,arguments);return u.$context=null,t}:e}))}))},u.setup=function(e){return s(r,e)},e.exports=u},40372:function(e){e.exports=function(e,t,n){var r,i,o=n||{},a=!1,s=0,u="boolean"===typeof n,c="leading"in o?o.leading:u,l="trailing"in o?o.trailing:!u,h=function(){a=!0,s=0,e.apply(i,r)},f=function(){!0===c&&(s=0),a||!0!==l||h()},d=function(){a=!1,r=arguments,i=this,0===s?!0===c&&h():clearTimeout(s),s=setTimeout(f,t)};return d.cancel=function(){var e=0!==s;return clearTimeout(s),s=0,e},d}},88496:function(e,t,n){var r=n(4343);e.exports=function(e,t){var n=r(arguments,2),i=this;return setTimeout((function(){e.apply(i,n)}),t)}},24497:function(e,t,n){var r=n(89526),i=n(4343),o=n(4893),a=n(47255),s=n(43025);e.exports=function(e,t){if(e&&t){var n=s.apply(this,[{}].concat(i(arguments,1))),u=r(n);a(r(e),(function(t){o(u,t)&&(e[t]=n[t])}))}return e}},95224:function(e,t,n){var r=n(89939),i=n(7983);e.exports=function(e,t){return r(i(e),i(t))}},54915:function(e,t,n){var r=n(38911),i=n(47255),o=n(25176);e.exports=function(e,t,n){return e?(r(e)?i:o)(e,t,n):e}},27849:function(e,t,n){var r=n(117),i=n(54915);var o=r((function e(t,n,r,o,a,s,u,c){var l,h;i(n,(function(i,f){l=a.concat([""+f]),h=s.concat([i]),r.call(o,i,f,n,l,t,h),i&&u&&(l.push(u),e(i,i[u],r,o,l,h,u,c))}))}));e.exports=o},80482:function(e,t,n){var r=n(17199);e.exports=function(e,t,n){var i=r(e),o=arguments.length;return o>1&&(o>2?i.substring(0,n).indexOf(t)===n-1:i.indexOf(t)===i.length-1)}},75744:function(e,t,n){var r=n(58044)("entries",2);e.exports=r},72159:function(e,t,n){var r=n(49774),i=n(53624);e.exports=function(e){return r(e)||i(e)}},89825:function(e,t,n){var r=n(13444),i=n(67171)(r);e.exports=i},85945:function(e,t,n){var r=n(75551)("every",1,1,!1,!0);e.exports=r},79621:function(e,t,n){var r=n(54915);e.exports=function(e,t,n){var i=[];if(e&&t){if(e.filter)return e.filter(t,n);r(e,(function(r,o){t.call(n,r,o,e)&&i.push(r)}))}return i}},37631:function(e,t,n){var r=n(27849);e.exports=function(e,t,n,i){var o=[];return e&&t&&r(e,(function(e,n,r,a,s,u){t.call(i,e,n,r,a,s,u)&&o.push(e)}),n),o}},43704:function(e,t,n){var r=n(75551)("find",1,3,!0);e.exports=r},82563:function(e,t,n){var r=n(40942)((function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}));e.exports=r},39365:function(e,t,n){var r=n(75551)("",0,2,!0);e.exports=r},57412:function(e,t,n){var r=n(38911),i=n(67982);e.exports=function(e,t,n){if(e){r(e)||(e=i(e));for(var o=e.length-1;o>=0;o--)if(t.call(n,e[o],o,e))return e[o]}}},52403:function(e,t,n){var r=n(40942)((function(e,t,n){for(var r=e.length-1;r>=0;r--)if(t.call(n,e[r],r,e))return r;return-1}));e.exports=r},70873:function(e,t,n){var r=n(117)((function e(t,n,r,i,o,a,s,u){var c,l,h,f,d,p;if(n)for(l=0,h=n.length;l<h;l++){if(c=n[l],f=o.concat([""+l]),d=a.concat([c]),r.call(i,c,l,n,f,t,d))return{index:l,item:c,path:f,items:n,parent:t,nodes:d};if(s&&c&&(p=e(c,c[s],r,i,f.concat([s]),d,s,u)))return p}}));e.exports=r},4879:function(e,t,n){var r=n(67982);e.exports=function(e){return r(e)[0]}},88633:function(e,t,n){var r=n(38911),i=n(47255);function o(e,t){var n=[];return i(e,(function(e){n=n.concat(r(e)?t?o(e,t):e:[e])})),n}e.exports=function(e,t){return r(e)?o(e,t):[]}},39255:function(e,t,n){var r=n(5737)("floor");e.exports=r},49723:function(e,t,n){var r=n(38911),i=n(70258);e.exports=function(e,t,n){if(e)if(r(e))for(var o=0,a=e.length;o<a&&!1!==t.call(n,e[o],o,e);o++);else for(var s in e)if(i(e,s)&&!1===t.call(n,e[s],s,e))break}},90402:function(e,t,n){var r=n(98285),i=n(10941),o=n(70258),a=n(53624),s=n(72159);function u(e,t){var n=t?t.match(r):"";return n?n[1]?e[n[1]]?e[n[1]][n[2]]:void 0:e[n[2]]:e[t]}e.exports=function(e,t,n){if(s(e))return n;var r=function(e,t){if(e){var n,r,a,c=0;if(e[t]||o(e,t))return e[t];if(a=(r=i(t)).length)for(n=e;c<a;c++)if(n=u(n,r[c]),s(n))return c===a-1?n:void 0;return n}}(e,t);return a(r)?n:r}},92931:function(e,t,n){var r=n(2756),i=n(49562),o=n(65356);e.exports=function(){if(r){var e=r.pathname,t=o(e,"/")+1;return i()+(t===e.length?e:e.substring(0,t))}return""}},41960:function(e,t,n){var r=n(13911),i=n(13603),o=n(79075),a=n(19598),s=n(50681);e.exports=function(e,t,n){var u,c,l,h,f,d,p,m={done:!1,time:0};if(e=a(e),t=t?a(t):o(),s(e)&&s(t)&&(u=i(e))<(c=i(t)))for(h=m.time=c-u,f=n&&n.length>0?n:r.dateDiffRules,m.done=!0,p=0,d=f.length;p<d;p++)h>=(l=f[p])[1]?p===d-1?m[l[0]]=h||0:(m[l[0]]=Math.floor(h/l[1]),h-=m[l[0]]*l[1]):m[l[0]]=0;return m}},22617:function(e,t,n){var r=n(78258),i=n(54344),o=n(6604),a=n(13603),s=n(95391),u=n(19598),c=n(50681);e.exports=function(e,t){return e=u(e),c(e)?Math.floor((a(s(e,t,o))-a(s(e,t,i)))/r)+1:NaN}},4328:function(e,t,n){var r=n(27172),i=n(19598),o=n(50681),a=n(14233);e.exports=function(e,t){return e=i(e),o(e)?a(r(e,t))?366:365:NaN}},33724:function(e,t,n){var r=n(67871)((function(e){return new Date(e.getFullYear(),e.getMonth(),1)}));e.exports=r},52906:function(e,t,n){var r=n(38911),i=n(50298),o=n(54915);e.exports=function(e){var t=0;return i(e)||r(e)?e.length:(o(e,(function(){t++})),t)}},72377:function(e,t,n){var r=n(71589),i=n(49630),o=n(38911),a=n(23271),s=n(33938),u=n(49774);e.exports=function(e){return u(e)?"null":r(e)?"symbol":i(e)?"date":o(e)?"array":a(e)?"regexp":s(e)?"error":typeof e}},10597:function(e,t,n){var r=n(54344),i=n(6604),o=n(57881),a=n(88077),s=n(50877),u=n(13603),c=n(19598),l=n(50681);e.exports=function e(t,n,h){if(t=c(t),l(t)&&!isNaN(n)){if(t.setDate(t.getDate()+o(n)),h===r)return new Date(a(t),s(t),t.getDate());if(h===i)return new Date(u(e(t,1,r))-1)}return t}},95391:function(e,t,n){var r=n(54344),i=n(6604),o=n(78258),a=n(88077),s=n(13603),u=n(50877),c=n(19598),l=n(50681),h=n(11529);e.exports=function e(t,n,f){var d=n&&!isNaN(n)?n:0;if(t=c(t),l(t)){if(f===r)return new Date(a(t),u(t)+d,1);if(f===i)return new Date(s(e(t,d+1,r))-1);if(h(f)&&t.setDate(f),d){var p=t.getDate();if(t.setMonth(u(t)+d),p!==t.getDate())return t.setDate(1),new Date(s(t)-o)}}return t}},18855:function(e,t,n){var r=n(95391),i=n(19598),o=n(50681);e.exports=function(e,t,n){var a,s=t&&!isNaN(t)?3*t:0;return e=i(e),o(e)?(a=3*(function(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}(e)-1),e.setMonth(a),r(e,s,n)):e}},86384:function(e,t,n){var r=n(13911),i=n(78258),o=n(10022),a=n(13603),s=n(19598),u=n(50681),c=n(11529);e.exports=function(e,t,n,l){if(e=s(e),u(e)){var h=c(n),f=c(l),d=a(e);if(h||f){var p=f?l:r.firstDayOfWeek,m=e.getDay(),g=h?n:m;if(m!==g){var v=0;p>m?v=-(7-p+m):p<m&&(v=p-m),d+=g>p?((0===g?7:g)-p+v)*i:g<p?(7-p+g+v)*i:v*i}}return t&&!isNaN(t)&&(d+=t*o),new Date(d)}return e}},27172:function(e,t,n){var r=n(54344),i=n(6604),o=n(88077),a=n(95391),s=n(19598),u=n(50681);e.exports=function(e,t,n){var c;if(e=s(e),u(e)&&(t&&(c=t&&!isNaN(t)?t:0,e.setFullYear(o(e)+c)),n||!isNaN(n))){if(n===r)return new Date(o(e),0,1);if(n===i)return e.setMonth(11),a(e,0,i);e.setMonth(n)}return e}},5883:function(e,t,n){var r=n(78258),i=n(54344),o=n(25800),a=n(27172),s=n(19598),u=n(50681);e.exports=function(e){return e=s(e),u(e)?Math.floor((o(e)-o(a(e,0,i)))/r)+1:NaN}},29804:function(e,t,n){var r=n(67871)((function(e){return new Date(e.getFullYear(),0,1)}));e.exports=r},19904:function(e,t,n){var r=n(5634),i=n(94330),o=n(64215),a=n(87861),s=n(54915);e.exports=function(e,t,n){var u,c={};return e&&(t&&i(t)?t=function(e){return function(){return r(e)}}(t):o(t)||(t=a(t)),s(e,(function(r,i){u=t?t.call(n,r,i,e):r,c[u]?c[u].push(r):c[u]=[r]}))),c}},99465:function(e,t,n){var r=n(98285),i=n(10941),o=n(70258);e.exports=function(e,t){if(e){if(o(e,t))return!0;var n,a,s,u,c,l,h=i(t),f=0,d=h.length;for(c=e;f<d&&(l=!1,(u=(n=h[f])?n.match(r):"")?(a=u[1],s=u[2],a?c[a]&&o(c[a],s)&&(l=!0,c=c[a][s]):o(c,s)&&(l=!0,c=c[s])):o(c,n)&&(l=!0,c=c[n]),l);f++)if(f===d-1)return!0}return!1}},70258:function(e){e.exports=function(e,t){return!(!e||!e.hasOwnProperty)&&e.hasOwnProperty(t)}},67871:function(e,t,n){var r=n(13911),i=n(10022),o=n(11529),a=n(50681),s=n(86384),u=n(13603);e.exports=function(e){return function(t,n){var c=o(n)?n:r.firstDayOfWeek,l=s(t,0,c,c);if(a(l)){var h=new Date(l.getFullYear(),l.getMonth(),l.getDate()),f=e(l),d=f.getDay();return d>c&&f.setDate(7-d+c+1),d<c&&f.setDate(c-d+1),Math.floor((u(h)-u(f))/i+1)}return NaN}}},58044:function(e,t,n){var r=n(54915);e.exports=function(e,t){var n=Object[e];return function(e){var i=[];if(e){if(n)return n(e);r(e,t>1?function(t){i.push([""+t,e[t]])}:function(){i.push(arguments[t])})}return i}}},82204:function(e,t,n){var r=n(36019);e.exports=function(e){return function(t){return"[object "+e+"]"===r.call(t)}}},88556:function(e){e.exports=function(e){return function(t){return typeof t===e}}},92045:function(e,t,n){var r=n(38911),i=n(50298),o=n(70258);e.exports=function(e,t){return function(n,a){if(n){if(n[e])return n[e](a);if(i(n)||r(n))return t(n,a);for(var s in n)if(o(n,s)&&a===n[s])return s}return-1}}},75551:function(e,t,n){var r=n(70258),i=n(38911);e.exports=function(e,t,n,o,a){return function(s,u,c){if(s&&u){if(e&&s[e])return s[e](u,c);if(t&&i(s)){for(var l=0,h=s.length;l<h;l++)if(!!u.call(c,s[l],l,s)===o)return[!0,!1,l,s[l]][n]}else for(var f in s)if(r(s,f)&&!!u.call(c,s[f],f,s)===o)return[!0,!1,f,s[f]][n]}return a}}},5737:function(e,t,n){var r=n(99074),i=n(7983),o=n(55483);e.exports=function(e){return function(t,n){var a=i(t),s=a;if(a){n>>=0;var u=o(a).split("."),c=u[0],l=u[1]||"",h=l.substring(0,n+1),f=c+(h?"."+h:"");if(n>=l.length)return i(f);if(f=a,n>0){var d=Math.pow(10,n);s=Math[e](r(f,d))/d}else s=Math[e](f)}return s}}},38442:function(e,t,n){var r=n(64215),i=n(72159),o=n(90402),a=n(47255);e.exports=function(e){return function(t,n){var s,u;return t&&t.length?(a(t,(function(a,c){n&&(a=r(n)?n(a,c,t):o(a,n)),i(a)||!i(s)&&!e(s,a)||(u=c,s=a)})),t[u]):s}}},82235:function(e,t,n){var r=n(64215),i=n(38911),o=n(54915),a=n(82563);e.exports=function(e,t){return function(n,s){var u,c,l={},h=[],f=this,d=arguments,p=d.length;if(!r(s)){for(c=1;c<p;c++)u=d[c],h.push.apply(h,i(u)?u:[u]);s=0}return o(n,(function(r,i){((s?s.call(f,r,i,n):a(h,(function(e){return e===i}))>-1)?e:t)&&(l[i]=r)})),l}}},1850:function(e){e.exports=function(e){return function(t){if(t){var n=e(t);if(!isNaN(n))return n}return 0}}},117:function(e){e.exports=function(e){return function(t,n,r,i){var o=r||{},a=o.children||"children";return e(null,t,n,i,[],[],a,o)}}},40942:function(e,t,n){var r=n(64215),i=n(50298),o=n(38911),a=n(70258);e.exports=function(e){return function(t,n,s){if(t&&r(n)){if(o(t)||i(t))return e(t,n,s);for(var u in t)if(a(t,u)&&n.call(s,t[u],u,t))return u}return-1}}},76021:function(e){e.exports=function(e,t){return e===t}},53728:function(t){t.exports=function(t,n){try{delete t[n]}catch(e){t[n]=void 0}}},27082:function(e,t,n){var r=n(11529),i=n(38911),o=n(50298),a=n(23271),s=n(49630),u=n(19264),c=n(53624),l=n(89526),h=n(85945);e.exports=function e(t,n,f,d,p,m,g){if(t===n)return!0;if(t&&n&&!r(t)&&!r(n)&&!o(t)&&!o(n)){if(a(t))return f(""+t,""+n,p,m,g);if(s(t)||u(t))return f(+t,+n,p,m,g);var v,y,b,x=i(t),E=i(n);if(x||E?x&&E:t.constructor===n.constructor)return y=l(t),b=l(n),d&&(v=d(t,n,p)),y.length===b.length&&(c(v)?h(y,(function(r,i){return r===b[i]&&e(t[r],n[b[i]],f,d,x||E?i:r,t,n)})):!!v)}return f(t,n,p,m,g)}},67171:function(e,t,n){var r=n(17199),i=n(89526);e.exports=function(e){var t=new RegExp("(?:"+i(e).join("|")+")","g");return function(n){return r(n).replace(t,(function(t){return e[t]}))}}},88077:function(e){e.exports=function(e){return e.getFullYear()}},50877:function(e){e.exports=function(e){return e.getMonth()}},13603:function(e){e.exports=function(e){return e.getTime()}},10941:function(e){e.exports=function(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}},49562:function(e,t,n){var r=n(2756);e.exports=function(){return r?r.origin||r.protocol+"//"+r.host:""}},95409:function(e){e.exports=function(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}},14169:function(e,t,n){var r=n(88077),i=n(50877);e.exports=function(e){return new Date(r(e),i(e),e.getDate())}},25800:function(e,t,n){var r=n(13603),i=n(14169);e.exports=function(e){return r(i(e))}},99074:function(e,t,n){var r=n(36173),i=n(55483);e.exports=function(e,t){var n=i(e),o=i(t);return parseInt(n.replace(".",""))*parseInt(o.replace(".",""))/Math.pow(10,r(n)+r(o))}},79075:function(e){e.exports=function(){return new Date}},32378:function(e,t,n){var r=n(36173),i=n(55483),o=n(11485);e.exports=function(e,t){var n=i(e),a=i(t),s=Math.pow(10,Math.max(r(n),r(a)));return(o(e,s)+o(t,s))/s}},36173:function(e){e.exports=function(e){return(e.split(".")[1]||"").length}},89939:function(e,t,n){var r=n(36173),i=n(55483),o=n(11485);e.exports=function(e,t){var n=i(e),a=i(t),s=r(n),u=r(a)-s,c=u<0,l=Math.pow(10,c?Math.abs(u):u);return o(n.replace(".","")/a.replace(".",""),c?1/l:l)}},13300:function(e){e.exports=function(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}},18840:function(e){e.exports=function(e){return e.toLowerCase()}},6382:function(e,t,n){var r=n(57881);e.exports=function(e,t){if(e.repeat)return e.repeat(t);var n=isNaN(t)?[]:new Array(r(t));return n.join(e)+(n.length>0?e:"")}},56123:function(e){e.exports=function(e,t,n){return e.substring(t,n)}},38151:function(e){e.exports=function(e){return e.toUpperCase()}},39686:function(e,t,n){var r=n(38911),i=n(4893);e.exports=function(e,t){var n,o=0;if(r(e)&&r(t)){for(n=t.length;o<n;o++)if(!i(e,t[o]))return!1;return!0}return i(e,t)}},4893:function(e,t,n){var r=n(70258);e.exports=function(e,t){if(e){if(e.includes)return e.includes(t);for(var n in e)if(r(e,n)&&t===e[n])return!0}return!1}},56212:function(e,t,n){"use strict";var r=n(55013),i=n(43025),o=n(25176),a=n(7176),s=n(11378),u=n(49361),c=n(65101),l=n(81715),h=n(85945),f=n(39686),d=n(47255),p=n(46653),m=n(43722),g=n(60819),v=n(43824),y=n(73842),b=n(37608),x=n(5778),E=n(11904),w=n(4343),M=n(79621),A=n(39365),_=n(4893),T=n(43704),S=n(57412),N=n(30807),C=n(74030),I=n(35067),L=n(83160),D=n(14599),O=n(89933),R=n(88633),P=n(16528),j=n(42556),k=n(23192),U=n(83066),F=n(70873),z=n(27849),B=n(22733),G=n(37631),H=n(24382),V=n(11520),Y=n(34117),W=n(70258),X=n(38911),Q=n(49774),q=n(80287),K=n(53624),Z=n(64215),J=n(94330),$=n(50298),ee=n(26680),te=n(14233),ne=n(49630),re=n(72159),ie=n(54915),oe=n(49723),ae=n(89030),se=n(99827),ue=n(65356),ce=n(89526),le=n(67982),he=n(6486),fe=n(52906),de=n(41158),pe=n(40921),me=n(18293),ge=n(72689),ve=n(70326),ye=n(98332),be=n(19264),xe=n(11529),Ee=n(23271),we=n(33938),Me=n(91132),Ae=n(5634),_e=n(71589),Te=n(70951),Se=n(48201),Ne=n(84323),Ce=n(35610),Ie=n(79484),Le=n(77918),De=n(69520),Oe=n(11997),Re=n(39966),Pe=n(39009),je=n(41026),ke=n(61809),Ue=n(72377),Fe=n(89041),ze=n(82563),Be=n(52403),Ge=n(5947),He=n(66388),Ve=n(75744),Ye=n(28048),We=n(35312),Xe=n(4879),Qe=n(57398),qe=n(99465),Ke=n(90402),Ze=n(83226),Je=n(19904),$e=n(66096),et=n(62097),tt=n(24497),nt=n(97284),rt=n(7280),it=n(44242),ot=n(34412),at=n(45971),st=n(92982),ut=n(39255),ct=n(69382),lt=n(90748),ht=n(7983),ft=n(55483),dt=n(91583),pt=n(99665),mt=n(11485),gt=n(95224),vt=n(6962),yt=n(25088),bt=n(27172),xt=n(18855),Et=n(95391),wt=n(10597),Mt=n(19598),At=n(93398),_t=n(29637),Tt=n(97567),St=n(50681),Nt=n(61072),Ct=n(86384),It=n(5883),Lt=n(29804),Dt=n(33724),Ot=n(4328),Rt=n(22617),Pt=n(41960),jt=n(83536),kt=n(54341),Ut=n(67096),Ft=n(31261),zt=n(46933),Bt=n(52436),Gt=n(89825),Ht=n(80872),Vt=n(27210),Yt=n(8687),Wt=n(48544),Xt=n(80482),Qt=n(41430),qt=n(3072),Kt=n(17199),Zt=n(42609),Jt=n(87861),$t=n(68490),en=n(59336),tn=n(39963),nn=n(63061),rn=n(46632),on=n(40372),an=n(88496),sn=n(61732),un=n(61306),cn=n(28910),ln=n(92931),hn=n(66845),fn=n(39322);i(r,{assign:i,objectEach:o,lastObjectEach:a,objectMap:s,merge:u,uniq:m,union:g,sortBy:y,orderBy:b,shuffle:x,sample:E,some:l,every:h,slice:w,filter:M,find:T,findLast:S,findKey:A,includes:_,arrayIndexOf:V,arrayLastIndexOf:Y,map:c,reduce:N,copyWithin:C,chunk:I,zip:L,unzip:D,zipObject:O,flatten:R,toArray:v,includeArrays:f,pluck:P,invoke:j,arrayEach:d,lastArrayEach:p,toArrayTree:k,toTreeArray:U,findTree:F,eachTree:z,mapTree:B,filterTree:G,searchTree:H,hasOwnProp:W,eqNull:re,isNaN:q,isFinite:ge,isUndefined:K,isArray:X,isFloat:ve,isInteger:ye,isFunction:Z,isBoolean:be,isString:$,isNumber:xe,isRegExp:Ee,isObject:J,isPlainObject:ee,isDate:ne,isError:we,isTypeError:Me,isEmpty:Ae,isNull:Q,isSymbol:_e,isArguments:Te,isElement:Se,isDocument:Ne,isWindow:Ce,isFormData:Ie,isMap:Le,isWeakMap:De,isSet:Oe,isWeakSet:Re,isLeapYear:te,isMatch:Pe,isEqual:je,isEqualWith:ke,getType:Ue,uniqueId:Fe,getSize:fe,indexOf:se,lastIndexOf:ue,findIndexOf:ze,findLastIndexOf:Be,toStringJSON:Ge,toJSONString:He,keys:ce,values:le,entries:Ve,pick:Ye,omit:We,first:Xe,last:Qe,each:ie,forOf:oe,lastForOf:ae,lastEach:de,has:qe,get:Ke,set:Ze,groupBy:Je,countBy:$e,clone:he,clear:me,remove:pe,range:et,destructuring:tt,random:nt,min:it,max:rt,commafy:ot,round:at,ceil:st,floor:ut,toFixed:ct,toNumber:ht,toNumberString:ft,toInteger:lt,add:dt,subtract:pt,multiply:mt,divide:gt,sum:vt,mean:yt,now:_t,timestamp:Tt,isValidDate:St,isDateSame:Nt,toStringDate:Mt,toDateString:At,getWhatYear:bt,getWhatQuarter:xt,getWhatMonth:Et,getWhatWeek:Ct,getWhatDay:wt,getYearDay:It,getYearWeek:Lt,getMonthWeek:Dt,getDayOfYear:Ot,getDayOfMonth:Rt,getDateDiff:Pt,trim:Ft,trimLeft:Bt,trimRight:zt,escape:Gt,unescape:Ht,camelCase:Vt,kebabCase:Yt,repeat:Ut,padStart:kt,padEnd:jt,startsWith:Wt,endsWith:Xt,template:Qt,toFormatString:qt,toString:Kt,toValueString:Kt,noop:Zt,property:Jt,bind:$t,once:en,after:tn,before:nn,throttle:rn,debounce:on,delay:an,unserialize:sn,serialize:un,parseUrl:cn,getBaseURL:ln,locat:hn,browse:n(36197),cookie:fn}),e.exports=r},99827:function(e,t,n){var r=n(92045)("indexOf",n(11520));e.exports=r},42556:function(e,t,n){var r=n(65101),i=n(38911);function o(e,t){for(var n=0,r=t.length;e&&n<r;)e=e[t[n++]];return r&&e?e:0}e.exports=function(e,t){for(var n,a=arguments,s=[],u=[],c=2,l=a.length;c<l;c++)s.push(a[c]);if(i(t)){for(l=t.length-1,c=0;c<l;c++)u.push(t[c]);t=t[l]}return r(e,(function(e){if(u.length&&(e=o(e,u)),(n=e[t]||t)&&n.apply)return n.apply(e,s)}))}},70951:function(e,t,n){var r=n(82204)("Arguments");e.exports=r},38911:function(e,t,n){var r=n(82204),i=Array.isArray||r("Array");e.exports=i},19264:function(e,t,n){var r=n(88556)("boolean");e.exports=r},49630:function(e,t,n){var r=n(82204)("Date");e.exports=r},61072:function(e,t,n){var r=n(93398);e.exports=function(e,t,n){return!(!e||!t)&&("Invalid Date"!==(e=r(e,n))&&e===r(t,n))}},84323:function(e,t,n){var r=n(59512);e.exports=function(e){return!(!e||!r||9!==e.nodeType)}},48201:function(e,t,n){var r=n(50298),i=n(11529);e.exports=function(e){return!!(e&&r(e.nodeName)&&i(e.nodeType))}},5634:function(e){e.exports=function(e){for(var t in e)return!1;return!0}},41026:function(e,t,n){var r=n(27082),i=n(76021);e.exports=function(e,t){return r(e,t,i)}},61809:function(e,t,n){var r=n(27082),i=n(76021),o=n(64215),a=n(53624);e.exports=function(e,t,n){return o(n)?r(e,t,(function(e,t,r,o,s){var u=n(e,t,r,o,s);return a(u)?i(e,t):!!u}),n):r(e,t,i)}},33938:function(e,t,n){var r=n(82204)("Error");e.exports=r},72689:function(e,t,n){var r=n(11529);e.exports=function(e){return r(e)&&isFinite(e)}},70326:function(e,t,n){var r=n(38911),i=n(98332),o=n(49774);e.exports=function(e){return!o(e)&&!isNaN(e)&&!r(e)&&!i(e)}},79484:function(e,t,n){var r=n(79694),i=typeof FormData!==r;e.exports=function(e){return i&&e instanceof FormData}},64215:function(e,t,n){var r=n(88556)("function");e.exports=r},98332:function(e,t,n){var r=n(38911),i=n(49774);e.exports=function(e){return!i(e)&&!isNaN(e)&&!r(e)&&e%1===0}},14233:function(e,t,n){var r=n(49630),i=n(19598),o=n(79075);e.exports=function(e){var t,n=e?i(e):o();return!!r(n)&&((t=n.getFullYear())%4===0&&(t%100!==0||t%400===0))}},77918:function(e,t,n){var r=n(79694),i=typeof Map!==r;e.exports=function(e){return i&&e instanceof Map}},39009:function(e,t,n){var r=n(89526),i=n(82563),o=n(41026),a=n(81715),s=n(39686);e.exports=function(e,t){var n=r(e),u=r(t);return!u.length||(s(n,u)?a(u,(function(r){return i(n,(function(n){return n===r&&o(e[n],t[r])}))>-1})):o(e,t))}},80287:function(e,t,n){var r=n(11529);e.exports=function(e){return r(e)&&isNaN(e)}},49774:function(e){e.exports=function(e){return null===e}},11529:function(e,t,n){var r=n(88556)("number");e.exports=r},94330:function(e,t,n){var r=n(88556)("object");e.exports=r},26680:function(e){e.exports=function(e){return!!e&&e.constructor===Object}},23271:function(e,t,n){var r=n(82204)("RegExp");e.exports=r},11997:function(e,t,n){var r=n(79694),i=typeof Set!==r;e.exports=function(e){return i&&e instanceof Set}},50298:function(e,t,n){var r=n(88556)("string");e.exports=r},71589:function(e,t,n){var r=n(79694),i=typeof Symbol!==r;e.exports=function(e){return i&&Symbol.isSymbol?Symbol.isSymbol(e):"symbol"===typeof e}},91132:function(e){e.exports=function(e){return!!e&&e.constructor===TypeError}},53624:function(e,t,n){var r=n(79694),i=n(88556)(r);e.exports=i},50681:function(e,t,n){var r=n(49630),i=n(13603);e.exports=function(e){return r(e)&&!isNaN(i(e))}},69520:function(e,t,n){var r=n(79694),i=typeof WeakMap!==r;e.exports=function(e){return i&&e instanceof WeakMap}},39966:function(e,t,n){var r=n(79694),i=typeof WeakSet!==r;e.exports=function(e){return i&&e instanceof WeakSet}},35610:function(e,t,n){var r=n(8584);e.exports=function(e){return r&&!(!e||e!==e.window)}},8687:function(e,t,n){var r=n(17199),i=n(56123),o=n(18840),a={};e.exports=function(e){if(e=r(e),a[e])return a[e];if(/^[A-Z]+$/.test(e))return o(e);var t=e.replace(/^([a-z])([A-Z]+)([a-z]+)$/,(function(e,t,n,r){var a=n.length;return a>1?t+"-"+o(i(n,0,a-1))+"-"+o(i(n,a-1,a))+r:o(t+"-"+n+r)})).replace(/^([A-Z]+)([a-z]+)?$/,(function(e,t,n){var r=t.length;return o(i(t,0,r-1)+"-"+i(t,r-1,r)+(n||""))})).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,(function(e,t,n,r,a){var s=n.length;return s>1&&(t&&(t+="-"),r)?(t||"")+o(i(n,0,s-1))+"-"+o(i(n,s-1,s))+r:(t||"")+(a?"-":"")+o(n)+(r||"")}));return t=t.replace(/([-]+)/g,(function(e,n,r){return r&&r+n.length<t.length?"-":""})),a[e]=t,t}},89526:function(e,t,n){var r=n(58044)("keys",1);e.exports=r},57398:function(e,t,n){var r=n(67982);e.exports=function(e){var t=r(e);return t[t.length-1]}},46653:function(e){e.exports=function(e,t,n){for(var r=e.length-1;r>=0;r--)t.call(n,e[r],r,e)}},41158:function(e,t,n){var r=n(38911),i=n(46653),o=n(7176);e.exports=function(e,t,n){return e?(r(e)?i:o)(e,t,n):e}},89030:function(e,t,n){var r=n(38911),i=n(70258);e.exports=function(e,t,n){var o,a;if(e)if(r(e))for(o=e.length-1;o>=0&&!1!==t.call(n,e[o],o,e);o--);else for(o=(a=i(e)).length-1;o>=0&&!1!==t.call(n,e[a[o]],a[o],e);o--);}},65356:function(e,t,n){var r=n(92045)("lastIndexOf",n(34117));e.exports=r},7176:function(e,t,n){var r=n(46653),i=n(89526);e.exports=function(e,t,n){r(i(e),(function(r){t.call(n,e[r],r,e)}))}},66845:function(e,t,n){var r=n(2756),i=n(28910);e.exports=function(){return r?i(r.href):{}}},65101:function(e,t,n){var r=n(54915);e.exports=function(e,t,n){var i=[];if(e&&arguments.length>1){if(e.map)return e.map(t,n);r(e,(function(){i.push(t.apply(n,arguments))}))}return i}},22733:function(e,t,n){var r=n(117),i=n(65101);var o=r((function e(t,n,r,o,a,s,u,c){var l,h,f,d=c.mapChildren||u;return i(n,(function(i,p){return l=a.concat([""+p]),h=s.concat([i]),(f=r.call(o,i,p,n,l,t,h))&&i&&u&&i[u]&&(f[d]=e(i,i[u],r,o,l,h,u,c)),f}))}));e.exports=o},7280:function(e,t,n){var r=n(38442)((function(e,t){return e<t}));e.exports=r},25088:function(e,t,n){var r=n(89939),i=n(52906),o=n(6962);e.exports=function(e,t,n){return r(o(e,t,n),i(e))}},49361:function(e,t,n){var r=n(38911),i=n(26680),o=n(54915);function a(e,t){return i(e)&&i(t)||r(e)&&r(t)?(o(t,(function(t,n){e[n]=a(e[n],t)})),e):t}e.exports=function(e){e||(e={});for(var t,n=arguments,r=n.length,i=1;i<r;i++)(t=n[i])&&a(e,t);return e}},44242:function(e,t,n){var r=n(38442)((function(e,t){return e>t}));e.exports=r},11485:function(e,t,n){var r=n(99074),i=n(7983);e.exports=function(e,t){var n=i(e),o=i(t);return r(n,o)}},42609:function(e){e.exports=function(){}},29637:function(e,t,n){var r=n(13603),i=n(79075),o=Date.now||function(){return r(i())};e.exports=o},25176:function(e,t,n){var r=n(70258);e.exports=function(e,t,n){if(e)for(var i in e)r(e,i)&&t.call(n,e[i],i,e)}},11378:function(e,t,n){var r=n(54915),i=n(64215),o=n(87861);e.exports=function(e,t,n){var a={};if(e){if(!t)return e;i(t)||(t=o(t)),r(e,(function(r,i){a[i]=t.call(n,r,i,e)}))}return a}},35312:function(e,t,n){var r=n(82235)(0,1);e.exports=r},59336:function(e,t,n){var r=n(4343);e.exports=function(e,t){var n=!1,i=null,o=r(arguments,2);return function(){return n||(i=e.apply(t,r(arguments).concat(o)),n=!0),i}}},37608:function(e,t,n){var r=n(47255),i=n(43824),o=n(65101),a=n(38911),s=n(64215),u=n(26680),c=n(53624),l=n(49774),h=n(72159),f=n(90402),d=n(87861);function p(e,t){return c(e)?1:l(e)?c(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function m(e,t,n){return function(r,i){var o=r[e],a=i[e];return o===a?n?n(r,i):0:"desc"===t.order?p(a,o):p(o,a)}}e.exports=function(e,t,n){if(e){if(h(t))return i(e).sort(p);for(var c,l=o(e,(function(e){return{data:e}})),g=function(e,t,n,i){var o=[];return n=a(n)?n:[n],r(n,(function(n,c){if(n){var l,h=n;a(n)?(h=n[0],l=n[1]):u(n)&&(h=n.field,l=n.order),o.push({field:h,order:l||"asc"}),r(t,s(h)?function(t,n){t[c]=h.call(i,t.data,n,e)}:function(e){e[c]=h?f(e.data,h):e.data})}})),o}(e,l,t,n),v=g.length-1;v>=0;)c=m(v,g[v],c),v--;return c&&(l=l.sort(c)),o(l,d("data"))}return[]}},83536:function(e,t,n){var r=n(17199),i=n(53624),o=n(6382);e.exports=function(e,t,n){var a=r(e);return t>>=0,n=i(n)?" ":""+n,a.padEnd?a.padEnd(t,n):t>a.length?((t-=a.length)>n.length&&(n+=o(n,t/n.length)),a+n.slice(0,t)):a}},54341:function(e,t,n){var r=n(17199),i=n(53624),o=n(6382);e.exports=function(e,t,n){var a=r(e);return t>>=0,n=i(n)?" ":""+n,a.padStart?a.padStart(t,n):t>a.length?((t-=a.length)>n.length&&(n+=o(n,t/n.length)),n.slice(0,t)+a):a}},28910:function(e,t,n){var r=n(2756),i=n(61732),o=n(49562);function a(e){return i(e.split("?")[1]||"")}e.exports=function(e){var t,n,i,s,u=""+e;return 0===u.indexOf("//")?u=(r?r.protocol:"")+u:0===u.indexOf("/")&&(u=o()+u),i=u.replace(/#.*/,"").match(/(\?.*)/),(s={href:u,hash:"",host:"",hostname:"",protocol:"",port:"",search:i&&i[1]&&i[1].length>1?i[1]:""}).path=u.replace(/^([a-z0-9.+-]*:)\/\//,(function(e,t){return s.protocol=t,""})).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,(function(e,t,r){return n=r||"",s.port=n.replace(":",""),s.hostname=t,s.host=t+n,"/"})).replace(/(#.*)/,(function(e,t){return s.hash=t.length>1?t:"",""})),t=s.hash.match(/#((.*)\?|(.*))/),s.pathname=s.path.replace(/(\?|#.*).*/,""),s.origin=s.protocol+"//"+s.host,s.hashKey=t&&(t[2]||t[1])||"",s.hashQuery=a(s.hash),s.searchQuery=a(s.search),s}},28048:function(e,t,n){var r=n(82235)(1,0);e.exports=r},16528:function(e,t,n){var r=n(65101),i=n(87861);e.exports=function(e,t){return r(e,i(t))}},87861:function(e,t,n){var r=n(49774);e.exports=function(e,t){return function(n){return r(n)?t:n[e]}}},97284:function(e){e.exports=function(e,t){return e>=t?e:(e>>=0)+Math.round(Math.random()*((t||9)-e))}},62097:function(e){e.exports=function(e,t,n){var r,i,o=[],a=arguments;if(a.length<2&&(t=a[0],e=0),i=t>>0,(r=e>>0)<t)for(n=n>>0||1;r<i;r+=n)o.push(r);return o}},30807:function(e,t,n){var r=n(89526);e.exports=function(e,t,n){if(e){var i,o,a=0,s=null,u=n,c=arguments.length>2,l=r(e);if(e.length&&e.reduce)return o=function(){return t.apply(s,arguments)},c?e.reduce(o,u):e.reduce(o);for(c&&(a=1,u=e[l[0]]),i=l.length;a<i;a++)u=t.call(s,u,e[l[a]],a,e);return u}}},40921:function(e,t,n){var r=n(53728),i=n(64215),o=n(38911),a=n(54915),s=n(47255),u=n(41158),c=n(18293),l=n(72159);e.exports=function(e,t,n){if(e){if(!l(t)){var h=[],f=[];return i(t)||(d=t,t=function(e,t){return t===d}),a(e,(function(e,r,i){t.call(n,e,r,i)&&h.push(r)})),o(e)?u(h,(function(t,n){f.push(e[t]),e.splice(t,1)})):(f={},s(h,(function(t){f[t]=e[t],r(e,t)}))),f}return c(e)}var d;return e}},67096:function(e,t,n){var r=n(17199),i=n(6382);e.exports=function(e,t){return i(r(e),t)}},45971:function(e,t,n){var r=n(5737)("round");e.exports=r},11904:function(e,t,n){var r=n(5778);e.exports=function(e,t){var n=r(e);return arguments.length<=1?n[0]:(t<n.length&&(n.length=t||0),n)}},24382:function(e,t,n){var r=n(117),i=n(47255),o=n(43025);function a(e,t,n,r,s,u,c,l,h){var f,d,p,m,g,v=[],y=h.original,b=h.data,x=h.mapChildren||l;return i(n,(function(i,E){f=u.concat([""+E]),d=c.concat([i]),m=e||r.call(s,i,E,n,f,t,d),g=l&&i[l],m||g?(y?p=i:(p=o({},i),b&&(p[b]=i)),p[x]=a(m,i,i[l],r,s,f,d,l,h),(m||p[x].length)&&v.push(p)):m&&v.push(p)})),v}var s=r((function(e,t,n,r,i,o,s,u){return a(0,e,t,n,r,i,o,s,u)}));e.exports=s},61306:function(e,t,n){var r=n(18927),i=n(54915),o=n(38911),a=n(49774),s=n(53624),u=n(26680);function c(e,t,n){var s,l=[];return i(e,(function(e,i){s=o(e),u(e)||s?l=l.concat(c(e,t+"["+i+"]",s)):l.push(r(t+"["+(n?"":i)+"]")+"="+r(a(e)?"":e))})),l}e.exports=function(e){var t,n=[];return i(e,(function(e,i){s(e)||(t=o(e),u(e)||t?n=n.concat(c(e,i,t)):n.push(r(i)+"="+r(a(e)?"":e)))})),n.join("&").replace(/%20/g,"+")}},83226:function(e,t,n){var r=n(57881),i=n(10941),o=n(70258),a=/(.+)?\[(\d+)\]$/;function s(e,t,n,i,o){if(!e[t]){var s,u,c=t?t.match(a):null;if(n)u=o;else{var l=i?i.match(a):null;u=l&&!l[1]?new Array(r(l[2])+1):{}}return c?c[1]?(s=r(c[2]),e[c[1]]?n?e[c[1]][s]=u:e[c[1]][s]?u=e[c[1]][s]:e[c[1]][s]=u:(e[c[1]]=new Array(s+1),e[c[1]][s]=u)):e[c[2]]=u:e[t]=u,u}return n&&(e[t]=o),e[t]}function u(e){return"__proto__"===e||"constructor"===e||"prototype"===e}e.exports=function(e,t,n){if(e)if(!e[t]&&!o(e,t)||u(t)){for(var r=e,a=i(t),c=a.length,l=0;l<c;l++)if(!u(a[l])){var h=l===c-1;r=s(r,a[l],h,h?null:a[l+1],n)}}else e[t]=n;return e}},13911:function(e){"use strict";e.exports={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1,dateDiffRules:[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]]}},5778:function(e,t,n){var r=n(97284),i=n(67982);e.exports=function(e){for(var t,n=[],o=i(e),a=o.length-1;a>=0;a--)t=a>0?r(0,a):0,n.push(o[t]),o.splice(t,1);return n}},4343:function(e,t,n){var r=n(7983);e.exports=function(e,t,n){var i=[],o=arguments.length;if(e){if(t=o>=2?r(t):0,n=o>=3?r(n):e.length,e.slice)return e.slice(t,n);for(;t<n;t++)i.push(e[t])}return i}},81715:function(e,t,n){var r=n(75551)("some",1,0,!0,!1);e.exports=r},73842:function(e,t,n){var r=n(37608);e.exports=r},48544:function(e,t,n){var r=n(17199);e.exports=function(e,t,n){var i=r(e);return 0===(1===arguments.length?i:i.substring(n)).indexOf(t)}},78258:function(e){e.exports=864e5},74238:function(e){var t=decodeURIComponent;e.exports=t},59512:function(e,t,n){var r=n(79694),i=typeof document===r?0:document;e.exports=i},18927:function(e){var t=encodeURIComponent;e.exports=t},13444:function(e){e.exports={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},98285:function(e){e.exports=/(.+)?\[(\d+)\]$/},2756:function(e,t,n){var r=n(79694),i=typeof location===r?0:location;e.exports=i},36019:function(e){var t=Object.prototype.toString;e.exports=t},57881:function(e){var t=parseInt;e.exports=t},54344:function(e){e.exports="first"},6604:function(e){e.exports="last"},79694:function(e){e.exports="undefined"},10022:function(e,t,n){var r=7*n(78258);e.exports=r},8584:function(e,t,n){var r=n(79694),i=typeof window===r?0:window;e.exports=i},99665:function(e,t,n){var r=n(36173),i=n(55483),o=n(7983),a=n(69382);e.exports=function(e,t){var n=o(e),s=o(t),u=i(n),c=i(s),l=r(u),h=r(c),f=Math.pow(10,Math.max(l,h));return parseFloat(a((n*f-s*f)/f,l>=h?l:h))}},6962:function(e,t,n){var r=n(32378),i=n(64215),o=n(54915),a=n(90402);e.exports=function(e,t,n){var s=0;return o(e,t?i(t)?function(){s=r(s,t.apply(n,arguments))}:function(e){s=r(s,a(e,t))}:function(e){s=r(s,e)}),s}},41430:function(e,t,n){var r=n(13911),i=n(17199),o=n(31261),a=n(90402);e.exports=function(e,t,n){return i(e).replace((n||r).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,(function(e,n){return a(t,o(n))}))}},46632:function(e){e.exports=function(e,t,n){var r,i,o=n||{},a=!1,s=0,u=!("leading"in o)||o.leading,c="trailing"in o&&o.trailing,l=function(){a=!0,e.apply(i,r),s=setTimeout(h,t)},h=function(){s=0,a||!0!==c||l()},f=function(){r=arguments,i=this,a=!1,0===s&&(!0===u?l():!0===c&&(s=setTimeout(h,t)))};return f.cancel=function(){var e=0!==s;return clearTimeout(s),a=!1,s=0,e},f}},97567:function(e,t,n){var r=n(13603),i=n(29637),o=n(19598),a=n(49630);e.exports=function(e,t){if(e){var n=o(e,t);return a(n)?r(n):n}return i()}},43824:function(e,t,n){var r=n(65101);e.exports=function(e){return r(e,(function(e){return e}))}},23192:function(e,t,n){var r=n(13911),i=n(65101),o=n(37608),a=n(6486),s=n(4893),u=n(54915),c=n(40921),l=n(43025);e.exports=function(e,t){var n,h,f,d,p=l({},r.treeOptions,t),m=p.strict,g=p.key,v=p.parentKey,y=p.children,b=p.mapChildren,x=p.sortKey,E=p.reverse,w=p.data,M=[],A={};return x&&(e=o(a(e),x),E&&(e=e.reverse())),n=i(e,(function(e){return e[g]})),u(e,(function(e){h=e[g],w?(f={})[w]=e:f=e,d=e[v],A[h]=A[h]||[],A[d]=A[d]||[],A[d].push(f),f[g]=h,f[v]=d,f[y]=A[h],b&&(f[b]=A[h]),(!m||m&&!d)&&(s(n,d)||M.push(f))})),m&&function(e,t){u(e,(function(e){e.children&&!e.children.length&&c(e,t)}))}(e,y),M}},93398:function(e,t,n){var r=n(13911),i=n(38151),o=n(88077),a=n(50877),s=n(19598),u=n(29804),c=n(5883),l=n(43025),h=n(50681),f=n(64215),d=n(54341);function p(e,t,n,r){var i=t[n];return i?f(i)?i(r,n,e):i[r]:r}var m=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;e.exports=function(e,t,n){if(e){if(e=s(e),h(e)){var f=t||r.parseDateFormat||r.formatString,g=e.getHours(),v=g<12?"am":"pm",y=l({},r.parseDateRules||r.formatStringMatchs,n?n.formats:null),b=function(t,n){return(""+o(e)).substr(4-n)},x=function(t,n){return d(a(e)+1,n,"0")},E=function(t,n){return d(e.getDate(),n,"0")},w=function(e,t){return d(g,t,"0")},M=function(e,t){return d(g<=12?g:g-12,t,"0")},A=function(t,n){return d(e.getMinutes(),n,"0")},_=function(t,n){return d(e.getSeconds(),n,"0")},T=function(t,n){return d(e.getMilliseconds(),n,"0")},S=function(t,n){var r=e.getTimezoneOffset()/60*-1;return p(e,y,t,(r>=0?"+":"-")+d(r,2,"0")+(1===n?":":"")+"00")},N=function(t,i){return d(p(e,y,t,u(e,(n?n.firstDay:null)||r.firstDayOfWeek)),i,"0")},C=function(t,n){return d(p(e,y,t,c(e)),n,"0")},I={yyyy:b,yy:b,MM:x,M:x,dd:E,d:E,HH:w,H:w,hh:M,h:M,mm:A,m:A,ss:_,s:_,SSS:T,S:T,ZZ:S,Z:S,WW:N,W:N,DDD:C,D:C,a:function(t){return p(e,y,t,v)},A:function(t){return p(e,y,t,i(v))},e:function(t){return p(e,y,t,e.getDay())},E:function(t){return p(e,y,t,e.getDay())},q:function(t){return p(e,y,t,Math.floor((a(e)+3)/3))}};return f.replace(m,(function(e,t){return t||(I[e]?I[e](e,e.length):e)}))}return"Invalid Date"}return""}},69382:function(e,t,n){var r=n(45971),i=n(17199),o=n(6382),a=n(13300);e.exports=function(e,t){var n=i(r(e,t>>=0)).split("."),s=n[0],u=n[1]||"",c=t-u.length;return t?c>0?s+"."+u+o("0",c):s+a(u,Math.abs(c)):s}},3072:function(e,t,n){var r=n(41430);e.exports=function(e,t){return r(e,t,{tmplRE:/\{([.\w[\]\s]+)\}/g})}},90748:function(e,t,n){var r=n(57881),i=n(1850)(r);e.exports=i},66388:function(e,t,n){var r=n(72159);e.exports=function(e){return r(e)?"":JSON.stringify(e)}},7983:function(e,t,n){var r=n(1850)(parseFloat);e.exports=r},55483:function(e,t,n){var r=n(6382),i=n(13300);e.exports=function(e){var t=""+e,n=t.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(n){var o=e<0?"-":"",a=n[3]||"",s=n[5]||"",u=n[6]||"",c=n[7],l=n[8],h=l-u.length,f=l-a.length,d=l-s.length;return"+"===c?a?o+a+r("0",l):h>0?o+s+u+r("0",h):o+s+i(u,l):a?f>0?o+"0."+r("0",Math.abs(f))+a:o+i(a,f):d>0?o+"0."+r("0",Math.abs(d))+s+u:o+i(s,d)+u}return t}},19598:function(e,t,n){var r=n(57881),i=n(95409),o=n(13603),a=n(50298),s=n(49630);function u(e){return"(\\d{"+e+"})"}function c(e){return isNaN(e)?e:r(e)}for(var l=u(2),h=u("1,2"),f=u("1,7"),d=u("3,4"),p=".{1}",m=p+h,g="(([zZ])|([-+]\\d{2}:?\\d{2}))",v=[d,m,m,m,m,m,p+f,g],y=[],b=v.length-1;b>=0;b--){for(var x="",E=0;E<b+1;E++)x+=v[E];y.push(new RegExp("^"+x+"$"))}var w=[["yyyy",d],["yy",l],["MM",l],["M",h],["dd",l],["d",h],["HH",l],["H",h],["mm",l],["m",h],["ss",l],["s",h],["SSS",u(3)],["S",f],["Z",g]],M={},A=["\\[([^\\]]+)\\]"];for(E=0;E<w.length;E++){var _=w[E];M[_[0]]=_[1]+"?",A.push(_[0])}var T=new RegExp(A.join("|"),"g"),S={};e.exports=function(e,t){if(e){var n=s(e);if(n||!t&&/^[0-9]{11,15}$/.test(e))return new Date(n?o(e):r(e));if(a(e)){var u=t?function(e,t){var n=S[t];if(!n){var r=[],i=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(T,(function(e,t){var n=e.charAt(0);return"["===n?t:(r.push(n),M[e])}));n=S[t]={_i:r,_r:new RegExp(i)}}var o={},a=e.match(n._r);if(a){for(var s=n._i,u=1,c=a.length;u<c;u++)o[s[u-1]]=a[u];return o}return o}(e,t):function(e){for(var t,n={},r=0,i=y.length;r<i;r++)if(t=e.match(y[r])){n.y=t[1],n.M=t[2],n.d=t[3],n.H=t[4],n.m=t[5],n.s=t[6],n.S=t[7],n.Z=t[8];break}return n}(e);if(u.y)return u.M&&(u.M=c(u.M)-1),u.S&&(u.S=(l=c(u.S.substring(0,3)))<10?100*l:l<100?10*l:l),u.Z?function(e){if(/^[zZ]/.test(e.Z))return new Date(i(e));var t=e.Z.match(/([-+])(\d{2}):?(\d{2})/);return t?new Date(i(e)-("-"===t[1]?-1:1)*r(t[2])*36e5+6e4*r(t[3])):new Date("")}(u):new Date(u.y,u.M||0,u.d||1,u.H||0,u.m||0,u.s||0,u.S||0)}}var l;return new Date("")}},5947:function(t,n,r){var i=r(26680),o=r(50298);t.exports=function(t){if(i(t))return t;if(o(t))try{return JSON.parse(t)}catch(e){}return{}}},83066:function(e,t,n){var r=n(13911),i=n(54915),o=n(43025);function a(e,t,n){var r=n.children,o=n.data,s=n.clear;return i(t,(function(t){var i=t[r];o&&(t=t[o]),e.push(t),i&&i.length&&a(e,i,n),s&&delete t[r]})),e}e.exports=function(e,t){return a([],e,o({},r.treeOptions,t))}},17199:function(e,t,n){var r=n(72159),i=n(11529),o=n(55483);e.exports=function(e){return i(e)?o(e):""+(r(e)?"":e)}},31261:function(e,t,n){var r=n(46933),i=n(52436);e.exports=function(e){return e&&e.trim?e.trim():r(i(e))}},52436:function(e,t,n){var r=n(17199);e.exports=function(e){return e&&e.trimLeft?e.trimLeft():r(e).replace(/^[\s\uFEFF\xA0]+/g,"")}},46933:function(e,t,n){var r=n(17199);e.exports=function(e){return e&&e.trimRight?e.trimRight():r(e).replace(/[\s\uFEFF\xA0]+$/g,"")}},80872:function(e,t,n){var r=n(13444),i=n(67171),o=n(54915),a={};o(r,(function(e,t){a[r[t]]=t}));var s=i(a);e.exports=s},60819:function(e,t,n){var r=n(43722),i=n(43824);e.exports=function(){for(var e=arguments,t=[],n=0,o=e.length;n<o;n++)t=t.concat(i(e[n]));return r(t)}},43722:function(e,t,n){var r=n(54915),i=n(4893);e.exports=function(e){var t=[];return r(e,(function(e){i(t,e)||t.push(e)})),t}},89041:function(e){var t=0;e.exports=function(e){return[e,++t].join("")}},61732:function(e,t,n){var r=n(74238),i=n(47255),o=n(50298);e.exports=function(e){var t,n={};return e&&o(e)&&i(e.split("&"),(function(e){t=e.split("="),n[r(t[0])]=r(t[1]||"")})),n}},14599:function(e,t,n){var r=n(16528),i=n(7280);e.exports=function(e){var t,n,o,a=[];if(e&&e.length)for(t=0,o=(n=i(e,(function(e){return e?e.length:0})))?n.length:0;t<o;t++)a.push(r(e,t));return a}},67982:function(e,t,n){var r=n(58044)("values",0);e.exports=r},83160:function(e,t,n){var r=n(14599);e.exports=function(){return r(arguments)}},89933:function(e,t,n){var r=n(67982),i=n(54915);e.exports=function(e,t){var n={};return t=t||[],i(r(e),(function(e,r){n[e]=t[r]})),n}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".633816a4.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-project:";r.l=function(n,i,o,a){if(e[n])e[n].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[i];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/web/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=o);var a=r.p+r.u(t),s=new Error;r.l(a,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,o,a=n[0],s=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)u(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkmy_project=self.webpackChunkmy_project||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var t=r(72791),n=r(1250);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function d(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return f(this,e)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))})),y=r(80184),b=(t.Component,r(54164));function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function M(e){return function(e){if(Array.isArray(e))return x(e)}(e)||E(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){if(Array.isArray(e))return e}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){return A(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||w(e,t)||_()}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var N=r(81694),C=r.n(N),I={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},L={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},D={lang:S({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:S({},L)},O="${label} is not a valid ${type}",R={locale:"en",Pagination:I,DatePicker:D,TimePicker:L,Calendar:D,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:O,method:O,array:O,object:O,number:O,date:O,boolean:O,integer:O,float:O,regexp:O,email:O,url:O,hex:O},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},P=R,j=(0,t.createContext)(void 0),k=function(e){u(n,e);var t=d(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||P[t||"global"],r=this.context,i=t&&r?r[t]:{};return S(S({},"function"===typeof n?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?P.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(t.Component);k.defaultProps={componentName:"global"},k.contextType=j;var U=function(){var e=(0,t.useContext(W).getPrefixCls)("empty-img-default");return t.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{fill:"none",fillRule:"evenodd"},t.createElement("g",{transform:"translate(24 31.67)"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),t.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),t.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),t.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),t.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),t.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),t.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},t.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),t.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},F=function(){var e=(0,t.useContext(W).getPrefixCls)("empty-img-simple");return t.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},t.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),t.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},t.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),t.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},z=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},B=t.createElement(U,null),G=t.createElement(F,null),H=function(e){var n=e.className,r=e.prefixCls,i=e.image,o=void 0===i?B:i,a=e.description,s=e.children,u=e.imageStyle,c=z(e,["className","prefixCls","image","description","children","imageStyle"]),l=t.useContext(W),h=l.getPrefixCls,f=l.direction;return t.createElement(k,{componentName:"Empty"},(function(e){var i,l=h("empty",r),d="undefined"!==typeof a?a:e.description,m="string"===typeof d?d:"empty",g=null;return g="string"===typeof o?t.createElement("img",{alt:m,src:o}):o,t.createElement("div",S({className:C()(l,(i={},p(i,"".concat(l,"-normal"),o===G),p(i,"".concat(l,"-rtl"),"rtl"===f),i),n)},c),t.createElement("div",{className:"".concat(l,"-image"),style:u},g),d&&t.createElement("div",{className:"".concat(l,"-description")},d),s&&t.createElement("div",{className:"".concat(l,"-footer")},s))}))};H.PRESENTED_IMAGE_DEFAULT=B,H.PRESENTED_IMAGE_SIMPLE=G;var V=H,Y=function(e){return t.createElement(X,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(e){case"Table":case"List":return t.createElement(V,{image:V.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return t.createElement(V,{image:V.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return t.createElement(V,null)}}))},W=t.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:Y}),X=W.Consumer;var Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},q=t.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function K(e){var n=e.suffixCls,r=e.tagName,i=e.displayName;return function(e){var o=function(i){var o=t.useContext(W).getPrefixCls,a=i.prefixCls,s=o(n,a);return t.createElement(e,S({prefixCls:s,tagName:r},i))};return o.displayName=i,o}}var Z=function(e){var n=e.prefixCls,r=e.className,i=e.children,o=e.tagName,a=Q(e,["prefixCls","className","children","tagName"]),s=C()(n,r);return t.createElement(o,S({className:s},a),i)},J=K({suffixCls:"layout",tagName:"section",displayName:"Layout"})((function(e){var n,r=t.useContext(W).direction,i=T(t.useState([]),2),o=i[0],a=i[1],s=e.prefixCls,u=e.className,c=e.children,l=e.hasSider,h=e.tagName,f=Q(e,["prefixCls","className","children","hasSider","tagName"]),d=C()(s,(p(n={},"".concat(s,"-has-sider"),"boolean"===typeof l?l:o.length>0),p(n,"".concat(s,"-rtl"),"rtl"===r),n),u);return t.createElement(q.Provider,{value:{siderHook:{addSider:function(e){a((function(t){return[].concat(M(t),[e])}))},removeSider:function(e){a((function(t){return t.filter((function(t){return t!==e}))}))}}}},t.createElement(h,S({className:d},f),c))})),$=K({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(Z),ee=K({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(Z),te=K({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(Z),ne=J;function re(e,t){var n=g({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var ie={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ae=(0,t.createContext)({});function se(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function ue(e){return e<=1?"".concat(100*Number(e),"%"):e}function ce(e){return 1===e.length?"0"+e:String(e)}function le(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function he(e){return fe(e)/255}function fe(e){return parseInt(e,16)}var de={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function pe(e){var t,n,r,i={r:0,g:0,b:0},o=1,a=null,s=null,u=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(de[e])e=de[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=ye.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=ye.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=ye.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=ye.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=ye.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=ye.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=ye.hex8.exec(e))return{r:fe(n[1]),g:fe(n[2]),b:fe(n[3]),a:he(n[4]),format:t?"name":"hex8"};if(n=ye.hex6.exec(e))return{r:fe(n[1]),g:fe(n[2]),b:fe(n[3]),format:t?"name":"hex"};if(n=ye.hex4.exec(e))return{r:fe(n[1]+n[1]),g:fe(n[2]+n[2]),b:fe(n[3]+n[3]),a:he(n[4]+n[4]),format:t?"name":"hex8"};if(n=ye.hex3.exec(e))return{r:fe(n[1]+n[1]),g:fe(n[2]+n[2]),b:fe(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(be(e.r)&&be(e.g)&&be(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*se(t,255),g:255*se(n,255),b:255*se(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):be(e.h)&&be(e.s)&&be(e.v)?(a=ue(e.s),s=ue(e.v),i=function(e,t,n){e=6*se(e,360),t=se(t,100),n=se(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,a,s),c=!0,l="hsv"):be(e.h)&&be(e.s)&&be(e.l)&&(a=ue(e.s),u=ue(e.l),i=function(e,t,n){var r,i,o;if(e=se(e,360),t=se(t,100),n=se(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=le(s,a,e+1/3),i=le(s,a,e),o=le(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,a,u),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(o),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:o}}var me="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ge="[\\s|\\(]+(".concat(me,")[,|\\s]+(").concat(me,")[,|\\s]+(").concat(me,")\\s*\\)?"),ve="[\\s|\\(]+(".concat(me,")[,|\\s]+(").concat(me,")[,|\\s]+(").concat(me,")[,|\\s]+(").concat(me,")\\s*\\)?"),ye={CSS_UNIT:new RegExp(me),rgb:new RegExp("rgb"+ge),rgba:new RegExp("rgba"+ve),hsl:new RegExp("hsl"+ge),hsla:new RegExp("hsla"+ve),hsv:new RegExp("hsv"+ge),hsva:new RegExp("hsva"+ve),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function be(e){return Boolean(ye.CSS_UNIT.exec(String(e)))}var xe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Ee(e){var t=function(e,t,n){e=se(e,255),t=se(t,255),n=se(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function we(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var i=[ce(Math.round(e).toString(16)),ce(Math.round(t).toString(16)),ce(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}(t,n,r,!1))}function Me(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Ae(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function _e(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Te(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Se(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=pe(e),i=5;i>0;i-=1){var o=Ee(r),a=we(pe({h:Ae(o,i,!0),s:_e(o,i,!0),v:Te(o,i,!0)}));n.push(a)}n.push(we(r));for(var s=1;s<=4;s+=1){var u=Ee(r),c=we(pe({h:Ae(u,s),s:_e(u,s),v:Te(u,s)}));n.push(c)}return"dark"===t.theme?xe.map((function(e){var r=e.index,i=e.opacity;return we(Me(pe(t.backgroundColor||"#141414"),pe(n[r]),100*i))})):n}var Ne={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ce={},Ie={};Object.keys(Ne).forEach((function(e){Ce[e]=Se(Ne[e]),Ce[e].primary=Ce[e][5],Ie[e]=Se(Ne[e],{theme:"dark",backgroundColor:"#141414"}),Ie[e].primary=Ie[e][5]}));Ce.red,Ce.volcano,Ce.gold,Ce.orange,Ce.yellow,Ce.lime,Ce.green,Ce.cyan,Ce.blue,Ce.geekblue,Ce.purple,Ce.magenta,Ce.grey;var Le={};function De(e,t){0}function Oe(e,t){0}function Re(e,t,n){t||Le[n]||(e(!1,n),Le[n]=!0)}function Pe(e,t){Re(Oe,e,t)}var je=function(e,t){Re(De,e,t)},ke=r(95929);function Ue(e){return"object"===l(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===l(e.icon)||"function"===typeof e.icon)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ze(e,n,r){return r?t.createElement(e.tag,g(g({key:n},Fe(e.attrs)),r),(e.children||[]).map((function(t,r){return ze(t,"".concat(n,"-").concat(e.tag,"-").concat(r))}))):t.createElement(e.tag,g({key:n},Fe(e.attrs)),(e.children||[]).map((function(t,r){return ze(t,"".concat(n,"-").concat(e.tag,"-").concat(r))})))}function Be(e){return Se(e)[0]}function Ge(e){return e?Array.isArray(e)?e:[e]:[]}var He="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",Ve=!1,Ye={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var We=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,u=oe(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),c=Ye;if(a&&(c={primaryColor:a,secondaryColor:s||Be(a)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;(0,t.useEffect)((function(){Ve||((0,ke.insertCss)(e,{prepend:!0}),Ve=!0)}),[])}(),function(e,t){je(e,"[@ant-design/icons] ".concat(t))}(Ue(n),"icon should be icon definiton, but got ".concat(n)),!Ue(n))return null;var l=n;return l&&"function"===typeof l.icon&&(l=g(g({},l),{},{icon:l.icon(c.primaryColor,c.secondaryColor)})),ze(l.icon,"svg-".concat(l.name),g({className:r,onClick:i,style:o,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};We.displayName="IconReact",We.getTwoToneColors=function(){return g({},Ye)},We.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Ye.primaryColor=t,Ye.secondaryColor=n||Be(t),Ye.calculated=!!n};var Xe=We;function Qe(e){var t=T(Ge(e),2),n=t[0],r=t[1];return Xe.setTwoToneColors({primaryColor:n,secondaryColor:r})}Qe("#1890ff");var qe=t.forwardRef((function(e,n){var r,i=e.className,o=e.icon,a=e.spin,s=e.rotate,u=e.tabIndex,c=e.onClick,l=e.twoToneColor,h=oe(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),f=t.useContext(ae).prefixCls,d=void 0===f?"anticon":f,m=C()(d,(p(r={},"".concat(d,"-").concat(o.name),!!o.name),p(r,"".concat(d,"-spin"),!!a||"loading"===o.name),r),i),g=u;void 0===g&&c&&(g=-1);var v=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,y=T(Ge(l),2),b=y[0],x=y[1];return t.createElement("span",Object.assign({role:"img","aria-label":o.name},h,{ref:n,tabIndex:g,onClick:c,className:m}),t.createElement(Xe,{icon:o,primaryColor:b,secondaryColor:x,style:v}))}));qe.displayName="AntdIcon",qe.getTwoToneColor=function(){var e=Xe.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},qe.setTwoToneColor=Qe;var Ke=qe,Ze=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:ie}))};Ze.displayName="BarsOutlined";var Je=t.forwardRef(Ze),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},et=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:$e}))};et.displayName="RightOutlined";var tt=t.forwardRef(et),nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},rt=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:nt}))};rt.displayName="LeftOutlined";var it=t.forwardRef(rt),ot=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},st={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},ut=t.createContext({}),ct=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),lt=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.className,o=e.trigger,a=e.children,s=e.defaultCollapsed,u=void 0!==s&&s,c=e.theme,l=void 0===c?"dark":c,h=e.style,f=void 0===h?{}:h,d=e.collapsible,m=void 0!==d&&d,g=e.reverseArrow,v=void 0!==g&&g,y=e.width,b=void 0===y?200:y,x=e.collapsedWidth,E=void 0===x?80:x,w=e.zeroWidthTriggerStyle,M=e.breakpoint,A=e.onCollapse,_=e.onBreakpoint,N=at(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),I=(0,t.useContext)(q).siderHook,L=T((0,t.useState)("collapsed"in N?N.collapsed:u),2),D=L[0],O=L[1],R=T((0,t.useState)(!1),2),P=R[0],j=R[1];(0,t.useEffect)((function(){"collapsed"in N&&O(N.collapsed)}),[N.collapsed]);var k=function(e,t){"collapsed"in N||O(e),null===A||void 0===A||A(e,t)},U=(0,t.useRef)();U.current=function(e){j(e.matches),null===_||void 0===_||_(e.matches),D!==e.matches&&k(e.matches,"responsive")},(0,t.useEffect)((function(){function e(e){return U.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&M&&M in st){t=n("(max-width: ".concat(st[M],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[]),(0,t.useEffect)((function(){var e=ct("ant-sider-");return I.addSider(e),function(){return I.removeSider(e)}}),[]);var F=function(){k(!D,"clickTrigger")},z=(0,t.useContext)(W).getPrefixCls;return t.createElement(ut.Provider,{value:{siderCollapsed:D,collapsedWidth:E}},function(){var e,s=z("layout-sider",r),u=re(N,["collapsed"]),c=D?E:b,h=ot(c)?"".concat(c,"px"):String(c),d=0===parseFloat(String(E||0))?t.createElement("span",{onClick:F,className:C()("".concat(s,"-zero-width-trigger"),"".concat(s,"-zero-width-trigger-").concat(v?"right":"left")),style:w},o||t.createElement(Je,null)):null,g={expanded:v?t.createElement(tt,null):t.createElement(it,null),collapsed:v?t.createElement(it,null):t.createElement(tt,null)}[D?"collapsed":"expanded"],y=null!==o?d||t.createElement("div",{className:"".concat(s,"-trigger"),onClick:F,style:{width:h}},o||g):null,x=S(S({},f),{flex:"0 0 ".concat(h),maxWidth:h,minWidth:h,width:h}),M=C()(s,"".concat(s,"-").concat(l),(p(e={},"".concat(s,"-collapsed"),!!D),p(e,"".concat(s,"-has-trigger"),m&&null!==o&&!d),p(e,"".concat(s,"-below"),!!P),p(e,"".concat(s,"-zero-width"),0===parseFloat(h)),e),i);return t.createElement("aside",S({className:M},u,{style:x,ref:n}),t.createElement("div",{className:"".concat(s,"-children")},a),m||P&&d?y:null)}())}));lt.displayName="Sider";var ht=lt,ft=ne;ft.Header=$,ft.Footer=ee,ft.Content=te,ft.Sider=ht;var dt=ft,pt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=t.createContext(null),gt=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return pt(n,e),n.prototype.render=function(){return t.createElement(mt.Provider,{value:this.props.store},this.props.children)},n}(t.Component),vt=r(79613),yt=r.n(vt),bt=r(62110),xt=r.n(bt),Et=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wt.apply(this,arguments)};var Mt=function(){return{}};function At(e,n){void 0===n&&(n={});var r=!!e,i=e||Mt;return function(o){var a=function(n){function a(e,t){var r=n.call(this,e,t)||this;return r.unsubscribe=null,r.handleChange=function(){if(r.unsubscribe){var e=i(r.store.getState(),r.props);r.setState({subscribed:e})}},r.store=r.context,r.state={subscribed:i(r.store.getState(),e),store:r.store,props:e},r}return Et(a,n),a.getDerivedStateFromProps=function(t,n){return e&&2===e.length&&t!==n.props?{subscribed:i(n.store.getState(),t),props:t}:{props:t}},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},a.prototype.shouldComponentUpdate=function(e,t){return!yt()(this.props,e)||!yt()(this.state.subscribed,t.subscribed)},a.prototype.trySubscribe=function(){r&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.render=function(){var e=wt(wt(wt({},this.props),this.state.subscribed),{store:this.store});return t.createElement(o,wt({},e,{ref:this.props.miniStoreForwardedRef}))},a.displayName="Connect("+function(e){return e.displayName||e.name||"Component"}(o)+")",a.contextType=mt,a}(t.Component);if(n.forwardRef){var s=t.forwardRef((function(e,n){return t.createElement(a,wt({},e,{miniStoreForwardedRef:n}))}));return xt()(s,o)}return xt()(a,o)}}var _t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_t.apply(this,arguments)};var Tt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Tt.F1&&t<=Tt.F12)return!1;switch(t){case Tt.ALT:case Tt.CAPS_LOCK:case Tt.CONTEXT_MENU:case Tt.CTRL:case Tt.DOWN:case Tt.END:case Tt.ESC:case Tt.HOME:case Tt.INSERT:case Tt.LEFT:case Tt.MAC_FF_META:case Tt.META:case Tt.NUMLOCK:case Tt.NUM_CENTER:case Tt.PAGE_DOWN:case Tt.PAGE_UP:case Tt.PAUSE:case Tt.PRINT_SCREEN:case Tt.RIGHT:case Tt.SHIFT:case Tt.UP:case Tt.WIN_KEY:case Tt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Tt.ZERO&&e<=Tt.NINE)return!0;if(e>=Tt.NUM_ZERO&&e<=Tt.NUM_MULTIPLY)return!0;if(e>=Tt.A&&e<=Tt.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Tt.SPACE:case Tt.QUESTION_MARK:case Tt.NUM_PLUS:case Tt.NUM_MINUS:case Tt.NUM_PERIOD:case Tt.NUM_DIVISION:case Tt.SEMICOLON:case Tt.DASH:case Tt.EQUALS:case Tt.COMMA:case Tt.PERIOD:case Tt.SLASH:case Tt.APOSTROPHE:case Tt.SINGLE_QUOTE:case Tt.OPEN_SQUARE_BRACKET:case Tt.BACKSLASH:case Tt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},St=Tt;function Nt(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}var Ct=r(73873);function It(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(It(e)):(0,Ct.isFragment)(e)&&e.props?r=r.concat(It(e.props.children,n)):r.push(e))})),r}var Lt=/iPhone/i,Dt=/iPod/i,Ot=/iPad/i,Rt=/\bAndroid(?:.+)Mobile\b/i,Pt=/Android/i,jt=/\bAndroid(?:.+)SD4930UR\b/i,kt=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,Ut=/Windows Phone/i,Ft=/\bWindows(?:.+)ARM\b/i,zt=/BlackBerry/i,Bt=/BB10/i,Gt=/Opera Mini/i,Ht=/\b(CriOS|Chrome)(?:.+)Mobile/i,Vt=/Mobile(?:.+)Firefox\b/i;function Yt(e,t){return e.test(t)}function Wt(e){var t=e||("undefined"!==typeof navigator?navigator.userAgent:""),n=(t||"").split("[FBAN");"undefined"!==typeof n[1]&&(t=T(n,1)[0]);"undefined"!==typeof(n=t.split("Twitter"))[1]&&(t=T(n,1)[0]);var r={apple:{phone:Yt(Lt,t)&&!Yt(Ut,t),ipod:Yt(Dt,t),tablet:!Yt(Lt,t)&&Yt(Ot,t)&&!Yt(Ut,t),device:(Yt(Lt,t)||Yt(Dt,t)||Yt(Ot,t))&&!Yt(Ut,t)},amazon:{phone:Yt(jt,t),tablet:!Yt(jt,t)&&Yt(kt,t),device:Yt(jt,t)||Yt(kt,t)},android:{phone:!Yt(Ut,t)&&Yt(jt,t)||!Yt(Ut,t)&&Yt(Rt,t),tablet:!Yt(Ut,t)&&!Yt(jt,t)&&!Yt(Rt,t)&&(Yt(kt,t)||Yt(Pt,t)),device:!Yt(Ut,t)&&(Yt(jt,t)||Yt(kt,t)||Yt(Rt,t)||Yt(Pt,t))||Yt(/\bokhttp\b/i,t)},windows:{phone:Yt(Ut,t),tablet:Yt(Ft,t),device:Yt(Ut,t)||Yt(Ft,t)},other:{blackberry:Yt(zt,t),blackberry10:Yt(Bt,t),opera:Yt(Gt,t),firefox:Yt(Vt,t),chrome:Yt(Ht,t),device:Yt(zt,t)||Yt(Bt,t)||Yt(Gt,t)||Yt(Vt,t)||Yt(Ht,t)},any:null,phone:null,tablet:null};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}var Xt=g(g({},Wt()),{},{isMobile:Wt});function Qt(){}function qt(e,t,n){var r=t||"";return e.key||"".concat(r,"item_").concat(n)}function Kt(e){return"".concat(e,"-menu-")}function Zt(e,n){var r=-1;t.Children.forEach(e,(function(e){r+=1,e&&e.type&&e.type.isMenuItemGroup?t.Children.forEach(e.props.children,(function(e){n(e,r+=1)})):n(e,r)}))}function Jt(e,n,r){e&&!r.find&&t.Children.forEach(e,(function(e){if(e){var t=e.type;if(!t||!(t.isSubMenu||t.isMenuItem||t.isMenuItemGroup))return;-1!==n.indexOf(e.key)?r.find=!0:e.props.children&&Jt(e.props.children,n,r)}}))}var $t=["defaultSelectedKeys","selectedKeys","defaultOpenKeys","openKeys","mode","getPopupContainer","onSelect","onDeselect","onDestroy","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","level","selectable","multiple","onOpenChange","visible","focusable","defaultActiveFirst","prefixCls","inlineIndent","parentMenu","title","rootPrefixCls","eventKey","active","onItemHover","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupAlign","popupOffset","isOpen","renderMenuItem","manualRef","subMenuKey","disabled","index","isSelected","store","activeKey","builtinPlacements","overflowedIndicator","motion","attribute","value","popupClassName","inlineCollapsed","menu","theme","itemIcon","expandIcon"],en=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&"function"===typeof e.getBoundingClientRect&&e.getBoundingClientRect().width;if(n){if(t){var r=getComputedStyle(e),i=r.marginLeft,o=r.marginRight;n+=+i.replace("px","")+ +o.replace("px","")}n=+n.toFixed(6)}return n||0},tn=function(e,t,n){e&&"object"===l(e.style)&&(e.style[t]=n)},nn=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),rn="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,on="undefined"!==typeof r.g&&r.g.Math===Math?r.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),an="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(on):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var sn=["top","right","bottom","left","width","height","size","weight"],un="undefined"!==typeof MutationObserver,cn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){an(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){rn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),un?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){rn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=sn.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ln=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},hn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||on},fn=yn(0,0,0,0);function dn(e){return parseFloat(e)||0}function pn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+dn(e["border-"+n+"-width"])}),0)}function mn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return fn;var r=hn(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=dn(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=dn(r.width),u=dn(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=pn(r,"left","right")+o),Math.round(u+a)!==n&&(u-=pn(r,"top","bottom")+a)),!function(e){return e===hn(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return yn(i.left,i.top,s,u)}var gn="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof hn(e).SVGGraphicsElement}:function(e){return e instanceof hn(e).SVGElement&&"function"===typeof e.getBBox};function vn(e){return rn?gn(e)?function(e){var t=e.getBBox();return yn(0,0,t.width,t.height)}(e):mn(e):fn}function yn(e,t,n,r){return{x:e,y:t,width:n,height:r}}var bn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=yn(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=vn(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),xn=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return ln(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);ln(this,{target:e,contentRect:n})},En=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new nn,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof hn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new bn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof hn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new xn(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),wn="undefined"!==typeof WeakMap?new WeakMap:new nn,Mn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=cn.getInstance(),r=new En(t,n,this);wn.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Mn.prototype[e]=function(){var t;return(t=wn.get(this))[e].apply(t,arguments)}}));var An="undefined"!==typeof on.ResizeObserver?on.ResizeObserver:Mn,_n=function(e){return+setTimeout(e,16)},Tn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(_n=function(e){return window.requestAnimationFrame(e)},Tn=function(e){return window.cancelAnimationFrame(e)});var Sn=0,Nn=new Map;function Cn(e){Nn.delete(e)}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Sn+=1;function r(t){if(0===t)Cn(n),e();else{var i=_n((function(){r(t-1)}));Nn.set(n,i)}}return r(t),n}function Ln(e,t){return!!e&&e.contains(t)}function Dn(e){return e instanceof HTMLElement?e:b.findDOMNode(e)}function On(e,n,r){var i=t.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=e(),i.current.condition=n),i.current.value}function Rn(e,t){"function"===typeof e?e(t):"object"===l(e)&&e&&"current"in e&&(e.current=t)}function Pn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Rn(t,e)}))}}function jn(e){var t,n,r=(0,Ct.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function kn(e,t,n,r){var i=b.unstable_batchedUpdates?function(e){b.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}function Un(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}In.cancel=function(e){var t=Nn.get(e);return Cn(t),Tn(t)};var Fn=(0,t.forwardRef)((function(e,n){var r=e.didUpdate,i=e.getContainer,o=e.children,a=(0,t.useRef)(),s=(0,t.useRef)();(0,t.useImperativeHandle)(n,(function(){return{}}));var u=(0,t.useRef)(!1);return!u.current&&Un()&&(s.current=i(),a.current=s.current.parentNode,u.current=!0),(0,t.useEffect)((function(){null===r||void 0===r||r(e)})),(0,t.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?b.createPortal(o,s.current):null})),zn=Fn;function Bn(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var Gn=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function Hn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Vn=function(e,t){var n={animationend:Hn("Animation","AnimationEnd"),transitionend:Hn("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Un(),"undefined"!==typeof window?window:{}),Yn={};if(Un()){var Wn=document.createElement("div");Yn=Wn.style}var Xn={};function Qn(e){if(Xn[e])return Xn[e];var t=Vn[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Yn)return Xn[e]=t[o],Xn[e]}return""}var qn=Qn("animationend"),Kn=Qn("transitionend"),Zn=!(!qn||!Kn),Jn=qn||"animationend",$n=Kn||"transitionend";function er(e,t){if(!e)return null;if("object"===l(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var tr="none",nr="appear",rr="enter",ir="leave",or="none",ar="prepare",sr="start",ur="active",cr="end";function lr(e){var n=t.useRef(!1),r=T(t.useState(e),2),i=r[0],o=r[1];return t.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}var hr=Un()?t.useLayoutEffect:t.useEffect,fr=[ar,sr,ur,cr];function dr(e){return e===ur||e===cr}var pr=function(e,n){var r=T(lr(or),2),i=r[0],o=r[1],a=function(){var e=t.useRef(null);function n(){In.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=In((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),s=T(a,2),u=s[0],c=s[1];return hr((function(){if(i!==or&&i!==cr){var e=fr.indexOf(i),t=fr[e+1],r=n(i);false===r?o(t,!0):u((function(e){function n(){e.isCanceled()||o(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){c()}}),[]),[function(){o(ar,!0)},i]};function mr(e,n,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,u=void 0===s||s,c=i.motionLeave,l=void 0===c||c,h=i.motionDeadline,f=i.motionLeaveImmediately,d=i.onAppearPrepare,m=i.onEnterPrepare,v=i.onLeavePrepare,y=i.onAppearStart,b=i.onEnterStart,x=i.onLeaveStart,E=i.onAppearActive,w=i.onEnterActive,M=i.onLeaveActive,A=i.onAppearEnd,_=i.onEnterEnd,S=i.onLeaveEnd,N=i.onVisibleChanged,C=T(lr(),2),I=C[0],L=C[1],D=T(lr(tr),2),O=D[0],R=D[1],P=T(lr(null),2),j=P[0],k=P[1],U=(0,t.useRef)(!1),F=(0,t.useRef)(null);function z(){return r()}var B=(0,t.useRef)(!1);function G(e){var t=z();if(!e||e.deadline||e.target===t){var n,r=B.current;O===nr&&r?n=null===A||void 0===A?void 0:A(t,e):O===rr&&r?n=null===_||void 0===_?void 0:_(t,e):O===ir&&r&&(n=null===S||void 0===S?void 0:S(t,e)),O!==tr&&r&&!1!==n&&(R(tr,!0),k(null,!0))}}var H=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener($n,i),e.removeEventListener(Jn,i))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener($n,i),e.addEventListener(Jn,i),n.current=e)},o]}(G),V=T(H,1)[0],Y=t.useMemo((function(){var e,t,n;switch(O){case nr:return p(e={},ar,d),p(e,sr,y),p(e,ur,E),e;case rr:return p(t={},ar,m),p(t,sr,b),p(t,ur,w),t;case ir:return p(n={},ar,v),p(n,sr,x),p(n,ur,M),n;default:return{}}}),[O]),W=T(pr(O,(function(e){if(e===ar){var t=Y.prepare;return!!t&&t(z())}var n;Q in Y&&k((null===(n=Y[Q])||void 0===n?void 0:n.call(Y,z(),null))||null);return Q===ur&&(V(z()),h>0&&(clearTimeout(F.current),F.current=setTimeout((function(){G({deadline:!0})}),h))),true})),2),X=W[0],Q=W[1],q=dr(Q);B.current=q,hr((function(){L(n);var t,r=U.current;(U.current=!0,e)&&(!r&&n&&u&&(t=nr),r&&n&&a&&(t=rr),(r&&!n&&l||!r&&f&&!n&&l)&&(t=ir),t&&(R(t),X()))}),[n]),(0,t.useEffect)((function(){(O===nr&&!u||O===rr&&!a||O===ir&&!l)&&R(tr)}),[u,a,l]),(0,t.useEffect)((function(){return function(){U.current=!1,clearTimeout(F.current)}}),[]),(0,t.useEffect)((function(){void 0!==I&&O===tr&&(null===N||void 0===N||N(I))}),[I,O]);var K=j;return Y.prepare&&Q===sr&&(K=g({transition:"none"},K)),[O,Q,K,null!==I&&void 0!==I?I:n]}var gr=function(e){u(n,e);var t=d(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),vr=gr;var yr=function(n){var r=n;function i(e){return!(!e.motionName||!r)}"object"===l(n)&&(r=n.transitionSupport);var o=t.forwardRef((function(n,r){var o=n.visible,a=void 0===o||o,s=n.removeOnLeave,u=void 0===s||s,c=n.forceRender,l=n.children,h=n.motionName,f=n.leavedClassName,d=n.eventProps,m=i(n),v=(0,t.useRef)(),y=(0,t.useRef)();var b=T(mr(m,a,(function(){try{return v.current instanceof HTMLElement?v.current:Dn(y.current)}catch(e){return null}}),n),4),x=b[0],E=b[1],w=b[2],M=b[3],A=t.useRef(M);M&&(A.current=!0);var _,S=t.useCallback((function(e){v.current=e,Rn(r,e)}),[r]),N=g(g({},d),{},{visible:a});if(l)if(x!==tr&&i(n)){var I,L;E===ar?L="prepare":dr(E)?L="active":E===sr&&(L="start"),_=l(g(g({},N),{},{className:C()(er(h,x),(I={},p(I,er(h,"".concat(x,"-").concat(L)),L),p(I,h,"string"===typeof h),I)),style:w}),S)}else _=M?l(g({},N),S):!u&&A.current?l(g(g({},N),{},{className:f}),S):c?l(g(g({},N),{},{style:{display:"none"}}),S):null;else _=null;t.isValidElement(_)&&jn(_)&&(_.ref||(_=t.cloneElement(_,{ref:S})));return t.createElement(vr,{ref:y},_)}));return o.displayName="CSSMotion",o}(Zn),br="add",xr="keep",Er="remove",wr="removed";function Mr(e){var t;return g(g({},t=e&&"object"===l(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Ar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Mr)}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Ar(e),a=Ar(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return g(g({},e),{},{status:br})}))),r=o),n.push(g(g({},s),{},{status:xr})),r+=1,t=!0;break}}t||n.push(g(g({},e),{},{status:Er}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return g(g({},e),{},{status:br})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Er})),n.forEach((function(t){t.key===e&&(t.status=xr)}))})),n}var Tr=["component","children","onVisibleChanged","onAllRemoved"],Sr=["status"],Nr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Cr=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr,r=function(e){u(o,e);var r=d(o);function o(){var e;i(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:g(g({},e),{},{status:wr})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==wr})).length},e}return a(o,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=i.onAllRemoved,c=oe(i,Tr),l=o||t.Fragment,h={};return Nr.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,t.createElement(l,c,r.map((function(r){var i=r.status,o=oe(r,Sr),c=i===br||i===xr;return t.createElement(n,S({},h,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&u&&u()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Ar(n);return{keyEntities:_r(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==wr||e.status!==Er}))}}}]),o}(t.Component);return r.defaultProps={component:"div"},r}(Zn),Ir=yr;function Lr(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Dr(e){var n=e.prefixCls,r=e.visible,i=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation,u=e.maskTransitionName;if(!o)return null;var c={};return(a||u||s)&&(c=g({motionAppear:!0},Lr({motion:a,prefixCls:n,transitionName:u,animation:s}))),t.createElement(Ir,S({},c,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:i},className:C()("".concat(n,"-mask"),r)})}))}var Or,Rr=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e){return kr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr(e)}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function zr(){if(void 0!==Or)return Or;Or="";var e=document.createElement("p").style;for(var t in Fr)t+"Transform"in e&&(Or=t);return Or}function Br(){return zr()?"".concat(zr(),"TransitionProperty"):"transitionProperty"}function Gr(){return zr()?"".concat(zr(),"Transform"):"transform"}function Hr(e,t){var n=Br();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Vr(e,t){var n=Gr();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Yr,Wr=/matrix\((.*)\)/,Xr=/matrix3d\((.*)\)/;function Qr(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function qr(e,t,n){var r=n;if("object"!==kr(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):Yr(e,t);for(var i in t)t.hasOwnProperty(i)&&qr(e,i,t[i])}function Kr(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function Zr(e){return Kr(e)}function Jr(e){return Kr(e,!0)}function $r(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=Zr(r),t.top+=Jr(r),t}function ei(e){return null!==e&&void 0!==e&&e==e.window}function ti(e){return ei(e)?e.document:9===e.nodeType?e:e.ownerDocument}var ni=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),ri=/^(top|right|bottom|left)$/;function ii(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function oi(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function ai(e,t,n){"static"===qr(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=ii("left",n),a=ii("top",n),s=oi(o),u=oi(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c,l="",h=$r(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[Br()]||"",Hr(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),Qr(e);var f=$r(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var m=ii(p,n),g="left"===p?r:i,v=h[p]-f[p];d[m]=m===p?g+v:g-v}qr(e,d),Qr(e),("left"in t||"top"in t)&&Hr(e,l);var y={};for(var b in t)if(t.hasOwnProperty(b)){var x=ii(b,n),E=t[b]-h[b];y[x]=b===x?d[x]+E:d[x]-E}qr(e,y)}function si(e,t){var n=$r(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Gr());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Gr());if(r&&"none"!==r){var i,o=r.match(Wr);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,Vr(e,"matrix(".concat(i.join(","),")"))):((i=r.match(Xr)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,Vr(e,"matrix3d(".concat(i.join(","),")")))}else Vr(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function ui(e,t){for(var n=0;n<e.length;n++)t(e[n])}function ci(e){return"border-box"===Yr(e,"boxSizing")}"undefined"!==typeof window&&(Yr=window.getComputedStyle?function(e,t,n){var r=n,i="",o=ti(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(ni.test(n)&&!ri.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var li=["margin","border","padding"];function hi(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function fi(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(Yr(e,s))||0}return a}var di={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function pi(e,t,n){var r=n;if(ei(e))return"width"===t?di.viewportWidth(e):di.viewportHeight(e);if(9===e.nodeType)return"width"===t?di.docWidth(e):di.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=ci(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=Yr(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,c=o||s;return-1===r?u?c-fi(e,["border","padding"],i):s:u?1===r?c:c+(2===r?-fi(e,["border"],i):fi(e,["margin"],i)):s+fi(e,li.slice(r),i)}ui(["Width","Height"],(function(e){di["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],di["viewport".concat(e)](n))},di["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var mi={position:"absolute",visibility:"hidden",display:"block"};function gi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=pi.apply(void 0,t):hi(i,mi,(function(){r=pi.apply(void 0,t)})),r}function vi(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}ui(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);di["outer".concat(t)]=function(t,n){return t&&gi(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];di[e]=function(t,r){var i=r;return void 0!==i?t?(ci(t)&&(i+=fi(t,["padding","border"],n)),qr(t,e,i)):void 0:t&&gi(t,e,-1)}}));var yi={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:ti,offset:function(e,t,n){if("undefined"===typeof t)return $r(e);!function(e,t,n){if(n.ignoreShake){var r=$r(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?ai(e,t,n):n.useCssTransform&&Gr()in document.body.style?si(e,t):ai(e,t,n)}(e,t,n||{})},isWindow:ei,each:ui,css:qr,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:vi,getWindowScrollLeft:function(e){return Zr(e)},getWindowScrollTop:function(e){return Jr(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)yi.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};vi(yi,di);var bi=yi.getParent;function xi(e){if(yi.isWindow(e)||9===e.nodeType)return null;var t,n=yi.getDocument(e).body,r=yi.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:bi(e);for(t=bi(e);t&&t!==n&&9!==t.nodeType;t=bi(t))if("static"!==(r=yi.css(t,"position")))return t;return null}var Ei=yi.getParent;function wi(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=xi(e),i=yi.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===yi.css(r,"overflow")){if(r===a||r===s)break}else{var u=yi.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=xi(r)}var c=null;yi.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===yi.css(e,"position")&&(e.style.position="fixed"));var l=yi.getWindowScrollLeft(o),h=yi.getWindowScrollTop(o),f=yi.viewportWidth(o),d=yi.viewportHeight(o),p=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(p=o.innerWidth),"hidden"===g.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(yi.isWindow(e)||9===e.nodeType)return!1;var t=yi.getDocument(e),n=t.body,r=null;for(r=Ei(e);r&&r!==n&&r!==t;r=Ei(r))if("fixed"===yi.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,h),n.right=Math.min(n.right,l+f),n.bottom=Math.min(n.bottom,h+d);else{var v=Math.max(p,l+f);n.right=Math.min(n.right,v);var y=Math.max(m,h+d);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Mi(e){var t,n,r;if(yi.isWindow(e)||9===e.nodeType){var i=yi.getWindow(e);t={left:yi.getWindowScrollLeft(i),top:yi.getWindowScrollTop(i)},n=yi.viewportWidth(i),r=yi.viewportHeight(i)}else t=yi.offset(e),n=yi.outerWidth(e),r=yi.outerHeight(e);return t.width=n,t.height=r,t}function Ai(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function _i(e,t,n,r,i){var o=Ai(t,n[1]),a=Ai(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Ti(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Si(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Ni(e,t,n){var r=[];return yi.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Ci(e,t){return e[t]=-e[t],e}function Ii(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Li(e,t){e[0]=Ii(e[0],t.width),e[1]=Ii(e[1],t.height)}function Di(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var c={},l=0,h=wi(u,!(!(s=s||{})||!s.alwaysByViewport)),f=Mi(u);Li(o,f),Li(a,t);var d=_i(f,t,i,o,a),p=yi.merge(f,d);if(h&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Ti(d,f,h)){var m=Ni(i,/[lr]/gi,{l:"r",r:"l"}),g=Ci(o,0),v=Ci(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(_i(f,t,m,g,v),f,h)||(l=1,i=m,o=g,a=v)}if(s.adjustY&&Si(d,f,h)){var y=Ni(i,/[tb]/gi,{t:"b",b:"t"}),b=Ci(o,1),x=Ci(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(_i(f,t,y,b,x),f,h)||(l=1,i=y,o=b,a=x)}l&&(d=_i(f,t,i,o,a),yi.mix(p,d));var E=Ti(d,f,h),w=Si(d,f,h);if(E||w){var M=i;E&&(M=Ni(i,/[lr]/gi,{l:"r",r:"l"})),w&&(M=Ni(i,/[tb]/gi,{t:"b",b:"t"})),i=M,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&E,c.adjustY=s.adjustY&&w,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=yi.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),yi.mix(i,o)}(d,f,h,c))}return p.width!==f.width&&yi.css(u,"width",yi.width(u)+p.width-f.width),p.height!==f.height&&yi.css(u,"height",yi.height(u)+p.height-f.height),yi.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function Oi(e,t,n){var r=n.target||t,i=Mi(r),o=!function(e,t){var n=wi(e,t),r=Mi(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Di(e,i,n,o)}Oi.__getOffsetParent=xi,Oi.__getVisibleRectForElement=wi;var Ri=r(18111),Pi=r.n(Ri);function ji(e,t){var n=null,r=null;var i=new An((function(e){var i=T(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),c=Math.floor(s);n===u&&r===c||Promise.resolve().then((function(){t({width:u,height:c})})),n=u,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function ki(e){return"function"!==typeof e?null:e()}function Ui(e){return"object"===l(e)&&e?e:null}var Fi=function(e,n){var r=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,u=e.monitorWindowResize,c=e.monitorBufferTime,l=void 0===c?0:c,h=t.useRef({}),f=t.useRef(),d=t.Children.only(r),p=t.useRef({});p.current.disabled=i,p.current.target=o,p.current.align=a,p.current.onAlign=s;var m=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function o(){window.clearTimeout(i.current)}return[function t(a){if(o(),r.current&&!0!==a)i.current=window.setTimeout((function(){r.current=!1,t()}),n);else{if(!1===e())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=f.current,s=ki(n),u=Ui(n);h.current.element=s,h.current.point=u,h.current.align=r;var c=document.activeElement;return s&&Rr(s)?o=Oi(a,s,r):u&&(o=function(e,t,n){var r,i,o=yi.getDocument(e),a=o.defaultView||o.parentWindow,s=yi.getWindowScrollLeft(a),u=yi.getWindowScrollTop(a),c=yi.viewportWidth(a),l=yi.viewportHeight(a),h={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},f=r>=0&&r<=s+c&&i>=0&&i<=u+l,d=[n.points[0],"cc"];return Di(e,h,jr(jr({},n),{},{points:d}),f)}(a,u,r)),function(e,t){e!==document.activeElement&&Ln(t,e)&&"function"===typeof e.focus&&e.focus()}(c,a),i&&o&&i(a,o),!0}return!1}),l),g=T(m,2),v=g[0],y=g[1],b=t.useRef({cancel:function(){}}),x=t.useRef({cancel:function(){}});t.useEffect((function(){var e,t,n=ki(o),r=Ui(o);f.current!==x.current.element&&(x.current.cancel(),x.current.element=f.current,x.current.cancel=ji(f.current,v)),h.current.element===n&&((e=h.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Pi()(h.current.align,a)||(v(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=ji(n,v)))})),t.useEffect((function(){i?y():v()}),[i]);var E=t.useRef(null);return t.useEffect((function(){u?E.current||(E.current=kn(window,"resize",v)):E.current&&(E.current.remove(),E.current=null)}),[u]),t.useEffect((function(){return function(){b.current.cancel(),x.current.cancel(),E.current&&E.current.remove(),y()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return v(!0)}}})),t.isValidElement(d)&&(d=t.cloneElement(d,{ref:Pn(d.ref,f)})),d},zi=t.forwardRef(Fi);zi.displayName="Align";var Bi=zi,Gi=Un()?t.useLayoutEffect:t.useEffect;function Hi(){Hi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(_([])));v&&v!==t&&n.call(v,i)&&(m=v);var y=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){h.value=e,a(h)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,s(y,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Vi(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Vi(o,r,i,a,s,"next",e)}function s(e){Vi(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Wi=["measure","alignPre","align",null,"motion"],Xi=t.forwardRef((function(e,n){var r=e.visible,i=e.prefixCls,o=e.className,a=e.style,s=e.children,u=e.zIndex,c=e.stretch,l=e.destroyPopupOnHide,h=e.forceRender,f=e.align,d=e.point,p=e.getRootDomNode,m=e.getClassNameFromAlign,v=e.onAlign,y=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,E=e.onTouchStart,w=e.onClick,M=(0,t.useRef)(),A=(0,t.useRef)(),_=T((0,t.useState)(),2),N=_[0],I=_[1],L=function(e){var n=T(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(c),D=T(L,2),O=D[0],R=D[1];var P=function(e,n){var r=T(lr(null),2),i=r[0],o=r[1],a=(0,t.useRef)();function s(e){o(e,!0)}function u(){In.cancel(a.current)}return(0,t.useEffect)((function(){s("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&n(),i&&(a.current=In(Yi(Hi().mark((function e(){var t,n;return Hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Wi.indexOf(i),(n=Wi[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=In((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){c&&R(p())})),j=T(P,2),k=j[0],U=j[1],F=T((0,t.useState)(0),2),z=F[0],B=F[1],G=(0,t.useRef)();function H(){var e;null===(e=M.current)||void 0===e||e.forceAlign()}function V(e,t){var n=m(t);N!==n&&I(n),B((function(e){return e+1})),"align"===k&&(null===v||void 0===v||v(e,t))}Gi((function(){"alignPre"===k&&B(0)}),[k]),Gi((function(){"align"===k&&(z<2?H():U((function(){var e;null===(e=G.current)||void 0===e||e.call(G)})))}),[z]);var Y=g({},Lr(e));function W(){return new Promise((function(e){G.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Y[e];Y[e]=function(e,n){return U(),null===t||void 0===t?void 0:t(e,n)}})),t.useEffect((function(){Y.motionName||"motion"!==k||U()}),[Y.motionName,k]),t.useImperativeHandle(n,(function(){return{forceAlign:H,getElement:function(){return A.current}}}));var X=g(g({},O),{},{zIndex:u,opacity:"motion"!==k&&"stable"!==k&&r?0:void 0,pointerEvents:r||"stable"===k?void 0:"none"},a),Q=!0;!(null===f||void 0===f?void 0:f.points)||"align"!==k&&"stable"!==k||(Q=!1);var q=s;return t.Children.count(s)>1&&(q=t.createElement("div",{className:"".concat(i,"-content")},s)),t.createElement(Ir,S({visible:r,ref:A,leavedClassName:"".concat(i,"-hidden")},Y,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:l,forceRender:h}),(function(e,n){var r=e.className,a=e.style,s=C()(i,o,N,r);return t.createElement(Bi,{target:d||p,key:"popup",ref:M,monitorWindowResize:!0,disabled:Q,align:f,onAlign:V},t.createElement("div",{ref:n,className:s,onMouseEnter:y,onMouseLeave:b,onMouseDownCapture:x,onTouchStartCapture:E,onClick:w,style:g(g({},a),X)},q))}))}));Xi.displayName="PopupInner";var Qi=Xi,qi=t.forwardRef((function(e,n){var r=e.prefixCls,i=e.visible,o=e.zIndex,a=e.children,s=e.mobile,u=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,l=s.popupMotion,h=void 0===l?{}:l,f=s.popupRender,d=e.onClick,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var m=g({zIndex:o},c),v=a;return t.Children.count(a)>1&&(v=t.createElement("div",{className:"".concat(r,"-content")},a)),f&&(v=f(v)),t.createElement(Ir,S({visible:i,ref:p,removeOnLeave:!0},h),(function(e,n){var i=e.className,o=e.style,a=C()(r,u,i);return t.createElement("div",{ref:n,className:a,onClick:d,style:g(g({},o),m)},v)}))}));qi.displayName="MobilePopupInner";var Ki=qi,Zi=["visible","mobile"],Ji=t.forwardRef((function(e,n){var r=e.visible,i=e.mobile,o=oe(e,Zi),a=T((0,t.useState)(r),2),s=a[0],u=a[1],c=T((0,t.useState)(!1),2),l=c[0],h=c[1],f=g(g({},o),{},{visible:s});(0,t.useEffect)((function(){u(r),r&&i&&h(Gn())}),[r,i]);var d=l?t.createElement(Ki,S({},f,{mobile:i,ref:n})):t.createElement(Qi,S({},f,{ref:n}));return t.createElement("div",null,t.createElement(Dr,f),d)}));Ji.displayName="Popup";var $i=Ji,eo=t.createContext(null);function to(){}function no(){return""}function ro(e){return e?e.ownerDocument:window.document}var io=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var oo=function(e){var n=function(n){u(o,n);var r=d(o);function o(e){var n,a;return i(this,o),(n=r.call(this,e)).popupRef=t.createRef(),n.triggerRef=t.createRef(),n.portalContainer=void 0,n.attachId=void 0,n.clickOutsideHandler=void 0,n.touchOutsideHandler=void 0,n.contextMenuOutsideHandler1=void 0,n.contextMenuOutsideHandler2=void 0,n.mouseDownTimeout=void 0,n.focusTime=void 0,n.preClickTime=void 0,n.preTouchTime=void 0,n.delayTimer=void 0,n.hasPopupMouseDown=void 0,n.onMouseEnter=function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)},n.onMouseMove=function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)},n.onMouseLeave=function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onPopupMouseEnter=function(){n.clearDelayTimer()},n.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&Ln(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onFocus=function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))},n.onMouseDown=function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()},n.onTouchStart=function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()},n.onBlur=function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)},n.onContextMenu=function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)},n.onContextMenuClose=function(){n.isContextMenuToShow()&&n.close()},n.onClick=function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)},n.onPopupMouseDown=function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)},n.onDocumentClick=function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();Ln(r,t)&&!n.isContextMenuOnly()||Ln(i,t)||n.hasPopupMouseDown||n.close()}},n.getRootDomNode=function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=Dn(n.triggerRef.current);if(t)return t}catch(r){}return b.findDOMNode(h(n))},n.getPopupClassNameFromAlign=function(e){var t=[],r=n.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(Bn(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&t.push(u(e)),t.join(" ")},n.getComponent=function(){var e=n.props,r=e.prefixCls,i=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,c=e.popupTransitionName,l=e.popupStyle,h=e.mask,f=e.maskAnimation,d=e.maskTransitionName,p=e.maskMotion,m=e.zIndex,g=e.popup,v=e.stretch,y=e.alignPoint,b=e.mobile,x=e.forceRender,E=e.onPopupClick,w=n.state,M=w.popupVisible,A=w.point,_=n.getPopupAlign(),T={};return n.isMouseEnterToShow()&&(T.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(T.onMouseLeave=n.onPopupMouseLeave),T.onMouseDown=n.onPopupMouseDown,T.onTouchStart=n.onPopupMouseDown,t.createElement($i,S({prefixCls:r,destroyPopupOnHide:i,visible:M,point:y&&A,className:o,align:_,onAlign:a,animation:u,getClassNameFromAlign:n.getPopupClassNameFromAlign},T,{stretch:v,getRootDomNode:n.getRootDomNode,style:l,mask:h,zIndex:m,transitionName:c,maskAnimation:f,maskTransitionName:d,maskMotion:p,ref:n.popupRef,motion:s,mobile:b,forceRender:x,onClick:E}),"function"===typeof g?g():g)},n.attachParent=function(e){In.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,o=r.getDocument,a=n.getRootDomNode();i?(a||0===i.length)&&(t=i(a)):t=o(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=In((function(){n.attachParent(e)}))},n.getContainer=function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer},n.setPoint=function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})},n.handlePortalUpdate=function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)},n.triggerContextValue={onPopupMouseDown:n.onPopupMouseDown},a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,n.state={prevPopupVisible:a,popupVisible:a},io.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return a(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=kn(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=kn(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=kn(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=kn(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),In.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return g(g({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,o=r.forceRender,a=r.alignPoint,s=r.className,u=r.autoDestroy,c=t.Children.only(i),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,a&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var h=C()(c&&c.props&&c.props.className,s);h&&(l.className=h);var f=g({},l);jn(c)&&(f.ref=Pn(this.triggerRef,c.ref));var d,p=t.cloneElement(c,f);return(n||this.popupRef.current||o)&&(d=t.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&u&&(d=null),t.createElement(eo.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),o}(t.Component);return n.contextType=eo,n.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:no,getDocument:ro,onPopupVisibleChange:to,afterPopupVisibleChange:to,onPopupAlign:to,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},n}(zn),ao={adjustX:1,adjustY:1},so={topLeft:{points:["bl","tl"],overflow:ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ao,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:ao,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:ao,offset:[4,0]}},uo={topLeft:{points:["bl","tl"],overflow:ao,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:ao,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:ao,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:ao,offset:[4,0]}},co=0,lo={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},ho=function(e,t,n){var r=Kt(t),i=e.getState();e.setState({defaultActiveFirst:g(g({},i.defaultActiveFirst),{},p({},r,n))})},fo=function(e){u(r,e);var n=d(r);function r(e){var t;i(this,r),(t=n.call(this,e)).onDestroy=function(e){t.props.onDestroy(e)},t.onKeyDown=function(e){var n=e.keyCode,r=t.menuInstance,i=t.props.store,o=t.getVisible();if(n===St.ENTER)return t.onTitleClick(e),ho(i,t.props.eventKey,!0),!0;if(n===St.RIGHT)return o?r.onKeyDown(e):(t.triggerOpenChange(!0),ho(i,t.props.eventKey,!0)),!0;if(n===St.LEFT){var a;if(!o)return;return(a=r.onKeyDown(e))||(t.triggerOpenChange(!1),a=!0),a}return!o||n!==St.UP&&n!==St.DOWN?void 0:r.onKeyDown(e)},t.onOpenChange=function(e){t.props.onOpenChange(e)},t.onPopupVisibleChange=function(e){t.triggerOpenChange(e,e?"mouseenter":"mouseleave")},t.onMouseEnter=function(e){var n=t.props,r=n.eventKey,i=n.onMouseEnter,o=n.store;ho(o,t.props.eventKey,!1),i({key:r,domEvent:e})},t.onMouseLeave=function(e){var n=t.props,r=n.parentMenu,i=n.eventKey,o=n.onMouseLeave;r.subMenuInstance=h(t),o({key:i,domEvent:e})},t.onTitleMouseEnter=function(e){var n=t.props,r=n.eventKey,i=n.onItemHover,o=n.onTitleMouseEnter;i({key:r,hover:!0}),o({key:r,domEvent:e})},t.onTitleMouseLeave=function(e){var n=t.props,r=n.parentMenu,i=n.eventKey,o=n.onItemHover,a=n.onTitleMouseLeave;r.subMenuInstance=h(t),o({key:i,hover:!1}),a({key:i,domEvent:e})},t.onTitleClick=function(e){var n=h(t).props;n.onTitleClick({key:n.eventKey,domEvent:e}),"hover"!==n.triggerSubMenuAction&&(t.triggerOpenChange(!t.getVisible(),"click"),ho(n.store,t.props.eventKey,!1))},t.onSubMenuClick=function(e){"function"===typeof t.props.onClick&&t.props.onClick(t.addKeyPath(e))},t.onSelect=function(e){t.props.onSelect(e)},t.onDeselect=function(e){t.props.onDeselect(e)},t.getPrefixCls=function(){return"".concat(t.props.rootPrefixCls,"-submenu")},t.getActiveClassName=function(){return"".concat(t.getPrefixCls(),"-active")},t.getDisabledClassName=function(){return"".concat(t.getPrefixCls(),"-disabled")},t.getSelectedClassName=function(){return"".concat(t.getPrefixCls(),"-selected")},t.getOpenClassName=function(){return"".concat(t.props.rootPrefixCls,"-submenu-open")},t.getVisible=function(){return t.state.isOpen},t.getMode=function(){return t.state.mode},t.saveMenuInstance=function(e){t.menuInstance=e},t.addKeyPath=function(e){return g(g({},e),{},{keyPath:(e.keyPath||[]).concat(t.props.eventKey)})},t.triggerOpenChange=function(e,n){var r=t.props.eventKey,i=function(){t.onOpenChange({key:r,item:h(t),trigger:n,open:e})};"mouseenter"===n?t.mouseenterTimeout=setTimeout((function(){i()}),0):i()},t.isChildrenSelected=function(){var e={find:!1};return Jt(t.props.children,t.props.selectedKeys,e),e.find},t.isInlineMode=function(){return"inline"===t.getMode()},t.adjustWidth=function(){if(t.subMenuTitle&&t.menuInstance){var e=b.findDOMNode(t.menuInstance);e.offsetWidth>=t.subMenuTitle.offsetWidth||(e.style.minWidth="".concat(t.subMenuTitle.offsetWidth,"px"))}},t.saveSubMenuTitle=function(e){t.subMenuTitle=e},t.getBaseProps=function(){var e=h(t).props,n=t.getMode();return{mode:"horizontal"===n?"vertical":n,visible:t.getVisible(),level:e.level+1,inlineIndent:e.inlineIndent,focusable:!1,onClick:t.onSubMenuClick,onSelect:t.onSelect,onDeselect:t.onDeselect,onDestroy:t.onDestroy,selectedKeys:e.selectedKeys,eventKey:"".concat(e.eventKey,"-menu-"),openKeys:e.openKeys,motion:e.motion,onOpenChange:t.onOpenChange,subMenuOpenDelay:e.subMenuOpenDelay,parentMenu:h(t),subMenuCloseDelay:e.subMenuCloseDelay,forceSubMenuRender:e.forceSubMenuRender,triggerSubMenuAction:e.triggerSubMenuAction,builtinPlacements:e.builtinPlacements,defaultActiveFirst:e.store.getState().defaultActiveFirst[Kt(e.eventKey)],multiple:e.multiple,prefixCls:e.rootPrefixCls,id:t.internalMenuId,manualRef:t.saveMenuInstance,itemIcon:e.itemIcon,expandIcon:e.expandIcon,direction:e.direction}},t.getMotion=function(e,n){var r=h(t).haveRendered,i=t.props,o=i.motion,a=i.rootPrefixCls;return g(g({},o),{},{leavedClassName:"".concat(a,"-hidden"),removeOnLeave:!1,motionAppear:r||!n||"inline"!==e})};var o=e.store,a=e.eventKey,s=o.getState().defaultActiveFirst;t.isRootMenu=!1;var u=!1;return s&&(u=s[a]),ho(o,a,u),t.state={mode:e.mode,isOpen:e.isOpen},t}return a(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.mode,r=t.parentMenu,i=t.manualRef,o=t.isOpen,a=function(){e.setState({mode:n,isOpen:o})},s=o!==this.state.isOpen,u=n!==this.state.mode;(u||s)&&(In.cancel(this.updateStateRaf),u?this.updateStateRaf=In(a):a()),i&&i(this),"horizontal"===n&&(null===r||void 0===r?void 0:r.isRootMenu)&&o&&(this.minWidthTimeout=setTimeout((function(){return e.adjustWidth()}),0))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.onDestroy,n=e.eventKey;t&&t(n),this.minWidthTimeout&&clearTimeout(this.minWidthTimeout),this.mouseenterTimeout&&clearTimeout(this.mouseenterTimeout),In.cancel(this.updateStateRaf)}},{key:"renderPopupMenu",value:function(e,n){var r=this.getBaseProps();return t.createElement(Ao,S({},r,{id:this.internalMenuId,className:e,style:n}),this.props.children)}},{key:"renderChildren",value:function(){var e=this,n=this.getBaseProps(),r=n.mode,i=n.visible,o=n.forceSubMenuRender,a=n.direction,s=this.getMotion(r,i);if(this.haveRendered=!0,this.haveOpened=this.haveOpened||i||o,!this.haveOpened)return t.createElement("div",null);var u=C()("".concat(n.prefixCls,"-sub"),p({},"".concat(n.prefixCls,"-rtl"),"rtl"===a));return this.isInlineMode()?t.createElement(Ir,S({visible:n.visible,forceRender:o},s),(function(t){var n=t.className,r=t.style,i=C()(u,n);return e.renderPopupMenu(i,r)})):this.renderPopupMenu(u)}},{key:"render",value:function(){var e,n,r,i=g({},this.props),o=this.getVisible(),a=this.getPrefixCls(),s=this.isInlineMode(),u=this.getMode(),c=C()(a,"".concat(a,"-").concat(u),(p(e={},i.className,!!i.className),p(e,this.getOpenClassName(),o),p(e,this.getActiveClassName(),i.active||o&&!s),p(e,this.getDisabledClassName(),i.disabled),p(e,this.getSelectedClassName(),this.isChildrenSelected()),e));this.internalMenuId||(i.eventKey?this.internalMenuId="".concat(i.eventKey,"$Menu"):(co+=1,this.internalMenuId="$__$".concat(co,"$Menu")));var l={},h={},f={};i.disabled||(l={onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},h={onClick:this.onTitleClick},f={onMouseEnter:this.onTitleMouseEnter,onMouseLeave:this.onTitleMouseLeave});var d={},m="rtl"===i.direction;s&&(m?d.paddingRight=i.inlineIndent*i.level:d.paddingLeft=i.inlineIndent*i.level);var v={};this.getVisible()&&(v={"aria-owns":this.internalMenuId});var y=null;"horizontal"!==u&&(y=this.props.expandIcon,"function"===typeof this.props.expandIcon&&(y=t.createElement(this.props.expandIcon,g({},this.props))));var b=t.createElement("div",S({ref:this.saveSubMenuTitle,style:d,className:"".concat(a,"-title"),role:"button"},f,h,{"aria-expanded":o},v,{"aria-haspopup":"true",title:"string"===typeof i.title?i.title:void 0}),i.title,y||t.createElement("i",{className:"".concat(a,"-arrow")})),x=this.renderChildren(),E=(null===(n=i.parentMenu)||void 0===n?void 0:n.isRootMenu)?i.parentMenu.props.getPopupContainer:function(e){return e.parentNode},w=lo[u],M=i.popupOffset?{offset:i.popupOffset}:{},A=C()((p(r={},i.popupClassName,i.popupClassName&&!s),p(r,"".concat(a,"-rtl"),m),r)),_=i.disabled,T=i.triggerSubMenuAction,N=i.subMenuOpenDelay,I=i.forceSubMenuRender,L=i.subMenuCloseDelay,D=i.builtinPlacements;$t.forEach((function(e){return delete i[e]})),delete i.onClick;var O=g(g({},m?uo:so),D);delete i.direction;var R=this.getBaseProps(),P=s?null:this.getMotion(R.mode,R.visible);return t.createElement("li",S({},i,l,{className:c,role:"menuitem"}),t.createElement(oo,{prefixCls:a,popupClassName:C()("".concat(a,"-popup"),A),getPopupContainer:E,builtinPlacements:O,popupPlacement:w,popupVisible:!s&&o,popupAlign:M,popup:s?null:x,action:_||s?[]:[T],mouseEnterDelay:N,mouseLeaveDelay:L,onPopupVisibleChange:this.onPopupVisibleChange,forceRender:I,popupMotion:P},b),s?x:null)}}]),r}(t.Component);fo.defaultProps={onMouseEnter:Qt,onMouseLeave:Qt,onTitleMouseEnter:Qt,onTitleMouseLeave:Qt,onTitleClick:Qt,manualRef:Qt,mode:"vertical",title:""};var po=At((function(e,t){var n=e.openKeys,r=e.activeKey,i=e.selectedKeys,o=t.eventKey,a=t.subMenuKey;return{isOpen:n.indexOf(o)>-1,active:r[a]===o,selectedKeys:i}}))(fo);po.isSubMenu=!0;var mo=po,go="menuitem-overflowed",vo=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).resizeObserver=null,e.mutationObserver=null,e.originalTotalWidth=0,e.overflowedItems=[],e.menuItemSizes=[],e.cancelFrameId=null,e.state={lastVisibleIndex:void 0},e.childRef=t.createRef(),e.getMenuItemNodes=function(){var t=e.props.prefixCls,n=e.childRef.current;return n?[].slice.call(n.children).filter((function(e){return e.className.split(" ").indexOf("".concat(t,"-overflowed-submenu"))<0})):[]},e.getOverflowedSubMenuItem=function(n,r,i){var o=e.props,a=o.overflowedIndicator,s=o.level,u=o.mode,c=o.prefixCls,l=o.theme;if(1!==s||"horizontal"!==u)return null;var h=e.props.children[0].props,f=(h.children,h.title,h.style),d=oe(h,["children","title","style"]),p=g({},f),m="".concat(n,"-overflowed-indicator"),v="".concat(n,"-overflowed-indicator");0===r.length&&!0!==i?p=g(g({},p),{},{display:"none"}):i&&(p=g(g({},p),{},{visibility:"hidden",position:"absolute"}),m="".concat(m,"-placeholder"),v="".concat(v,"-placeholder"));var y=l?"".concat(c,"-").concat(l):"",b={};return $t.forEach((function(e){void 0!==d[e]&&(b[e]=d[e])})),t.createElement(mo,S({title:a,className:"".concat(c,"-overflowed-submenu"),popupClassName:y},b,{key:m,eventKey:v,disabled:!1,style:p}),r)},e.setChildrenWidthAndResize=function(){if("horizontal"===e.props.mode){var t=e.childRef.current;if(t){var n=t.children;if(n&&0!==n.length){var r=t.children[n.length-1];tn(r,"display","inline-block");var i=e.getMenuItemNodes(),o=i.filter((function(e){return e.className.split(" ").indexOf(go)>=0}));o.forEach((function(e){tn(e,"display","inline-block")})),e.menuItemSizes=i.map((function(e){return en(e,!0)})),o.forEach((function(e){tn(e,"display","none")})),e.overflowedIndicatorWidth=en(t.children[t.children.length-1],!0),e.originalTotalWidth=e.menuItemSizes.reduce((function(e,t){return e+t}),0),e.handleResize(),tn(r,"display","none")}}}},e.handleResize=function(){if("horizontal"===e.props.mode){var t=e.childRef.current;if(t){var n=en(t);e.overflowedItems=[];var r,i=0;e.originalTotalWidth>n+.5&&(r=-1,e.menuItemSizes.forEach((function(t){(i+=t)+e.overflowedIndicatorWidth<=n&&(r+=1)}))),e.setState({lastVisibleIndex:r})}}},e}return a(r,[{key:"componentDidMount",value:function(){var e=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var t=this.childRef.current;if(!t)return;this.resizeObserver=new An((function(t){t.forEach((function(){var t=e.cancelFrameId;cancelAnimationFrame(t),e.cancelFrameId=requestAnimationFrame(e.setChildrenWidthAndResize)}))})),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){e.resizeObserver.disconnect(),[].slice.call(t.children).concat(t).forEach((function(t){e.resizeObserver.observe(t)})),e.setChildrenWidthAndResize()})),this.mutationObserver.observe(t,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),cancelAnimationFrame(this.cancelFrameId)}},{key:"renderChildren",value:function(e){var n=this,r=this.state.lastVisibleIndex;return(e||[]).reduce((function(i,o,a){var s=o;if("horizontal"===n.props.mode){var u=n.getOverflowedSubMenuItem(o.props.eventKey,[]);void 0!==r&&-1!==n.props.className.indexOf("".concat(n.props.prefixCls,"-root"))&&(a>r&&(s=t.cloneElement(o,{style:{display:"none"},eventKey:"".concat(o.props.eventKey,"-hidden"),className:"".concat(go)})),a===r+1&&(n.overflowedItems=e.slice(r+1).map((function(e){return t.cloneElement(e,{key:e.props.eventKey,mode:"vertical-left"})})),u=n.getOverflowedSubMenuItem(o.props.eventKey,n.overflowedItems)));var c=[].concat(M(i),[u,s]);return a===e.length-1&&c.push(n.getOverflowedSubMenuItem(o.props.eventKey,[],!0)),c}return[].concat(M(i),[s])}),[])}},{key:"render",value:function(){var e=this.props,n=(e.visible,e.prefixCls,e.overflowedIndicator,e.mode,e.level,e.tag),r=e.children,i=(e.theme,oe(e,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),o=n;return t.createElement(o,S({ref:this.childRef},i),this.renderChildren(r))}}]),r}(t.Component);vo.defaultProps={tag:"div",className:""};var yo=vo;function bo(e,t,n){var r=e.getState();e.setState({activeKey:g(g({},r.activeKey),{},p({},t,n))})}function xo(e){return e.eventKey||"0-menu-"}function Eo(e,t){var n,r=t,i=e.children,o=e.eventKey;if(r&&(Zt(i,(function(e,t){e&&e.props&&!e.props.disabled&&r===qt(e,o,t)&&(n=!0)})),n))return r;return r=null,e.defaultActiveFirst?(Zt(i,(function(e,t){r||!e||e.props.disabled||(r=qt(e,o,t))})),r):r}function wo(e){if(e){var t=this.instanceArray.indexOf(e);-1!==t?this.instanceArray[t]=e:this.instanceArray.push(e)}}var Mo=function(e){u(r,e);var n=d(r);function r(e){var o;return i(this,r),(o=n.call(this,e)).onKeyDown=function(e,t){var n,r=e.keyCode;if(o.getFlatInstanceArray().forEach((function(t){t&&t.props.active&&t.onKeyDown&&(n=t.onKeyDown(e))})),n)return 1;var i=null;return r!==St.UP&&r!==St.DOWN||(i=o.step(r===St.UP?-1:1)),i?(e.preventDefault(),bo(o.props.store,xo(o.props),i.props.eventKey),"function"===typeof t&&t(i),1):void 0},o.onItemHover=function(e){var t=e.key,n=e.hover;bo(o.props.store,xo(o.props),n?t:null)},o.onDeselect=function(e){o.props.onDeselect(e)},o.onSelect=function(e){o.props.onSelect(e)},o.onClick=function(e){o.props.onClick(e)},o.onOpenChange=function(e){o.props.onOpenChange(e)},o.onDestroy=function(e){o.props.onDestroy(e)},o.getFlatInstanceArray=function(){return o.instanceArray},o.step=function(e){var t=o.getFlatInstanceArray(),n=o.props.store.getState().activeKey[xo(o.props)],r=t.length;if(!r)return null;e<0&&(t=t.concat().reverse());var i=-1;if(t.every((function(e,t){return!e||e.props.eventKey!==n||(i=t,!1)})),o.props.defaultActiveFirst||-1===i||(a=t.slice(i,r-1)).length&&!a.every((function(e){return!!e.props.disabled}))){var a,s=(i+1)%r,u=s;do{var c=t[u];if(c&&!c.props.disabled)return c;u=(u+1)%r}while(u!==s);return null}},o.renderCommonMenuItem=function(e,n,r){var i=o.props.store.getState(),a=h(o).props,s=qt(e,a.eventKey,n),u=e.props;if(!u||"string"===typeof e.type)return e;var c=s===i.activeKey,l=g(g({mode:u.mode||a.mode,level:a.level,inlineIndent:a.inlineIndent,renderMenuItem:o.renderMenuItem,rootPrefixCls:a.prefixCls,index:n,parentMenu:a.parentMenu,manualRef:u.disabled?void 0:Nt(e.ref,wo.bind(h(o))),eventKey:s,active:!u.disabled&&c,multiple:a.multiple,onClick:function(e){(u.onClick||Qt)(e),o.onClick(e)},onItemHover:o.onItemHover,motion:a.motion,subMenuOpenDelay:a.subMenuOpenDelay,subMenuCloseDelay:a.subMenuCloseDelay,forceSubMenuRender:a.forceSubMenuRender,onOpenChange:o.onOpenChange,onDeselect:o.onDeselect,onSelect:o.onSelect,builtinPlacements:a.builtinPlacements,itemIcon:u.itemIcon||o.props.itemIcon,expandIcon:u.expandIcon||o.props.expandIcon},r),{},{direction:a.direction});return("inline"===a.mode||Xt.any)&&(l.triggerSubMenuAction="click"),t.cloneElement(e,g(g({},l),{},{key:s||n}))},o.renderMenuItem=function(e,t,n){if(!e)return null;var r=o.props.store.getState(),i={openKeys:r.openKeys,selectedKeys:r.selectedKeys,triggerSubMenuAction:o.props.triggerSubMenuAction,subMenuKey:n};return o.renderCommonMenuItem(e,t,i)},e.store.setState({activeKey:g(g({},e.store.getState().activeKey),{},p({},e.eventKey,Eo(e,e.activeKey)))}),o.instanceArray=[],o}return a(r,[{key:"componentDidMount",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"shouldComponentUpdate",value:function(e){return this.props.visible||e.visible||this.props.className!==e.className||!yt()(this.props.style,e.style)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n="activeKey"in t?t.activeKey:t.store.getState().activeKey[xo(t)],r=Eo(t,n);if(r!==n)bo(t.store,xo(t),r);else if("activeKey"in e){r!==Eo(e,e.activeKey)&&bo(t.store,xo(t),r)}}},{key:"render",value:function(){var e=this,n=S({},this.props);this.instanceArray=[];var r={className:C()(n.prefixCls,n.className,"".concat(n.prefixCls,"-").concat(n.mode)),role:n.role||"menu"};n.id&&(r.id=n.id),n.focusable&&(r.tabIndex=0,r.onKeyDown=this.onKeyDown);var i=n.prefixCls,o=n.eventKey,a=n.visible,s=n.level,u=n.mode,c=n.overflowedIndicator,l=n.theme;return $t.forEach((function(e){return delete n[e]})),delete n.onClick,t.createElement(yo,S({},n,{prefixCls:i,mode:u,tag:"ul",level:s,theme:l,visible:a,overflowedIndicator:c},r),It(n.children).map((function(t,n){return e.renderMenuItem(t,n,o||"0-menu-")})))}}]),r}(t.Component);Mo.defaultProps={prefixCls:"rc-menu",className:"",mode:"vertical",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{},manualRef:Qt};var Ao=At()(Mo);function _o(e,t,n){var r=e.prefixCls,i=e.motion,o=e.defaultMotions,a=void 0===o?{}:o,s=e.openAnimation,u=e.openTransitionName,c=t.switchingModeFromInline;if(i)return i;if("object"===l(s)&&s)je(!1,"Object type of `openAnimation` is removed. Please use `motion` instead.");else if("string"===typeof s)return{motionName:"".concat(r,"-open-").concat(s)};if(u)return{motionName:u};var h=a[n];return h||(c?null:a.other)}var To=function(e){u(r,e);var n=d(r);function r(e){var t;i(this,r),(t=n.call(this,e)).onSelect=function(e){var n=h(t).props;if(n.selectable){var r=t.store.getState().selectedKeys,i=e.key;r=n.multiple?r.concat([i]):[i],"selectedKeys"in n||t.store.setState({selectedKeys:r}),n.onSelect(g(g({},e),{},{selectedKeys:r}))}},t.onClick=function(e){var n=t.getRealMenuMode(),r=h(t),i=r.store,o=r.props.onOpenChange;"inline"===n||"openKeys"in t.props||(i.setState({openKeys:[]}),o([])),t.props.onClick(e)},t.onKeyDown=function(e,n){t.innerMenu.getWrappedInstance().onKeyDown(e,n)},t.onOpenChange=function(e){var n=h(t).props,r=t.store.getState().openKeys.concat(),i=!1,o=function(e){var t=!1;if(e.open)(t=-1===r.indexOf(e.key))&&r.push(e.key);else{var n=r.indexOf(e.key);(t=-1!==n)&&r.splice(n,1)}i=i||t};Array.isArray(e)?e.forEach(o):o(e),i&&("openKeys"in t.props||t.store.setState({openKeys:r}),n.onOpenChange(r))},t.onDeselect=function(e){var n=h(t).props;if(n.selectable){var r=t.store.getState().selectedKeys.concat(),i=e.key,o=r.indexOf(i);-1!==o&&r.splice(o,1),"selectedKeys"in n||t.store.setState({selectedKeys:r}),n.onDeselect(g(g({},e),{},{selectedKeys:r}))}},t.onMouseEnter=function(e){t.restoreModeVerticalFromInline();var n=t.props.onMouseEnter;n&&n(e)},t.onTransitionEnd=function(e){var n="width"===e.propertyName&&e.target===e.currentTarget,r=e.target.className,i="[object SVGAnimatedString]"===Object.prototype.toString.call(r)?r.animVal:r,o="font-size"===e.propertyName&&i.indexOf("anticon")>=0;(n||o)&&t.restoreModeVerticalFromInline()},t.setInnerMenu=function(e){t.innerMenu=e},t.isRootMenu=!0;var o=e.defaultSelectedKeys,a=e.defaultOpenKeys;return"selectedKeys"in e&&(o=e.selectedKeys||[]),"openKeys"in e&&(a=e.openKeys||[]),t.store=function(e){var t=e,n=[];return{setState:function(e){t=_t(_t({},t),e);for(var r=0;r<n.length;r++)n[r]()},getState:function(){return t},subscribe:function(e){return n.push(e),function(){var t=n.indexOf(e);n.splice(t,1)}}}}({selectedKeys:o,openKeys:a,activeKey:{"0-menu-":Eo(e,e.activeKey)}}),t.state={switchingModeFromInline:!1,prevProps:e,inlineOpenKeys:[],store:t.store},t}return a(r,[{key:"componentDidMount",value:function(){this.updateMiniStore(),this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.siderCollapsed,r=t.inlineCollapsed,i=t.onOpenChange;(!e.inlineCollapsed&&r||!e.siderCollapsed&&n)&&i([]),this.updateMiniStore(),this.updateMenuDisplay()}},{key:"updateMenuDisplay",value:function(){var e=this.props.collapsedWidth,t=this.store,n=this.prevOpenKeys;this.getInlineCollapsed()&&(0===e||"0"===e||"0px"===e)?(this.prevOpenKeys=t.getState().openKeys.concat(),this.store.setState({openKeys:[]})):n&&(this.store.setState({openKeys:n}),this.prevOpenKeys=null)}},{key:"getRealMenuMode",value:function(){var e=this.props.mode,t=this.state.switchingModeFromInline,n=this.getInlineCollapsed();return t&&n?"inline":n?"vertical":e}},{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"restoreModeVerticalFromInline",value:function(){this.state.switchingModeFromInline&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var e=g({},re(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),n=this.getRealMenuMode();return e.className+=" ".concat(e.prefixCls,"-root"),"rtl"===e.direction&&(e.className+=" ".concat(e.prefixCls,"-rtl")),delete(e=g(g({},e),{},{mode:n,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:_o(this.props,this.state,n)})).openAnimation,delete e.openTransitionName,t.createElement(gt,{store:this.store},t.createElement(Ao,S({},e,{ref:this.setInnerMenu}),this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.store,i=r.getState(),o={},a={prevProps:e};return"inline"===n.mode&&"inline"!==e.mode&&(a.switchingModeFromInline=!0),"openKeys"in e?o.openKeys=e.openKeys||[]:((e.inlineCollapsed&&!n.inlineCollapsed||e.siderCollapsed&&!n.siderCollapsed)&&(a.switchingModeFromInline=!0,a.inlineOpenKeys=i.openKeys,o.openKeys=[]),(!e.inlineCollapsed&&n.inlineCollapsed||!e.siderCollapsed&&n.siderCollapsed)&&(o.openKeys=t.inlineOpenKeys,a.inlineOpenKeys=[])),Object.keys(o).length&&r.setState(o),a}}]),r}(t.Component);To.defaultProps={selectable:!0,onClick:Qt,onSelect:Qt,onOpenChange:Qt,onDeselect:Qt,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:t.createElement("span",null,"\xb7\xb7\xb7")};var So=To,No=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).onKeyDown=function(t){if(t.keyCode===St.ENTER)return e.onClick(t),!0},e.onMouseLeave=function(t){var n=e.props,r=n.eventKey,i=n.onItemHover,o=n.onMouseLeave;i({key:r,hover:!1}),o({key:r,domEvent:t})},e.onMouseEnter=function(t){var n=e.props,r=n.eventKey,i=n.onItemHover,o=n.onMouseEnter;i({key:r,hover:!0}),o({key:r,domEvent:t})},e.onClick=function(t){var n=e.props,r=n.eventKey,i=n.multiple,o=n.onClick,a=n.onSelect,s=n.onDeselect,u=n.isSelected,c={key:r,keyPath:[r],item:h(e),domEvent:t};o(c),i?u?s(c):a(c):u||a(c)},e.saveNode=function(t){e.node=t},e}return a(r,[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(){this.callRef()}},{key:"componentWillUnmount",value:function(){var e=this.props;e.onDestroy&&e.onDestroy(e.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var e,n=g({},this.props),r=C()(this.getPrefixCls(),n.className,(p(e={},this.getActiveClassName(),!n.disabled&&n.active),p(e,this.getSelectedClassName(),n.isSelected),p(e,this.getDisabledClassName(),n.disabled),e)),i=g(g({},n.attribute),{},{title:"string"===typeof n.title?n.title:void 0,className:r,role:n.role||"menuitem","aria-disabled":n.disabled});"option"===n.role?i=g(g({},i),{},{role:"option","aria-selected":n.isSelected}):null!==n.role&&"none"!==n.role||(i.role="none");var o={onClick:n.disabled?null:this.onClick,onMouseLeave:n.disabled?null:this.onMouseLeave,onMouseEnter:n.disabled?null:this.onMouseEnter},a=g({},n.style);"inline"===n.mode&&("rtl"===n.direction?a.paddingRight=n.inlineIndent*n.level:a.paddingLeft=n.inlineIndent*n.level),$t.forEach((function(e){return delete n[e]})),delete n.direction;var s=this.props.itemIcon;return"function"===typeof this.props.itemIcon&&(s=t.createElement(this.props.itemIcon,this.props)),t.createElement("li",S({},re(n,["onClick","onMouseEnter","onMouseLeave","onSelect"]),i,o,{style:a,ref:this.saveNode}),n.children,s)}}]),r}(t.Component);No.isMenuItem=!0,No.defaultProps={onSelect:Qt,onMouseEnter:Qt,onMouseLeave:Qt,manualRef:Qt};var Co=At((function(e,t){var n=e.activeKey,r=e.selectedKeys,i=t.eventKey;return{active:n[t.subMenuKey]===i,isSelected:Array.isArray(r)?-1!==r.indexOf(i):r===i}}))(No),Io=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).renderInnerMenuItem=function(t){var n=e.props;return(0,n.renderMenuItem)(t,n.index,e.props.subMenuKey)},e}return a(r,[{key:"render",value:function(){var e=S({},this.props),n=e.className,r=void 0===n?"":n,i=e.rootPrefixCls,o="".concat(i,"-item-group-title"),a="".concat(i,"-item-group-list"),s=e.title,u=e.children;return $t.forEach((function(t){return delete e[t]})),delete e.direction,t.createElement("li",S({},e,{onClick:function(e){return e.stopPropagation()},className:"".concat(r," ").concat(i,"-item-group")}),t.createElement("div",{className:o,title:"string"===typeof s?s:void 0},s),t.createElement("ul",{className:a},t.Children.map(u,this.renderInnerMenuItem)))}}]),r}(t.Component);Io.isMenuItemGroup=!0,Io.defaultProps={disabled:!0};var Lo=Io,Do=function(e){var n=e.className,r=e.rootPrefixCls,i=e.style;return t.createElement("li",{className:"".concat(n," ").concat(r,"-item-divider"),style:i})};Do.defaultProps={disabled:!0,className:"",style:{}};var Oo=Do,Ro=So,Po=(0,t.createContext)({inlineCollapsed:!1}),jo=t.isValidElement;function ko(e,n){return function(e,n,r){return jo(e)?t.cloneElement(e,"function"===typeof r?r(e.props||{}):r):n}(e,e,n)}var Uo=function(e){u(r,e);var n=d(r);function r(){return i(this,r),n.apply(this,arguments)}return a(r,[{key:"renderTitle",value:function(e){var n=this.props,r=n.icon,i=n.title,o=n.level,a=n.rootPrefixCls;if(!r)return e&&1===o&&i&&"string"===typeof i?t.createElement("div",{className:"".concat(a,"-inline-collapsed-noicon")},i.charAt(0)):i;var s=jo(i)&&"span"===i.type;return t.createElement(t.Fragment,null,r,s?i:t.createElement("span",null,i))}},{key:"render",value:function(){var e=this,n=this.props,r=n.rootPrefixCls,i=n.popupClassName;return t.createElement(Po.Consumer,null,(function(n){var o=n.inlineCollapsed,a=n.antdMenuTheme;return t.createElement(mo,S({},re(e.props,["icon"]),{title:e.renderTitle(o),popupClassName:C()(r,"".concat(r,"-").concat(a),i)}))}))}}]),r}(t.Component);Uo.contextType=Po,Uo.isSubMenu=1;var Fo=Uo,zo={adjustX:1,adjustY:1},Bo=[0,0],Go={left:{points:["cr","cl"],overflow:zo,offset:[-4,0],targetOffset:Bo},right:{points:["cl","cr"],overflow:zo,offset:[4,0],targetOffset:Bo},top:{points:["bc","tc"],overflow:zo,offset:[0,-4],targetOffset:Bo},bottom:{points:["tc","bc"],overflow:zo,offset:[0,4],targetOffset:Bo},topLeft:{points:["bl","tl"],overflow:zo,offset:[0,-4],targetOffset:Bo},leftTop:{points:["tr","tl"],overflow:zo,offset:[-4,0],targetOffset:Bo},topRight:{points:["br","tr"],overflow:zo,offset:[0,-4],targetOffset:Bo},rightTop:{points:["tl","tr"],overflow:zo,offset:[4,0],targetOffset:Bo},bottomRight:{points:["tr","br"],overflow:zo,offset:[0,4],targetOffset:Bo},rightBottom:{points:["bl","br"],overflow:zo,offset:[4,0],targetOffset:Bo},bottomLeft:{points:["tl","bl"],overflow:zo,offset:[0,4],targetOffset:Bo},leftBottom:{points:["br","bl"],overflow:zo,offset:[-4,0],targetOffset:Bo}},Ho=function(e){var n=e.overlay,r=e.prefixCls,i=e.id,o=e.overlayInnerStyle;return t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},"function"===typeof n?n():n)},Vo=function(e,n){var r=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,a=e.mouseEnterDelay,s=void 0===a?0:a,u=e.mouseLeaveDelay,c=void 0===u?.1:u,h=e.overlayStyle,f=e.prefixCls,d=void 0===f?"rc-tooltip":f,p=e.children,m=e.onVisibleChange,v=e.afterVisibleChange,y=e.transitionName,b=e.animation,x=e.placement,E=void 0===x?"right":x,w=e.align,M=void 0===w?{}:w,A=e.destroyTooltipOnHide,_=void 0!==A&&A,T=e.defaultVisible,S=e.getTooltipContainer,N=e.overlayInnerStyle,C=oe(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),I=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return I.current}));var L=g({},C);"visible"in e&&(L.popupVisible=e.visible);var D=!1,O=!1;if("boolean"===typeof _)D=_;else if(_&&"object"===l(_)){var R=_.keepParent;D=!0===R,O=!1===R}return t.createElement(oo,Object.assign({popupClassName:r,prefixCls:d,popup:function(){var n=e.arrowContent,r=void 0===n?null:n,i=e.overlay,o=e.id;return[t.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},r),t.createElement(Ho,{key:"content",prefixCls:d,id:o,overlay:i,overlayInnerStyle:N})]},action:o,builtinPlacements:Go,popupPlacement:E,ref:I,popupAlign:M,getPopupContainer:S,onPopupVisibleChange:m,afterPopupVisibleChange:v,popupTransitionName:y,popupAnimation:b,defaultPopupVisible:T,destroyPopupOnHide:D,autoDestroy:O,mouseLeaveDelay:c,popupStyle:h,mouseEnterDelay:s},L),p)},Yo=(0,t.forwardRef)(Vo),Wo={adjustX:1,adjustY:1},Xo={adjustX:0,adjustY:0},Qo=[0,0];function qo(e){return"boolean"===typeof e?e?Wo:Xo:S(S({},Xo),e)}var Ko=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},Zo=(Ko("success","processing","error","default","warning"),Ko("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),Jo=function(){return{height:0,opacity:0}},$o=function(e){return{height:e.scrollHeight,opacity:1}},ea=function(e,t){return"height"===t.propertyName},ta=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},na={motionName:"ant-motion-collapse",onAppearStart:Jo,onEnterStart:Jo,onAppearActive:$o,onEnterActive:$o,onLeaveStart:function(e){return{height:e.offsetHeight}},onLeaveActive:Jo,onAppearEnd:ea,onEnterEnd:ea,onLeaveEnd:ea,motionDeadline:500},ra=new RegExp("^(".concat(Zo.join("|"),")(-inverse)?$"));function ia(e,n){var r=e.type;if((!0===r.__ANT_BUTTON||!0===r.__ANT_SWITCH||!0===r.__ANT_CHECKBOX||"button"===e.type)&&e.props.disabled){var i=function(e,t){var n={},r=S({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=i.picked,a=i.omitted,s=S(S({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":null}),u=ko(e,{style:S(S({},a),{pointerEvents:"none"}),className:null});return t.createElement("span",{style:s,className:C()(e.props.className,"".concat(n,"-disabled-compatible-wrapper"))},u)}return e}var oa=t.forwardRef((function(e,n){var r,i=t.useContext(W),o=i.getPopupContainer,a=i.getPrefixCls,s=i.direction,u=T(t.useState(!!e.visible||!!e.defaultVisible),2),c=u[0],l=u[1];t.useEffect((function(){"visible"in e&&l(e.visible)}),[e.visible]);var h=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},f=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?5:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(u).forEach((function(t){u[t]=e.arrowPointAtCenter?S(S({},u[t]),{overflow:qo(s),targetOffset:Qo}):S(S({},Go[t]),{overflow:qo(s)}),u[t].ignoreShake=!0})),u}({arrowPointAtCenter:n,autoAdjustOverflow:r})},d=e.prefixCls,m=e.openClassName,g=e.getPopupContainer,v=e.getTooltipContainer,y=e.overlayClassName,b=e.color,x=e.overlayInnerStyle,E=e.children,w=a("tooltip",d),M=a(),A=c;!("visible"in e)&&h()&&(A=!1);var _,N=ia(jo(E)?E:t.createElement("span",null,E),w),I=N.props,L=C()(I.className,p({},m||"".concat(w,"-open"),!0)),D=C()(y,(p(r={},"".concat(w,"-rtl"),"rtl"===s),p(r,"".concat(w,"-").concat(b),b&&ra.test(b)),r)),O=x;return b&&!ra.test(b)&&(O=S(S({},x),{background:b}),_={background:b}),t.createElement(Yo,S({},e,{prefixCls:w,overlayClassName:D,getTooltipContainer:g||v||o,ref:n,builtinPlacements:f(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:A,onVisibleChange:function(t){var n;"visible"in e||l(!h()&&t),h()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=f(),r=Object.keys(n).filter((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}))[0];if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:O,arrowContent:t.createElement("span",{className:"".concat(w,"-arrow-content"),style:_}),transitionName:ta(M,"zoom-big-fast",e.transitionName)}),A?ko(N,{className:L}):N)}));oa.displayName="Tooltip",oa.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var aa=oa,sa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ua=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).renderItem=function(n){var r=n.siderCollapsed,i=e.props,o=i.level,a=i.className,s=i.children,u=i.rootPrefixCls,c=e.props,l=c.title,h=c.icon,f=c.danger,d=sa(c,["title","icon","danger"]);return t.createElement(Po.Consumer,null,(function(n){var i,c,m=n.inlineCollapsed,g=n.direction,v=l;"undefined"===typeof l?v=1===o?s:"":!1===l&&(v="");var y={title:v};r||m||(y.title=null,y.visible=!1);var b=It(s).length;return t.createElement(aa,S({},y,{placement:"rtl"===g?"left":"right",overlayClassName:"".concat(u,"-inline-collapsed-tooltip")}),t.createElement(Co,S({},d,{className:C()((i={},p(i,"".concat(u,"-item-danger"),f),p(i,"".concat(u,"-item-only-child"),1===(h?b+1:b)),i),a),title:l}),ko(h,{className:C()(jo(h)?null===(c=h.props)||void 0===c?void 0:c.className:"","".concat(u,"-item-icon"))}),e.renderItemChildren(m)))}))},e}return a(r,[{key:"renderItemChildren",value:function(e){var n=this.props,r=n.icon,i=n.children,o=n.level,a=n.rootPrefixCls;return!r||jo(i)&&"span"===i.type?i&&e&&1===o&&"string"===typeof i?t.createElement("div",{className:"".concat(a,"-inline-collapsed-noicon")},i.charAt(0)):i:t.createElement("span",null,i)}},{key:"render",value:function(){return t.createElement(ut.Consumer,null,this.renderItem)}}]),r}(t.Component);ua.isMenuItem=!0;var ca=function(e,t,n){je(e,"[antd: ".concat(t,"] ").concat(n))},la=function(e){u(r,e);var n=d(r);function r(e){var o;return i(this,r),(o=n.call(this,e)).renderMenu=function(e){var n=e.getPopupContainer,r=e.getPrefixCls,i=e.direction,a=r(),s=o.props,u=s.prefixCls,c=s.className,l=s.theme,h=s.expandIcon,f={horizontal:{motionName:"".concat(a,"-slide-up")},inline:na,other:{motionName:"".concat(a,"-zoom-big")}},d=r("menu",u),m=C()("".concat(d,"-").concat(l),p({},"".concat(d,"-inline-collapsed"),o.getInlineCollapsed()),c);return t.createElement(Po.Provider,{value:{inlineCollapsed:o.getInlineCollapsed()||!1,antdMenuTheme:l,direction:i}},t.createElement(Ro,S({getPopupContainer:n},o.props,{className:m,prefixCls:d,direction:i,defaultMotions:f,expandIcon:ko(h,{className:"".concat(d,"-submenu-expand-icon")})})))},ca(!("inlineCollapsed"in e&&"inline"!==e.mode),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),ca(!(void 0!==e.siderCollapsed&&"inlineCollapsed"in e),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead."),o}return a(r,[{key:"getInlineCollapsed",value:function(){var e=this.props,t=e.inlineCollapsed,n=e.siderCollapsed;return void 0!==n?n:t}},{key:"render",value:function(){return t.createElement(X,null,this.renderMenu)}}]),r}(t.Component);la.defaultProps={className:"",theme:"light",focusable:!1};var ha=function(e){u(r,e);var n=d(r);function r(){return i(this,r),n.apply(this,arguments)}return a(r,[{key:"render",value:function(){var e=this;return t.createElement(ut.Consumer,null,(function(n){return t.createElement(la,S({},e.props,n))}))}}]),r}(t.Component);ha.Divider=Oo,ha.Item=ua,ha.SubMenu=Fo,ha.ItemGroup=Lo;var fa=ha,da={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},pa=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:da}))};pa.displayName="FileOutlined";var ma=t.forwardRef(pa),ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M926 164H94c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V196c0-17.7-14.3-32-32-32zm-40 632H134V236h752v560zm-658.9-82.3c3.1 3.1 8.2 3.1 11.3 0l172.5-172.5 114.4 114.5c3.1 3.1 8.2 3.1 11.3 0l297-297.2c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8a8.03 8.03 0 00-11.3 0L531 565 416.6 450.5a8.03 8.03 0 00-11.3 0l-214.9 215a8.03 8.03 0 000 11.3l36.7 36.9z"}}]},name:"fund",theme:"outlined"},va=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:ga}))};va.displayName="FundOutlined";var ya=t.forwardRef(va),ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},xa=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:ba}))};xa.displayName="ExclamationCircleOutlined";var Ea=t.forwardRef(xa),wa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},Ma=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:wa}))};Ma.displayName="TableOutlined";var Aa=t.forwardRef(Ma),_a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M956 686.5l-.1-.1-.1-.1C911.7 593 843.4 545 752.5 545s-159.2 48.1-203.4 141.3v.1a42.92 42.92 0 000 36.4C593.3 816 661.6 864 752.5 864s159.2-48.1 203.4-141.3c5.4-11.5 5.4-24.8.1-36.2zM752.5 800c-62.1 0-107.4-30-141.1-95.5C645 639 690.4 609 752.5 609c62.1 0 107.4 30 141.1 95.5C860 770 814.6 800 752.5 800z"}},{tag:"path",attrs:{d:"M697 705a56 56 0 10112 0 56 56 0 10-112 0zM136 232h704v253h72V192c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v520c0 17.7 14.3 32 32 32h352v-72H136V232z"}},{tag:"path",attrs:{d:"M724.9 338.1l-36.8-36.8a8.03 8.03 0 00-11.3 0L493 485.3l-86.1-86.2a8.03 8.03 0 00-11.3 0L251.3 543.4a8.03 8.03 0 000 11.3l36.8 36.8c3.1 3.1 8.2 3.1 11.3 0l101.8-101.8 86.1 86.2c3.1 3.1 8.2 3.1 11.3 0l226.3-226.5c3.2-3.1 3.2-8.2 0-11.3z"}}]},name:"fund-view",theme:"outlined"},Ta=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:_a}))};Ta.displayName="FundViewOutlined";var Sa=t.forwardRef(Ta),Na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},Ca=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Na}))};Ca.displayName="ProfileOutlined";var Ia=t.forwardRef(Ca),La=(dt.Header,dt.Sider),Da=(dt.Content,fa.SubMenu),Oa=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).state={collapsed:!1,showCurrentProfile:r.props.showCurrentProfile,selectKey:"1"},r.onCollapse=function(e){console.log(e),r.setState({collapsed:e}),window.postMessage({type:"Flamegraph resize",data:""})},r.openExampleProfile=function(){fetch("example.ezview").then((function(e){return e.arrayBuffer()})).then((function(e){var t=window.decodeProfile(e,"0");if(console.log(t),0==t){var n=window.Module.cwrap("getSourceFileJsonStr","string")();console.log(n);for(var i=JSON.parse(n),o=0;o<i.length;o++)window.Module._updateSourceFileExistStatus(o,i[o]);r.props.changeComponentToFlamegraph(),r.props.changeShowCurrentProfile(),r.setState({selectKey:"3"})}}))},r.onClick=function(e){r.setState({selectKey:e.key})},r}return a(n,[{key:"componentDidUpdate",value:function(e,t){e.showCurrentProfile!=this.props.showCurrentProfile&&this.setState({showCurrentProfile:this.props.showCurrentProfile})}},{key:"render",value:function(){var e,t=this;return e=!1===this.state.collapsed?(0,y.jsx)("img",{src:"/easyview2.png",style:{height:40,width:150}}):(0,y.jsx)("img",{src:"/new_logo.png",style:{height:40,width:40}}),(0,y.jsxs)(La,{style:{minHeight:"100vh",color:"#111827"},collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"logo",style:{display:"inline-block"},children:e})}),(0,y.jsxs)(fa,{theme:"dark",mode:"inline",onClick:this.onClick,selectedKeys:[this.state.selectKey],defaultOpenKeys:["sub1"],children:[(0,y.jsxs)(fa.Item,{onClick:function(){t.props.changeComponentToDropzone()},children:[(0,y.jsx)(ma,{}),(0,y.jsx)("span",{children:"Open File"})]},"1"),this.state.showCurrentProfile&&(0,y.jsxs)(Da,{title:(0,y.jsxs)("span",{children:[(0,y.jsx)(ya,{}),(0,y.jsx)("span",{children:"Current Profile"})]}),children:[(0,y.jsxs)(fa.Item,{onClick:function(){t.props.changeComponentToFlamegraph()},children:[(0,y.jsx)(Ea,{}),"Flame Graph"]},"3"),(0,y.jsxs)(fa.Item,{onClick:function(){t.props.changeComponentToTreetable()},children:[(0,y.jsx)(Aa,{}),"Tree Table"]},"4")]},"sub1"),(0,y.jsxs)(fa.Item,{onClick:function(){t.props.changeComponentToVR()},children:[(0,y.jsx)(Sa,{}),(0,y.jsx)("span",{children:"VR Trace"})]},"9"),(0,y.jsxs)(fa.Item,{onClick:function(){t.openExampleProfile()},children:[(0,y.jsx)(Ia,{}),(0,y.jsx)("span",{children:"Example Profile"})]},"10")]})]})}}]),n}(t.Component),Ra=(t.Component,r(52007)),Pa=r.n(Ra);function ja(t,n,r,i){return new(r||(r=Promise))((function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function u(t){try{c(i.throw(t))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}c((i=i.apply(t,n||[])).next())}))}function ka(t,n){var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(t,s)}catch(e){a=[6,e],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function Ua(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Fa(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var za=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Ba(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=za.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Ga=[".DS_Store","Thumbs.db"];function Ha(e){return"object"===typeof e&&null!==e}function Va(e){return Qa(e.target.files).map((function(e){return Ba(e)}))}function Ya(e){return ja(this,void 0,void 0,(function(){return ka(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Ba(e)}))]}}))}))}function Wa(e,t){return ja(this,void 0,void 0,(function(){var n;return ka(this,(function(r){switch(r.label){case 0:return e.items?(n=Qa(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(qa))]):[3,2];case 1:return[2,Xa(Ka(r.sent()))];case 2:return[2,Xa(Qa(e.files).map((function(e){return Ba(e)})))]}}))}))}function Xa(e){return e.filter((function(e){return-1===Ga.indexOf(e.name)}))}function Qa(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function qa(e){if("function"!==typeof e.webkitGetAsEntry)return Za(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?$a(t):Za(e)}function Ka(e){return e.reduce((function(e,t){return Fa(Fa([],Ua(e),!1),Ua(Array.isArray(t)?Ka(t):[t]),!1)}),[])}function Za(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Ba(t);return Promise.resolve(n)}function Ja(e){return ja(this,void 0,void 0,(function(){return ka(this,(function(t){return[2,e.isDirectory?$a(e):es(e)]}))}))}function $a(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var o=this;t.readEntries((function(t){return ja(o,void 0,void 0,(function(){var o,a,s;return ka(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),e(o),[3,4];case 3:return a=u.sent(),n(a),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(Ja)),r.push(s),i(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function es(e){return ja(this,void 0,void 0,(function(){return ka(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=Ba(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var ts=r(69998);function ns(e){return function(e){if(Array.isArray(e))return as(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||os(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||os(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){if(e){if("string"===typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?as(e,t):void 0}}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ss="file-invalid-type",us="file-too-large",cs="file-too-small",ls="too-many-files",hs=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ss,message:"File type must be ".concat(t)}},fs=function(e){return{code:us,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},ds=function(e){return{code:cs,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},ps={code:ls,message:"Too many files"};function ms(e,t){var n="application/x-moz-file"===e.type||(0,ts.Z)(e,t);return[n,n?null:hs(t)]}function gs(e,t,n){if(vs(e.size))if(vs(t)&&vs(n)){if(e.size>n)return[!1,fs(n)];if(e.size<t)return[!1,ds(t)]}else{if(vs(t)&&e.size<t)return[!1,ds(t)];if(vs(n)&&e.size>n)return[!1,fs(n)]}return[!0,null]}function vs(e){return void 0!==e&&null!==e}function ys(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!(!o&&t.length>1||o&&a>=1&&t.length>a)&&t.every((function(e){var t=is(ms(e,n),1)[0],o=is(gs(e,r,i),1)[0],a=s?s(e):null;return t&&o&&!a}))}function bs(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function xs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Es(e){e.preventDefault()}function ws(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function Ms(e){return-1!==e.indexOf("Edge/")}function As(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return ws(e)||Ms(e)}function _s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!bs(e)&&t&&t.apply(void 0,[e].concat(r)),bs(e)}))}}function Ts(){return"showOpenFilePicker"in window}function Ss(e){return vs(e)?Object.entries(e).filter((function(e){var t=is(e,2),n=t[0],r=t[1],i=!0;return Ls(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(Ds)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).map((function(e){var t=is(e,2);return{accept:rs({},t[0],t[1])}})):e}function Ns(e){if(vs(e))return Object.entries(e).reduce((function(e,t){var n=is(t,2),r=n[0],i=n[1];return[].concat(ns(e),[r],ns(i))}),[]).filter((function(e){return Ls(e)||Ds(e)})).join(",")}function Cs(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Is(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}function Ls(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Ds(e){return/^.*\.[\w]+$/.test(e)}var Os=["children"],Rs=["open"],Ps=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],js=["refKey","onChange","onClick"];function ks(e){return function(e){if(Array.isArray(e))return zs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||Fs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){if(e){if("string"===typeof e)return zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zs(e,t):void 0}}function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ys=(0,t.forwardRef)((function(e,n){var r=e.children,i=Qs(Vs(e,Os)),o=i.open,a=Vs(i,Rs);return(0,t.useImperativeHandle)(n,(function(){return{open:o}}),[o]),t.createElement(t.Fragment,null,r(Gs(Gs({},a),{},{open:o})))}));Ys.displayName="Dropzone";var Ws={disabled:!1,getFilesFromEvent:function(e){return ja(this,void 0,void 0,(function(){return ka(this,(function(t){return Ha(e)&&Ha(e.dataTransfer)?[2,Wa(e.dataTransfer,e.type)]:function(e){return Ha(e)&&Ha(e.target)}(e)?[2,Va(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Ya(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ys.defaultProps=Ws,Ys.propTypes={children:Pa().func,accept:Pa().objectOf(Pa().arrayOf(Pa().string)),multiple:Pa().bool,preventDropOnDocument:Pa().bool,noClick:Pa().bool,noKeyboard:Pa().bool,noDrag:Pa().bool,noDragEventsBubbling:Pa().bool,minSize:Pa().number,maxSize:Pa().number,maxFiles:Pa().number,disabled:Pa().bool,getFilesFromEvent:Pa().func,onFileDialogCancel:Pa().func,onFileDialogOpen:Pa().func,useFsAccessApi:Pa().bool,autoFocus:Pa().bool,onDragEnter:Pa().func,onDragLeave:Pa().func,onDragOver:Pa().func,onDrop:Pa().func,onDropAccepted:Pa().func,onDropRejected:Pa().func,onError:Pa().func,validator:Pa().func};var Xs={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Gs(Gs({},Ws),e),r=n.accept,i=n.disabled,o=n.getFilesFromEvent,a=n.maxSize,s=n.minSize,u=n.multiple,c=n.maxFiles,l=n.onDragEnter,h=n.onDragLeave,f=n.onDragOver,d=n.onDrop,p=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,x=n.preventDropOnDocument,E=n.noClick,w=n.noKeyboard,M=n.noDrag,A=n.noDragEventsBubbling,_=n.onError,T=n.validator,S=(0,t.useMemo)((function(){return Ns(r)}),[r]),N=(0,t.useMemo)((function(){return Ss(r)}),[r]),C=(0,t.useMemo)((function(){return"function"===typeof v?v:Ks}),[v]),I=(0,t.useMemo)((function(){return"function"===typeof g?g:Ks}),[g]),L=(0,t.useRef)(null),D=(0,t.useRef)(null),O=(0,t.useReducer)(qs,Xs),R=Us(O,2),P=R[0],j=R[1],k=P.isFocused,U=P.isFileDialogActive,F=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&Ts()),z=function(){!F.current&&U&&setTimeout((function(){D.current&&(D.current.files.length||(j({type:"closeDialog"}),I()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[D,U,I,F]);var B=(0,t.useRef)([]),G=function(e){L.current&&L.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,t.useEffect)((function(){return x&&(document.addEventListener("dragover",Es,!1),document.addEventListener("drop",G,!1)),function(){x&&(document.removeEventListener("dragover",Es),document.removeEventListener("drop",G))}}),[L,x]),(0,t.useEffect)((function(){return!i&&b&&L.current&&L.current.focus(),function(){}}),[L,b,i]);var H=(0,t.useCallback)((function(e){_?_(e):console.error(e)}),[_]),V=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),B.current=[].concat(ks(B.current),[e.target]),xs(e)&&Promise.resolve(o(e)).then((function(t){if(!bs(e)||A){var n=t.length,r=n>0&&ys({files:t,accept:S,minSize:s,maxSize:a,multiple:u,maxFiles:c,validator:T});j({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e)}})).catch((function(e){return H(e)}))}),[o,l,H,A,S,s,a,u,c,T]),Y=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=xs(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,A]),W=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=B.current.filter((function(e){return L.current&&L.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xs(e)&&h&&h(e))}),[L,h,A]),X=(0,t.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Us(ms(e,S),2),i=t[0],o=t[1],u=Us(gs(e,s,a),2),c=u[0],l=u[1],h=T?T(e):null;if(i&&c&&!h)n.push(e);else{var f=[o,l];h&&(f=f.concat(h)),r.push({file:e,errors:f.filter((function(e){return e}))})}})),(!u&&n.length>1||u&&c>=1&&n.length>c)&&(n.forEach((function(e){r.push({file:e,errors:[ps]})})),n.splice(0)),j({acceptedFiles:n,fileRejections:r,type:"setFiles"}),d&&d(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&p&&p(n,t)}),[j,u,S,s,a,c,d,p,m,T]),Q=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),B.current=[],xs(e)&&Promise.resolve(o(e)).then((function(t){bs(e)&&!A||X(t,e)})).catch((function(e){return H(e)})),j({type:"reset"})}),[o,X,H,A]),q=(0,t.useCallback)((function(){if(F.current){j({type:"openDialog"}),C();var e={multiple:u,types:N};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){X(e,null),j({type:"closeDialog"})})).catch((function(e){Cs(e)?(I(e),j({type:"closeDialog"})):Is(e)?(F.current=!1,D.current?(D.current.value=null,D.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(e)}))}else D.current&&(j({type:"openDialog"}),C(),D.current.value=null,D.current.click())}),[j,C,I,y,X,H,N,u]),K=(0,t.useCallback)((function(e){L.current&&L.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),q()))}),[L,q]),Z=(0,t.useCallback)((function(){j({type:"focus"})}),[]),J=(0,t.useCallback)((function(){j({type:"blur"})}),[]),$=(0,t.useCallback)((function(){E||(As()?setTimeout(q,0):q())}),[E,q]),ee=function(e){return i?null:e},te=function(e){return w?null:ee(e)},ne=function(e){return M?null:ee(e)},re=function(e){A&&e.stopPropagation()},ie=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,a=e.onFocus,s=e.onBlur,u=e.onClick,c=e.onDragEnter,l=e.onDragOver,h=e.onDragLeave,f=e.onDrop,d=Vs(e,Ps);return Gs(Gs(Hs({onKeyDown:te(_s(o,K)),onFocus:te(_s(a,Z)),onBlur:te(_s(s,J)),onClick:ee(_s(u,$)),onDragEnter:ne(_s(c,V)),onDragOver:ne(_s(l,Y)),onDragLeave:ne(_s(h,W)),onDrop:ne(_s(f,Q)),role:"string"===typeof r&&""!==r?r:"presentation"},n,L),i||w?{}:{tabIndex:0}),d)}}),[L,K,Z,J,$,V,Y,W,Q,w,M,i]),oe=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),ae=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=Vs(e,js),a=Hs({accept:S,multiple:u,type:"file",style:{display:"none"},onChange:ee(_s(r,Q)),onClick:ee(_s(i,oe)),tabIndex:-1},n,D);return Gs(Gs({},a),o)}}),[D,r,u,Q,i]);return Gs(Gs({},P),{},{isFocused:k&&!i,getRootProps:ie,getInputProps:ae,rootRef:L,inputRef:D,open:ee(q)})}function qs(e,t){switch(t.type){case"focus":return Gs(Gs({},e),{},{isFocused:!0});case"blur":return Gs(Gs({},e),{},{isFocused:!1});case"openDialog":return Gs(Gs({},Xs),{},{isFileDialogActive:!0});case"closeDialog":return Gs(Gs({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Gs(Gs({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Gs(Gs({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Gs({},Xs);default:return e}}function Ks(){}var Zs=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))};var Js=function(e){return new this((function(t,n){if(!e||"undefined"===typeof e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"===typeof n||"function"===typeof n)){var a=n.then;if("function"===typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0===--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0===--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))},$s=setTimeout;function eu(e){return Boolean(e&&"undefined"!==typeof e.length)}function tu(){}function nu(e){if(!(this instanceof nu))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],uu(e,this)}function ru(t,n){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,nu._immediateFn((function(){var r=1===t._state?n.onFulfilled:n.onRejected;if(null!==r){var i;try{i=r(t._value)}catch(e){return void ou(n.promise,e)}iu(n.promise,i)}else(1===t._state?iu:ou)(n.promise,t._value)}))):t._deferreds.push(n)}function iu(t,n){try{if(n===t)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===typeof n||"function"===typeof n)){var r=n.then;if(n instanceof nu)return t._state=3,t._value=n,void au(t);if("function"===typeof r)return void uu((i=r,o=n,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=n,au(t)}catch(e){ou(t,e)}var i,o}function ou(e,t){e._state=2,e._value=t,au(e)}function au(e){2===e._state&&0===e._deferreds.length&&nu._immediateFn((function(){e._handled||nu._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)ru(e,e._deferreds[t]);e._deferreds=null}function su(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function uu(e,t){var n=!1;try{e((function(e){n||(n=!0,iu(t,e))}),(function(e){n||(n=!0,ou(t,e))}))}catch(r){if(n)return;n=!0,ou(t,r)}}nu.prototype.catch=function(e){return this.then(null,e)},nu.prototype.then=function(e,t){var n=new this.constructor(tu);return ru(this,new su(e,t,n)),n},nu.prototype.finally=Zs,nu.all=function(e){return new nu((function(t,n){if(!eu(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0===--i&&t(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},nu.allSettled=Js,nu.resolve=function(e){return e&&"object"===typeof e&&e.constructor===nu?e:new nu((function(t){t(e)}))},nu.reject=function(e){return new nu((function(t,n){n(e)}))},nu.race=function(e){return new nu((function(t,n){if(!eu(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)nu.resolve(e[r]).then(t,n)}))},nu._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){$s(e,0)},nu._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var cu=nu,lu=r(31725),hu=r.n(lu);"undefined"===typeof globalThis&&("undefined"!==typeof self?self.globalThis=self:"undefined"!==typeof r.g&&(r.g.globalThis=r.g)),globalThis.Promise||(globalThis.Promise=cu),Object.assign||(Object.assign=hu());if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var fu=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-fu}}for(var du=Date.now(),pu=["ms","moz","webkit","o"],mu=0;mu<pu.length&&!globalThis.requestAnimationFrame;++mu){var gu=pu[mu];globalThis.requestAnimationFrame=globalThis[gu+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[gu+"CancelAnimationFrame"]||globalThis[gu+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if("function"!==typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=16+du-t;return n<0&&(n=0),du=t,globalThis.self.setTimeout((function(){du=Date.now(),e(performance.now())}),n)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var vu=/iPhone/i,yu=/iPod/i,bu=/iPad/i,xu=/\biOS-universal(?:.+)Mac\b/i,Eu=/\bAndroid(?:.+)Mobile\b/i,wu=/Android/i,Mu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Au=/Silk/i,_u=/Windows Phone/i,Tu=/\bWindows(?:.+)ARM\b/i,Su=/BlackBerry/i,Nu=/BB10/i,Cu=/Opera Mini/i,Iu=/\b(CriOS|Chrome)(?:.+)Mobile/i,Lu=/Mobile(?:.+)Firefox\b/i,Du=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};var Ou,Ru,Pu,ju,ku,Uu,Fu,zu,Bu,Gu,Hu,Vu,Yu,Wu,Xu,Qu,qu,Ku,Zu,Ju=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),o={apple:{phone:i(vu)&&!i(_u),ipod:i(yu),tablet:!i(vu)&&(i(bu)||Du(t))&&!i(_u),universal:i(xu),device:(i(vu)||i(yu)||i(bu)||i(xu)||Du(t))&&!i(_u)},amazon:{phone:i(Mu),tablet:!i(Mu)&&i(Au),device:i(Mu)||i(Au)},android:{phone:!i(_u)&&i(Mu)||!i(_u)&&i(Eu),tablet:!i(_u)&&!i(Mu)&&!i(Eu)&&(i(Au)||i(wu)),device:!i(_u)&&(i(Mu)||i(Au)||i(Eu)||i(wu))||i(/\bokhttp\b/i)},windows:{phone:i(_u),tablet:i(Tu),device:i(_u)||i(Tu)},other:{blackberry:i(Su),blackberry10:i(Nu),opera:i(Cu),firefox:i(Lu),chrome:i(Iu),device:i(Su)||i(Nu)||i(Cu)||i(Lu)||i(Iu)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(globalThis.navigator);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Ou||(Ou={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Ru||(Ru={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Pu||(Pu={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(ju||(ju={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ku||(ku={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Uu||(Uu={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Fu||(Fu={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(zu||(zu={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Bu||(Bu={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Gu||(Gu={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Hu||(Hu={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Vu||(Vu={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Yu||(Yu={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Wu||(Wu={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Xu||(Xu={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Qu||(Qu={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(qu||(qu={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Ku||(Ku={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Zu||(Zu={}));var $u,ec,tc,nc,rc,ic,oc,ac,sc,uc,cc,lc,hc,fc,dc,pc,mc,gc,vc,yc={MIPMAP_TEXTURES:Vu.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ku.NONE,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(Ju.tablet||Ju.phone){var n;if(Ju.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(t=!1);if(Ju.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Xu.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Hu.CLAMP,SCALE_MODE:Gu.LINEAR,PRECISION_VERTEX:Qu.HIGH,PRECISION_FRAGMENT:Ju.apple.device?Qu.HIGH:Qu.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Ju.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},bc=r(25810),xc=r.n(bc),Ec=r(57089),wc=r.n(Ec),Mc=r(12114);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}($u||($u={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(ec||(ec={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(tc||(tc={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(nc||(nc={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(rc||(rc={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(ic||(ic={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(oc||(oc={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(ac||(ac={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(sc||(sc={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(uc||(uc={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(cc||(cc={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(lc||(lc={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(hc||(hc={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(fc||(fc={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(dc||(dc={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(pc||(pc={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(mc||(mc={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(gc||(gc={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(vc||(vc={}));var Ac={parse:Mc.Qc,format:Mc.WU,resolve:Mc.DB};yc.RETINA_PREFIX=/@([0-9\.]+)x/,yc.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _c,Tc=!1;var Sc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Nc(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function Cc(e){var t=e.toString(16);return"#"+(t="000000".substring(0,6-t.length)+t)}function Ic(e){return"string"===typeof e&&"#"===(e=Sc[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}var Lc=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[nc.NORMAL_NPM]=nc.NORMAL,e[nc.ADD_NPM]=nc.ADD,e[nc.SCREEN_NPM]=nc.SCREEN,t[nc.NORMAL]=nc.NORMAL_NPM,t[nc.ADD]=nc.ADD_NPM,t[nc.SCREEN]=nc.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function Dc(e,t){return Lc[t?1:0][e]}function Oc(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i=i*t+.5|0)}function Rc(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function Pc(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function jc(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function kc(e){return!(e&e-1)&&!!e}function Uc(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function Fc(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}function zc(e){return 0===e?0:e<0?-1:1}var Bc=0;function Gc(){return++Bc}var Hc={};function Vc(e,t,n){if(void 0===n&&(n=3),!Hc[t]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),Hc[t]=!0}}var Yc={},Wc=Object.create(null),Xc=Object.create(null);var Qc=function(){function e(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||yc.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),e}();var qc;function Kc(e,t){var n=yc.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}var Zc,Jc=2*Math.PI,$c=180/Math.PI,el=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(Zc||(Zc={}));var tl=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),nl=[new tl,new tl,new tl,new tl],rl=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=Zc.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.intersects=function(e,t){if(!t){var n=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=n)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var i=this.left,o=this.right,a=this.top,s=this.bottom;if(o<=i||s<=a)return!1;var u=nl[0].set(e.left,e.top),c=nl[1].set(e.left,e.bottom),l=nl[2].set(e.right,e.top),h=nl[3].set(e.right,e.bottom);if(l.x<=u.x||c.y<=u.y)return!1;var f=Math.sign(t.a*t.d-t.b*t.c);if(0===f)return!1;if(t.apply(u,u),t.apply(c,c),t.apply(l,l),t.apply(h,h),Math.max(u.x,c.x,l.x,h.x)<=i||Math.min(u.x,c.x,l.x,h.x)>=o||Math.max(u.y,c.y,l.y,h.y)<=a||Math.min(u.y,c.y,l.y,h.y)>=s)return!1;var d=f*(c.y-u.y),p=f*(u.x-c.x),m=d*i+p*a,g=d*o+p*a,v=d*i+p*s,y=d*o+p*s;if(Math.max(m,g,v,y)<=d*u.x+p*u.y||Math.min(m,g,v,y)>=d*h.x+p*h.y)return!1;var b=f*(u.y-l.y),x=f*(l.x-u.x),E=b*i+x*a,w=b*o+x*a,M=b*i+x*s,A=b*o+x*s;return!(Math.max(E,w,M,A)<=b*u.x+x*u.y||Math.min(E,w,M,A)>=b*h.x+x*h.y)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),il=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=Zc.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n},e.prototype.getBounds=function(){return new rl(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),ol=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=n,this.height=r,this.type=Zc.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1},e.prototype.getBounds=function(){return new rl(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),al=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if("number"!==typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=Zc.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],c=this.points[2*o+1];s>t!==c>t&&e<(t-s)/(c-s)*(u-a)+a&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(e,t){return e+", "+t}),"")+"]"},e}(),sl=function(){function e(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=Zc.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var r=e-(this.x+n),i=t-(this.y+n),o=n*n;if(r*r+i*i<=o)return!0;if((r=e-(this.x+this.width-n))*r+i*i<=o)return!0;if(r*r+(i=t-(this.y+this.height-n))*i<=o)return!0;if((r=e-(this.x+n))*r+i*i<=o)return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},e}(),ul=function(){function e(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,n){return void 0===t&&(t=this.cb),void 0===n&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),cl=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new tl;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new tl;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=e.pivot,a=-Math.atan2(-r,i),s=Math.atan2(n,t),u=Math.abs(a+s);return u<1e-5||Math.abs(Jc-u)<1e-5?(e.rotation=s,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=s),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx+(o.x*t+o.y*r),e.position.y=this.ty+(o.x*n+o.y*i),e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ll=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],hl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],fl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],dl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],pl=[],ml=[],gl=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];pl.push(t);for(var n=0;n<16;n++)for(var r=gl(ll[e]*ll[n]+fl[e]*hl[n]),i=gl(hl[e]*ll[n]+dl[e]*hl[n]),o=gl(ll[e]*fl[n]+fl[e]*dl[n]),a=gl(hl[e]*fl[n]+dl[e]*dl[n]),s=0;s<16;s++)if(ll[s]===r&&hl[s]===i&&fl[s]===o&&dl[s]===a){t.push(s);break}}for(e=0;e<16;e++){var u=new cl;u.set(ll[e],hl[e],fl[e],dl[e],0,0),ml.push(u)}}();var vl={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ll[e]},uY:function(e){return hl[e]},vX:function(e){return fl[e]},vY:function(e){return dl[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return pl[e][t]},sub:function(e,t){return pl[e][vl.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?vl.S:vl.N:2*Math.abs(t)<=Math.abs(e)?e>0?vl.E:vl.W:t>0?e>0?vl.SE:vl.SW:e>0?vl.NE:vl.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=ml[vl.inv(t)];i.tx=n,i.ty=r,e.append(i)}},yl=function(){function e(){this.worldTransform=new cl,this.localTransform=new cl,this.position=new ul(this.onChange,this,0,0),this.scale=new ul(this.onChange,this,1,1),this.pivot=new ul(this.onChange,this,0,0),this.skew=new ul(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();yc.SORTABLE_CHILDREN=!1;var bl=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?rl.EMPTY:((e=e||new rl(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=n*t.x+i*t.y+a,c=r*t.x+o*t.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[6])<t?o:t,n=(a=e[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,u=e.d,c=e.tx,l=e.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,m=o*t+s*n+c,g=a*t+u*n+l;h=m<h?m:h,f=g<f?g:f,d=m>d?m:d,p=g>p?g:p,h=(m=o*r+s*n+c)<h?m:h,f=(g=a*r+u*n+l)<f?g:f,d=m>d?m:d,p=g>p?g:p,h=(m=o*t+s*i+c)<h?m:h,f=(g=a*t+u*i+l)<f?g:f,d=m>d?m:d,p=g>p?g:p,h=(m=o*r+s*i+c)<h?m:h,f=(g=a*r+u*i+l)<f?g:f,d=m>d?m:d,p=g>p?g:p,this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2){var u=e[s],c=e[s+1];r=u<r?u:r,i=c<i?c:i,o=u>o?u:o,a=c>a?c:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,u=e.c,c=e.d,l=e.tx,h=e.ty,f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,g=n;g<r;g+=2){var v=t[g],y=t[g+1],b=a*v+u*y+l,x=c*y+s*v+h;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,x-o),m=Math.max(m,x+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>c?o:c}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){e-=i,t-=o,n+=i,r+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},e}(),xl=function(e,t){return xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},xl(e,t)};function El(e,t){function n(){this.constructor=e}xl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wl,Ml,Al,_l,Tl,Sl,Nl,Cl,Il,Ll,Dl,Ol,Rl,Pl,jl,kl,Ul,Fl,zl,Bl=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new yl,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new bl,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return El(t,e),t.mixin=function(e){for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new rl),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new rl),e=this._localBoundsRect),this._localBounds||(this._localBounds=new bl);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},t.prototype.toGlobal=function(e,t,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,n,r,i,o,a,s,u){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Gl),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*$c},set:function(e){this.transform.rotation=e*el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){var t;if(this._mask)(t=this._mask.maskObject||this._mask)._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1);if(this._mask=e,this._mask)0===(t=this._mask.maskObject||this._mask)._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++}},enumerable:!1,configurable:!0}),t}(xc()),Gl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return El(t,e),t}(Bl);function Hl(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}Bl.prototype.displayObjectUpdateTransform=Bl.prototype.updateTransform,function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(wl||(wl={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Ml||(Ml={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Al||(Al={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(_l||(_l={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Tl||(Tl={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Sl||(Sl={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Nl||(Nl={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Cl||(Cl={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Il||(Il={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Ll||(Ll={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Dl||(Dl={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Ol||(Ol={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Rl||(Rl={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Pl||(Pl={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(jl||(jl={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(kl||(kl={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Ul||(Ul={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Fl||(Fl={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(zl||(zl={}));var Vl=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=yc.SORTABLE_CHILDREN,t.sortDirty=!1,t}return El(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);Fc(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,Fc(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Fc(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var n,r=e,i=t-r;if(i>0&&i<=t){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(Hl),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,n){void 0===n&&(n=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var n=e.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var r,i;if(this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==t.prototype._render&&(r=this.getBounds(!0)),r&&n.intersects(r,i))this._render(e);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o],u=s.cullable;s.cullable=u||!this.cullArea,s.render(e),s.cullable=u}}},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r])}var i=t&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ul.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);r=0;for(var o=this.children.length;r<o;++r)this.children[r].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"===typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(Bl);Vl.prototype.containerUpdateTransform=Vl.prototype.updateTransform;Bl.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Yl,Wl=function(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ju.tablet||Ju.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(Ju.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=t.left,r=t.top,i=t.width,o=t.height,a=this.renderer,s=a.width,u=a.height,c=a.resolution,l=i/s*c,h=o/u*c,f=this.div;f.style.left=n+"px",f.style.top=r+"px",f.style.width=s+"px",f.style.height=u+"px";for(var d=0;d<this.children.length;d++){var p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,Fc(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{f=p._accessibleDiv;var m=p.hitArea,g=p.worldTransform;p.hitArea?(f.style.left=(g.tx+m.x*g.a)*l+"px",f.style.top=(g.ty+m.y*g.d)*h+"px",f.style.width=m.width*g.a*l+"px",f.style.height=m.height*g.d*h+"px"):(m=p.getBounds(),this.capHitArea(m),f.style.left=m.x*l+"px",f.style.top=m.y*h+"px",f.style.width=m.width*l+"px",f.style.height=m.height*h+"px",f.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(f.title=p.accessibleTitle),f.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&f.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===f.title&&p.tabIndex===f.tabIndex||(f.title=p.accessibleTitle,f.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,n=t.width,r=t.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"click",r),t.dispatchEvent(n,"pointertap",r),t.dispatchEvent(n,"tap",r)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"mouseover",r)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,n=e.target.displayObject,r=t.eventData;t.dispatchEvent(n,"mouseout",r)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();yc.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(Yl||(Yl={}));var Xl=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=r}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Ql=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Xl(null,null,1/0),this.deltaMS=1/yc.TARGET_FPMS,this.elapsedMS=1/yc.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,n){return void 0===n&&(n=Yl.NORMAL),this._addListener(new Xl(e,t,n))},e.prototype.addOnce=function(e,t,n){return void 0===n&&(n=Yl.NORMAL),this._addListener(new Xl(e,t,n,!0))},e.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*yc.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,yc.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),ql=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Yl.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ql.shared:new Ql,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),Kl=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new tl,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zl(e,t)};var Jl=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),$l=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!==(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!==(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!==(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),eh=function(){function e(){this._tempPoint=new tl}return e.prototype.recursiveFindHit=function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,u=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(r=!1)),u&&t.interactiveChildren&&t.children)for(var c=t.children,l=c.length-1;l>=0;l--){var h=c[l],f=this.recursiveFindHit(e,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a},e.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},e}(),th={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Bl.mixin(th);var nh={target:null,data:{global:null}},rh=function(e){function t(t,n){var r=e.call(this)||this;return n=n||{},r.renderer=t,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new Kl,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Jl,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in globalThis),r.supportsTouchEvents="ontouchstart"in globalThis,r.supportsPointerEvents=!!globalThis.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new eh,r._tempDisplayObject=new Gl,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(e,t){function n(){this.constructor=e}Zl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return nh.target=null,nh.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(nh,t,null,!0),nh.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ql.system.add(this.tickerUpdate,this,Yl.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ql.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.interactionDOMElement.style,n)}else t&&"string"===typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},t.prototype.mapPositionToPoint=function(e,t,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},t.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],c=u.displayObject,l=u.eventString,h=u.eventData;h.stopsPropagatingAt===c&&(h.stopPropagationHint=!0),this.dispatchEvent(c,l,h)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new $l(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,c),"mouse"===s.pointerType||"pen"===s.pointerType){var l=2===s.button;this.emit(l?"rightup"+o:"mouseup"+o,c)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,c),this.releaseInteractionDataForPointerId(s.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,u=!1;if(s){var c=2===r.button,l=$l.FLAGS,h=c?l.RIGHT_DOWN:l.LEFT_DOWN,f=void 0!==o&&o.flags&h;n?(this.dispatchEvent(t,c?"rightup":"mouseup",e),f&&(this.dispatchEvent(t,c?"rightclick":"click",e),u=!0)):f&&this.dispatchEvent(t,c?"rightupoutside":"mouseupoutside",e),o&&(c?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(s&&!u||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new $l(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return 1===n||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new Kl).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];"undefined"===typeof i.button&&(i.button=e.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=e.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var o=e;"undefined"===typeof o.isPrimary&&(o.isPrimary=!0),"undefined"===typeof o.width&&(o.width=1),"undefined"===typeof o.height&&(o.height=1),"undefined"===typeof o.tiltX&&(o.tiltX=0),"undefined"===typeof o.tiltY&&(o.tiltY=0),"undefined"===typeof o.pointerType&&(o.pointerType="mouse"),"undefined"===typeof o.pointerId&&(o.pointerId=1),"undefined"===typeof o.pressure&&(o.pressure=.5),"undefined"===typeof o.twist&&(o.twist=0),"undefined"===typeof o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(xc()),ih=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,l=u.items;this._aliasCount++;for(var h=0,f=l.length;h<f;h++)l[h][c](e,t,n,r,i,o,a,s);return l===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(ih.prototype,{dispatch:{value:ih.prototype.emit},run:{value:ih.prototype.emit}}),yc.PREFER_ENV=Ju.any?$u.WEBGL:$u.WEBGL2,yc.STRICT_TEXTURE_CACHE=!1;var oh=[];function ah(e,t){if(!e)return null;var n="";if("string"===typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=oh.length-1;i>=0;--i){var o=oh[i];if(o.test&&o.test(e,n))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var sh=function(e,t){return sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},sh(e,t)};function uh(e,t){function n(){this.constructor=e}sh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ch=function(){return ch=Object.assign||function(e){for(var t,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in t=n[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ch.apply(this,arguments)};var lh=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new ih("setRealSize"),this.onUpdate=new ih("update"),this.onError=new ih("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),hh=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,o,a)||this).data=t,r}return uh(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===hc.UNPACK);var i=t.realWidth,o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(lh),fh={scaleMode:uc.NEAREST,format:ic.RGBA,alphaMode:hc.NPM},dh=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,a=n.anisotropicLevel,s=n.scaleMode,u=n.width,c=n.height,l=n.wrapMode,h=n.format,f=n.type,d=n.target,p=n.resolution,m=n.resourceOptions;return!t||t instanceof lh||((t=ah(t,m)).internal=!0),r.resolution=p||yc.RESOLUTION,r.width=Math.round((u||0)*r.resolution)/r.resolution,r.height=Math.round((c||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:yc.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:yc.ANISOTROPIC_LEVEL,r._wrapMode=l||yc.WRAP_MODE,r._scaleMode=void 0!==s?s:yc.SCALE_MODE,r.format=h||ic.RGBA,r.type=f||ac.UNSIGNED_BYTE,r.target=d||oc.TEXTURE_2D,r.alphaMode=void 0!==i?i:hc.UNPACK,r.uid=Gc(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=u>0&&c>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return uh(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)},t.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=kc(this.realWidth)&&kc(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Xc[this.cacheId],delete Wc[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,r){void 0===r&&(r=yc.STRICT_TEXTURE_CACHE);var i="string"===typeof e,o=null;if(i)o=e;else{if(!e._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+Gc()}o=e._pixiId}var s=Xc[o];if(i&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new t(e,n)).cacheId=o,t.addToCache(s,o)),s},t.fromBuffer=function(e,n,r,i){e=e||new Float32Array(n*r*4);var o=new hh(e,{width:n,height:r}),a=e instanceof Float32Array?ac.FLOAT:ac.UNSIGNED_BYTE;return new t(o,Object.assign(fh,i||{width:n,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),Xc[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),Xc[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=Xc[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Xc[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete Xc[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(xc()),ph=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;(r=e.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<t;s++){var u=new dh;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return uh(t,e),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof lh?this.addResourceAt(e[n],n):this.addResourceAt(ah(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load},t}(lh),mh=function(e){function t(t,n){var r,i,o=this,a=n||{},s=a.width,u=a.height;return Array.isArray(t)?(r=t,i=t.length):i=t,o=e.call(this,i,{width:s,height:u})||this,r&&o.initFromArray(r,n),o}return uh(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=oc.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=e.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(var u=0;u<i;u++){var c=a[u];o[u]<c.dirtyId&&(o[u]=c.dirtyId,c.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,t.format,n.type,c.resource.source))}return!0},t}(ph),gh=function(e){function t(t){var n=this,r=t,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=e.call(this,i,o)||this).source=t,n.noSubImage=!1,n}return uh(t,e),t.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf("data:")?e.crossOrigin=function(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf("data:"))return"";t=t||globalThis.location,qc||(qc=document.createElement("a")),qc.href=e;var n=Ac.parse(qc.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}(t):!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous")},t.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===hc.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,n.internalFormat,t.format,n.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,n.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(n,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(lh),vh=function(e){function t(t){return e.call(this,t)||this}return uh(t,e),t.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(gh),yh=function(e){function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,u=o.autoLoad,c=o.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var l=0;l<t.SIDES;l++)i.items[l].target=oc.TEXTURE_CUBE_MAP_POSITIVE_X+l;return i.linkBaseTexture=!1!==c,n&&i.initFromArray(n,r),!1!==u&&i.load(),i}return uh(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=oc.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,n){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=oc.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,n,r){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),i[o]=a.dirtyId):i[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(ph),bh=function(e){function t(t,n){var r=this;if(n=n||{},!(t instanceof HTMLImageElement)){var i=new Image;gh.crossOrigin(i,t,n.crossorigin),i.src=t,t=i}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:yc.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode="number"===typeof n.alphaMode?n.alphaMode:null,r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return uh(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var n=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return n(r,0,0,t.width,t.height,{premultiplyAlpha:e.alphaMode===hc.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,n,r){if("number"===typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"===typeof e||e instanceof HTMLImageElement},t}(gh),xh=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return uh(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;gh.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,o=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var a=e.source;a.width=i,a.height=o,a._pixiId="canvas_"+Gc(),a.getContext("2d").drawImage(t,0,0,n,r,0,0,i,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,n){return"svg"===n||"string"===typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"===typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(gh),Eh=function(e){function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"===typeof n&&(n=[n]);var a=n[0].src||n[0];gh.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var u=document.createElement("source"),c=n[s],l=c.src,h=c.mime,f=(l=l||n[s]).split("?").shift().toLowerCase(),d=f.slice(f.lastIndexOf(".")+1);h=h||t.MIME_TYPES[d]||"video/"+d,u.src=l,u.type=h,o.appendChild(u)}n=o}return(i=e.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return uh(t,e),t.prototype.update=function(t){if(!this.destroyed){var n=Ql.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ql.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ql.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Ql.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ql.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ql.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(gh),wh=function(e){function t(t){return e.call(this,t)||this}return uh(t,e),t.test=function(e){return!!globalThis.createImageBitmap&&e instanceof ImageBitmap},t}(gh);oh.push(bh,wh,vh,Eh,xh,hh,yh,mh);var Mh={__proto__:null,Resource:lh,BaseImageResource:gh,INSTALLED:oh,autoDetectResource:ah,AbstractMultiResource:ph,ArrayResource:mh,BufferResource:hh,CanvasResource:vh,CubeResource:yh,ImageResource:bh,SVGResource:xh,VideoResource:Eh,ImageBitmapResource:wh},Ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uh(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===hc.UNPACK);var i=t.realWidth,o=t.realHeight;return n.width===i&&n.height===o?r.texSubImage2D(t.target,0,0,0,i,o,t.format,n.type,this.data):(n.width=i,n.height=o,r.texImage2D(t.target,0,n.internalFormat,i,o,0,t.format,n.type,this.data)),!0},t}(hh),_h=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ih("disposeFramebuffer"),this.multisample=gc.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new dh(null,{scaleMode:uc.NEAREST,resolution:1,mipmap:lc.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new dh(new Ah(null,{width:this.width,height:this.height}),{scaleMode:uc.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:lc.OFF,format:ic.DEPTH_COMPONENT,type:ac.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),Th=function(e){function t(t){void 0===t&&(t={});var n=this;if("number"===typeof t){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];t={width:r,height:i,scaleMode:o,resolution:a}}return t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:gc.NONE,(n=e.call(this,null,t)||this).mipmap=lc.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new _h(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=t.multisample,n.maskStack=[],n.filterStack=[{}],n}return uh(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(dh),Sh=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,u=e.y/i+a;n=vl.add(n,vl.NW),this.x0=s+o*vl.uX(n),this.y0=u+a*vl.uY(n),n=vl.add(n,2),this.x1=s+o*vl.uX(n),this.y1=u+a*vl.uY(n),n=vl.add(n,2),this.x2=s+o*vl.uX(n),this.y2=u+a*vl.uY(n),n=vl.add(n,2),this.x3=s+o*vl.uX(n),this.y3=u+a*vl.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),Nh=new Sh;function Ch(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var Ih=function(e){function t(n,r,i,o,a,s){var u=e.call(this)||this;if(u.noFrame=!1,r||(u.noFrame=!0,r=new rl(0,0,1,1)),n instanceof t&&(n=n.baseTexture),u.baseTexture=n,u._frame=r,u.trim=o,u.valid=!1,u._uvs=Nh,u.uvMatrix=null,u.orig=i||r,u._rotate=Number(a||0),!0===a)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new tl(s.x,s.y):new tl(0,0),u._updateID=0,u.textureCacheIds=[],n.valid?u.noFrame?n.valid&&u.onBaseTextureUpdated(n):u.frame=r:n.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&n.on("update",u.onBaseTextureUpdated,u),u}return uh(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&Wc[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===Nh&&(this._uvs=new Sh),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=yc.STRICT_TEXTURE_CACHE);var i="string"===typeof e,o=null;if(i)o=e;else if(e instanceof dh){if(!e.cacheId){var a=n&&n.pixiIdPrefix||"pixiid";e.cacheId=a+"-"+Gc(),dh.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){a=n&&n.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+Gc()}o=e._pixiId}var s=Wc[o];if(i&&r&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||e instanceof dh?!s&&e instanceof dh&&(s=new t(e),t.addToCache(s,o)):(n.resolution||(n.resolution=Kc(e)),(s=new t(new dh(e,n))).baseTexture.cacheId=o,dh.addToCache(s.baseTexture,o),t.addToCache(s,o)),s},t.fromURL=function(e,n){var r=Object.assign({autoLoad:!1},null===n||void 0===n?void 0:n.resourceOptions),i=t.from(e,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,n,r,i){return new t(dh.fromBuffer(e,n,r,i))},t.fromLoader=function(e,n,r,i){var o=new dh(e,Object.assign({scaleMode:yc.SCALE_MODE,resolution:Kc(n)},i)),a=o.resource;a instanceof bh&&(a.url=n);var s=new t(o);return r||(r=n),dh.addToCache(s.baseTexture,r),t.addToCache(s,r),r!==n&&(dh.addToCache(s.baseTexture,n),t.addToCache(s,n)),s.baseTexture.valid?Promise.resolve(s):new Promise((function(e){s.baseTexture.once("loaded",(function(){return e(s)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),Wc[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),Wc[t]=e)},t.removeFromCache=function(e){if("string"===typeof e){var t=Wc[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Wc[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)Wc[e.textureCacheIds[r]]===e&&delete Wc[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,c="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+c)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new dh),Ch(t._EMPTY),Ch(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),t._WHITE=new t(new dh(new vh(e))),Ch(t._WHITE),Ch(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(xc()),Lh=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return uh(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(e*r)/r,o=Math.round(t*r)/r;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(i,o),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return"number"===typeof e&&(Vc("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new Th(e))},t}(Ih),Dh=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,n){void 0===n&&(n=gc.NONE);var r=new Th(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new Lh(r)},e.prototype.getOptimalTexture=function(e,t,n,r){var i;void 0===n&&(n=1),void 0===r&&(r=gc.NONE),e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=r>1?-r:-1:(i=((65535&(e=jc(e)))<<16|65535&(t=jc(t)))>>>0,r>1&&(i+=4294967296*r)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,t,r)),o.filterPoolKey=i,o.setResolution(n),o},e.prototype.getFilterTexture=function(e,t,n){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||gc.NONE);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),Oh=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=ac.FLOAT),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,o){return new e(t,n,r,i,o)},e}(),Rh=0,Ph=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Rh++,this.disposeRunner=new ih("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===vc.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?vc.ELEMENT_ARRAY_BUFFER:vc.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),jh={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var kh={5126:4,5123:2,5121:1},Uh=0,Fh={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},zh=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Uh++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ih("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Ph||(t instanceof Array&&(t=new Float32Array(t)),t=new Ph(t));var u=e.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],t,n,r,i);return this}var l=this.buffers.indexOf(t);return-1===l&&(this.buffers.push(t),l=this.buffers.length-1),this.attributes[e]=new Oh(l,n,r,i,o,a,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Ph||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ph(e)),e.type=vc.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new Ph;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*kh[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,u=0;for(o=0;o<e.length;o++){var c=t[o],l=e[o],h=Pc(l);i[h]||(i[h]=new jh[h](a)),s=i[h];for(var f=0;f<l.length;f++)s[(f/c|0)*r+u+f%c]=l[f];u+=c}return new Float32Array(a)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new Ph(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new Oh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=vc.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var n,r=new e,i=[],o=[],a=[],s=0;s<t.length;s++){n=t[s];for(var u=0;u<n.buffers.length;u++)o[u]=o[u]||0,o[u]+=n.buffers[u].data.length,a[u]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(Fh[Pc(n.buffers[s].data)])(o[s]),r.buffers[s]=new Ph(i[s]);for(s=0;s<t.length;s++){n=t[s];for(u=0;u<n.buffers.length;u++)i[u].set(n.buffers[u].data,a[u]),a[u]+=n.buffers[u].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=vc.ELEMENT_ARRAY_BUFFER;var c=0,l=0,h=0,f=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){f=s;break}for(var s in n.attributes){var d=n.attributes[s];(0|d.buffer)===f&&(l+=d.size*kh[d.type]/4)}for(s=0;s<t.length;s++){var p=t[s].indexBuffer.data;for(u=0;u<p.length;u++)r.indexBuffer.data[u+h]+=c;c+=t[s].buffers[f].data.length/l,h+=p.length}}return r},e}(),Bh=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return uh(t,e),t}(zh),Gh=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Ph(t.vertices),t.uvBuffer=new Ph(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return uh(t,e),t.prototype.map=function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(zh),Hh=0,Vh=function(){function e(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Hh++,this.static=!!t,this.ubo=!!n,e instanceof Ph?(this.buffer=e,this.buffer.type=vc.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ph(new Float32Array(1)),this.buffer.type=vc.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(n,r)},e.from=function(t,n,r){return new e(t,n,r)},e.uboFrom=function(t,n){return new e(t,null===n||void 0===n||n,!0)},e}(),Yh=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gc.NONE,this.sourceFrame=new rl,this.destinationFrame=new rl,this.bindingSourceFrame=new rl,this.bindingDestinationFrame=new rl,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Wh=[new tl,new tl,new tl,new tl],Xh=new cl,Qh=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Dh,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Bh,this.quadUv=new Gh,this.tempRect=new rl,this.activeState={},this.globalUniforms=new Vh({outputFrame:new rl,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var n,r,i=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new Yh,s=this.renderer.renderTexture,u=t[0].resolution,c=t[0].multisample,l=t[0].padding,h=t[0].autoFit,f=null===(n=t[0].legacy)||void 0===n||n,d=1;d<t.length;d++){var p=t[d];u=Math.min(u,p.resolution),c=Math.min(c,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,h=h&&p.autoFit,f=f||null===(r=p.legacy)||void 0===r||r}1===o.length&&(this.defaultFilterStack[0].renderTexture=s.current),o.push(a),a.resolution=u,a.multisample=c,a.legacy=f,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(l);var m=this.tempRect.copyFrom(s.sourceFrame);i.projection.transform&&this.transformAABB(Xh.copyFrom(i.projection.transform).invert(),m),h?(a.sourceFrame.fit(m),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(m)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,c),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var g=this.tempRect;g.x=0,g.y=0,g.width=a.sourceFrame.width,g.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(s.sourceFrame),a.bindingDestinationFrame.copyFrom(s.destinationFrame),a.transform=i.projection.transform,i.projection.transform=null,s.bind(a.renderTexture,a.sourceFrame,g),i.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var u=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,u.renderTexture,fc.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,l=this.getOptimalFilterTexture(c.width,c.height,t.resolution);l.filterFrame=c.filterFrame;var h=0;for(h=0;h<n.length-1;++h){1===h&&t.multisample>1&&((l=this.getOptimalFilterTexture(c.width,c.height,t.resolution)).filterFrame=c.filterFrame),n[h].apply(this,c,l,fc.CLEAR,t);var f=c;c=l,l=f}n[h].apply(this,c,u.renderTexture,fc.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(l)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=fc.CLEAR);var n=this.renderer,r=n.renderTexture,i=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&i.stateId||this.forceClear;(t===fc.CLEAR||t===fc.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;i.state.set(e.state),this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(rc.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(rc.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=t._texture.orig,a=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(cl.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,n,r){return void 0===n&&(n=1),void 0===r&&(r=gc.NONE),this.texturePool.getOptimalTexture(e,t,n,r)},e.prototype.getFilterTexture=function(e,t,n){if("number"===typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||gc.NONE);return i.filterFrame=e.filterFrame,i},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var n=Wh[0],r=Wh[1],i=Wh[2],o=Wh[3];n.set(t.left,t.top),r.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(n,n),e.apply(r,r),e.apply(i,i),e.apply(o,o);var a=Math.min(n.x,r.x,i.x,o.x),s=Math.min(n.y,r.y,i.y,o.y),u=Math.max(n.x,r.x,i.x,o.x),c=Math.max(n.y,r.y,i.y,o.y);t.x=a,t.y=s,t.width=u-a,t.height=c-s},e.prototype.roundFrame=function(e,t,n,r,i){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(i){var o=i.a,a=i.b,s=i.c,u=i.d;if((Math.abs(a)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}(i=i?Xh.copyFrom(i):Xh.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}},e}(),qh=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),Kh=function(){function e(e){this.renderer=e,this.emptyRenderer=new qh(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},e.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,u=0;u<a;u++){var c=i[u],l=c._batchLocation;if(l>=0&&l<r&&t[l]===c)o[u]=l;else for(;s<r;){var h=t[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){o[u]=s,c._batchLocation=s,t[s]=c;break}s++}}},e.prototype.destroy=function(){this.renderer=null},e}(),Zh=0,Jh=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Zh++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Zh++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var n;if(yc.PREFER_ENV>=$u.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){e.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),$h=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gc.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},ef=new rl,tf=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new _h(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new rl,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;yc.PREFER_ENV===$u.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,n){void 0===n&&(n=0);var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=n),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var s=t.width>>n,u=t.height>>n,c=s/t.width;this.setViewport(t.x*c,t.y*c,s,u)}else{s=e.width>>n,u=e.height>>n;this.setViewport(0,0,s,u)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,n,r){var i=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=tc.COLOR|tc.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},e.prototype.initFramebuffer=function(e){var t=this.gl,n=new $h(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height)),n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,i=r.length;t.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=r[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var n=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,o=i.length;n.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?(r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],s=0;s<o;s++){var u=i[s],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),0===s&&r.msaaBuffer||(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,u.target,c._glTextures[this.CONTEXT_UID].texture,t),a.push(n.COLOR_ATTACHMENT0+s))}if((a.length>1&&n.drawBuffers(a),e.depthTexture)&&this.writeDepthTexture){var l=e.depthTexture;this.renderer.texture.bind(l,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,n=gc.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=gc.NONE),n},e.prototype.blit=function(e,t,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var u=i.glFramebuffers[s];if(u){if(!e){if(!u.msaaBuffer)return;var c=i.colorTextures[0];if(!c)return;u.blitFramebuffer||(u.blitFramebuffer=new _h(i.width,i.height),u.blitFramebuffer.addColorTexture(0,c)),(e=u.blitFramebuffer).colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),e.width===i.width&&e.height===i.height||(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=ef).width=i.width,t.height=i.height),n||(n=t);var l=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,l?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var n=e.width,r=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new rl},e.prototype.destroy=function(){this.renderer=null},e}(),nf={5126:4,5123:2,5121:1},rf=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;yc.PREFER_ENV===$u.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,o){return r.drawElementsInstancedANGLE(e,t,n,i,o)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,n=0;n<e.buffers.length;n++){var r=e.buffers[n];t.update(r)}},e.prototype.checkCompatibility=function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var o in n)r[o]&&i.push(o,r[o].location);return i.join("-")},e.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.program;a.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);var s=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID],c=u[s];if(c)return u[a.id]=c,c;var l=e.buffers,h=e.attributes,f={},d={};for(var p in l)f[p]=0,d[p]=0;for(var p in h)!h[p].size&&a.attributeData[p]?h[p].size=a.attributeData[p].size:h[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[h[p].buffer]+=h[p].size*nf[h[p].type];for(var p in h){var m=h[p],g=m.size;void 0===m.stride&&(f[m.buffer]===g*nf[m.type]?m.stride=0:m.stride=f[m.buffer]),void 0===m.start&&(m.start=d[m.buffer],d[m.buffer]+=g*nf[m.type])}c=r.createVertexArray(),r.bindVertexArray(c);for(var v=0;v<l.length;v++){var y=l[v];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(e,a),this._activeVao=c,u[a.id]=c,u[s]=c,c},e.prototype.disposeGeometry=function(e,t){var n;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,a=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var s=0;s<o.length;s++){var u=o[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||t||a.dispose(o[s],t))}if(!t)for(var c in r)if("g"===c[0]){var l=r[c];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)},e.prototype.activateVao=function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var s=null;for(var u in a){var c=a[u],l=o[c.buffer],h=l._glBuffers[r];if(t.attributeData[u]){s!==h&&(i.bind(l),s=h);var f=t.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(f,1)}}}},e.prototype.draw=function(e,t,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,n,t||o.getSize(),r||1):i.drawArrays(e,n,t||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),of=function(){function e(e){void 0===e&&(e=null),this.type=mc.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=yc.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=mc.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function af(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function sf(e,t){var n=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),r=e.getShaderInfoLog(t),i=r.split("\n"),o={},a=i.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||o[e])&&(o[e]=!0,!0)})),s=[""];a.forEach((function(e){n[e-1]="%c"+n[e-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var u=n.join("\n");s[0]=u,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function uf(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function cf(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return uf(2*t);case"bvec3":return uf(3*t);case"bvec4":return uf(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var lf,hf={},ff=hf;function df(){if(!lf){lf=pc.MEDIUM;var e=function(){if(ff===hf||ff&&ff.isContextLost()){var e=document.createElement("canvas"),t=void 0;yc.PREFER_ENV>=$u.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),ff=t}return ff}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);lf=t.precision?pc.HIGH:pc.MEDIUM}}return lf}function pf(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===pc.HIGH&&n!==pc.HIGH&&(r=pc.MEDIUM),"precision "+r+" float;\n"+e}return n!==pc.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var mf={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function gf(e){return mf[e]}var vf=null,yf={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function bf(e,t){if(!vf){var n=Object.keys(yf);vf={};for(var r=0;r<n.length;++r){var i=n[r];vf[e[i]]=yf[i]}}return vf[t]}var xf=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ef={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},wf={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Mf,Af=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function _f(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}var Tf=0,Sf={},Nf=function(){function e(t,n,r){void 0===r&&(r="pixi-shader"),this.id=Tf++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Sf[r]?(Sf[r]++,r+="-"+Sf[r]):Sf[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=pf(this.vertexSrc,yc.PRECISION_VERTEX,pc.HIGH),this.fragmentSrc=pf(this.fragmentSrc,yc.PRECISION_FRAGMENT,df())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,o=Yc[i];return o||(Yc[i]=o=new e(t,n,r)),o},e}(),Cf=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof Vh?t:new Vh(t):new Vh({})}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){return new e(Nf.from(t,n),r)},e}(),If=function(){function e(){this.data=0,this.blendMode=nc.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==nc.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Lf=function(e){function t(n,r,i){var o=this,a=Nf.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=e.call(this,a,i)||this).padding=0,o.resolution=yc.FILTER_RESOLUTION,o.multisample=yc.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new If,o}return uh(t,e),t.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Cf),Df=new cl,Of=function(){function e(e,t){this._texture=e,this.mapCoord=new cl,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(Df.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Df));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(t._frame.x+s+u)/o.width,a[1]=(t._frame.y+s+u)/o.height,a[2]=(t._frame.x+t._frame.width-s+u)/o.width,a[3]=(t._frame.y+t._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),Rf=function(e){function t(t,n,r){var i=this,o=null;return"string"!==typeof t&&void 0===n&&void 0===r&&(o=t,t=void 0,n=void 0,r=void 0),(i=e.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",n||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,i.maskMatrix=new cl,i}return uh(t,e),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,t,n,r){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Of(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},t}(Lf),Pf=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new of;r.pooled=!0,r.maskObject=t,n=r}var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n.autoDetect&&this.detect(n),n._target=e,n.type!==mc.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case mc.SCISSOR:this.renderer.scissor.push(n);break;case mc.STENCIL:this.renderer.stencil.push(n);break;case mc.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n)}n.type===mc.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case mc.SCISSOR:this.renderer.scissor.pop();break;case mc.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case mc.SPRITE:this.popSpriteMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var n=this.maskStack[this.maskStack.length-1];n.type===mc.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(e){e.maskObject.isSprite?e.type=mc.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=mc.SCISSOR:e.type=mc.STENCIL},e.prototype.pushSpriteMask=function(e){var t,n,r=e.maskObject,i=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new Rf]);var a,s,u=this.renderer,c=u.renderTexture;if(c.current){var l=c.current;a=e.resolution||l.resolution,s=null!==(t=e.multisample)&&void 0!==t?t:l.multisample}else a=e.resolution||u.resolution,s=null!==(n=e.multisample)&&void 0!==n?n:u.multisample;o[0].resolution=a,o[0].multisample=s,o[0].maskSprite=r;var h=i.filterArea;i.filterArea=r.getBounds(!0),u.filter.push(i,o),i.filterArea=h,e._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),jf=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),kf=new cl,Uf=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return uh(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var t=e._scissorRect,n=e.maskObject,r=this.renderer,i=r.renderTexture;n.renderable=!0;var o=n.getBounds();this.roundFrameToPixels(o,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),n.renderable=!1,t&&o.fit(t),e._scissorRectLocal=o}},t.isMatrixRotated=function(e){if(!e)return!1;var t=e.a,n=e.b,r=e.c,i=e.d;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)},t.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect())return!1;if(t.isMatrixRotated(n.worldTransform))return!1;if(t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,n,r,i,o){t.isMatrixRotated(o)||((o=o?kf.copyFrom(o):kf.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,e),e.fit(i),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)},t}(jf),Ff=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return uh(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(jf),zf=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new cl,this.transform=null}return e.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),Bf=new rl,Gf=new rl,Hf=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new rl,this.destinationFrame=new rl,this.viewportFrame=new rl}return e.prototype.bind=function(e,t,n){void 0===e&&(e=null);var r,i,o,a=this.renderer;this.current=e,e?(o=(r=e.baseTexture).resolution,t||(Bf.width=e.frame.width,Bf.height=e.frame.height,t=Bf),n||(Gf.x=e.frame.x,Gf.y=e.frame.y,Gf.width=t.width,Gf.height=t.height,n=Gf),i=r.framebuffer):(o=a.resolution,t||(Bf.width=a.screen.width,Bf.height=a.screen.height,t=Bf),n||((n=Bf).width=t.width,n.height=t.height));var s=this.viewportFrame;s.x=n.x*o,s.y=n.y*o,s.width=n.width*o,s.height=n.height*o,e||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var n=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,i=n.width!==r.width||n.height!==r.height;if(i){var o=this.viewportFrame,a=o.x,s=o.y,u=o.width,c=o.height;a=Math.round(a),s=Math.round(s),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,s,u,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),i&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function Vf(e,t,n,r,i){n.buffer.update(i)}var Yf={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Wf={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Xf(e,t){if(!e.autoManage)return{size:0,syncFunc:Vf};for(var n=function(e,t){var n=[];for(var r in e)t[r]&&n.push(t[r]);return n.sort((function(e,t){return e.index-t.index})),n}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,o=0;o<t.length;o++){var a=t[o];if(n=Wf[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!==0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=16*Math.ceil(i/16),a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(n),i=r.uboElements,o=r.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var u=i[s],c=e.uniforms[u.data.name],l=u.data.name,h=!1,f=0;f<xf.length;f++){var d=xf[f];if(d.codeUbo&&d.test(u.data,c)){a.push("offset = "+u.offset/4+";",xf[f].codeUbo(u.data.name,c)),h=!0;break}}if(!h)if(u.data.size>1){var p=gf(u.data.type),m=Math.max(Wf[u.data.type]/16,1),g=p/m,v=(4-g%4)%4;a.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+u.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+u.data.size*m+"; i++)\n                {\n                    for(var j = 0; j < "+g+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+v+";\n                }\n\n                ")}else{var y=Yf[u.data.type];a.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+u.offset/4+";\n                "+y+";\n                ")}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}var Qf=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function qf(e,t){var n=af(e,e.VERTEX_SHADER,t.vertexSrc),r=af(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,n),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||function(e,t,n,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||sf(e,n),e.getShaderParameter(r,e.COMPILE_STATUS)||sf(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,i,n,r),t.attributeData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(e,i);if(0!==o.name.indexOf("gl_")){var a=bf(t,o.type),s={type:a,name:o.name,size:gf(a),location:t.getAttribLocation(e,o.name)};n[o.name]=s}}return n}(i,e),t.uniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=bf(t,o.type);n[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:cf(u,o.size)}}return n}(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort((function(e,t){return e>t?1:-1}));for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(n),e.deleteShader(r);var s={};for(var a in t.uniformData){var u=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:cf(u.type,u.size)}}return new Qf(i,s)}var Kf=0,Zf={textureCount:0,uboCount:0},Jf=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Kf++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"===typeof Mf)return Mf;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Mf=!0===t({a:"b"},"a","b")}catch(e){Mf=!1}return Mf}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(Zf.textureCount=0,Zf.uboCount=0,this.syncUniformGroup(e.uniformGroup,Zf)),r},t.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},t.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var n,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in e.uniforms){var o=t[i];if(o){for(var a=e.uniforms[i],s=!1,u=0;u<xf.length;u++)if(xf[u].test(o,a)){r.push(xf[u].code(i,a)),s=!0;break}if(!s){var c=(1===o.size?Ef:wf)[o.type].replace("location",'ud["'+i+'"].location');r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+c+";")}}else(null===(n=e.uniforms[i])||void 0===n?void 0:n.group)&&(e.uniforms[i].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,t){var n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;var r=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),r(n.uniformData,e.uniforms,this.renderer,Zf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])},t.prototype.createSyncBufferGroup=function(e,t,n){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=Xf(e,this.shader.program.uniformData)),e.autoManage){var s=new Float32Array(a.size/4);e.buffer.update(s)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]},t.prototype.getSignature=function(e,t,n){var r=e.uniforms,i=[n+"-"];for(var o in r)i.push(o),t[o]&&i.push(t[o].type);return i.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var t=this.gl,n=e.program,r=qf(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();var $f=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=nc.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new If,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[nc.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.ADD]=[e.ONE,e.ONE],t[nc.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.NONE]=[0,0],t[nc.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[nc.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[nc.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[nc.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[nc.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[nc.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[nc.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[nc.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[nc.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[nc.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[nc.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),ed=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=yc.GC_MAX_IDLE,this.checkCountMax=yc.GC_MAX_CHECK_COUNT,this.mode=yc.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==dc.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){var o=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},e.prototype.destroy=function(){this.renderer=null},e}();var td=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ac.UNSIGNED_BYTE,this.internalFormat=ic.RGBA,this.samplerType=0},nd=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new dh,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,m,g,v,y,b,x,E,w,M;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((t={})[ac.UNSIGNED_BYTE]=((n={})[ic.RGBA]=e.RGBA8,n[ic.RGB]=e.RGB8,n[ic.RG]=e.RG8,n[ic.RED]=e.R8,n[ic.RGBA_INTEGER]=e.RGBA8UI,n[ic.RGB_INTEGER]=e.RGB8UI,n[ic.RG_INTEGER]=e.RG8UI,n[ic.RED_INTEGER]=e.R8UI,n[ic.ALPHA]=e.ALPHA,n[ic.LUMINANCE]=e.LUMINANCE,n[ic.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,n),t[ac.BYTE]=((r={})[ic.RGBA]=e.RGBA8_SNORM,r[ic.RGB]=e.RGB8_SNORM,r[ic.RG]=e.RG8_SNORM,r[ic.RED]=e.R8_SNORM,r[ic.RGBA_INTEGER]=e.RGBA8I,r[ic.RGB_INTEGER]=e.RGB8I,r[ic.RG_INTEGER]=e.RG8I,r[ic.RED_INTEGER]=e.R8I,r),t[ac.UNSIGNED_SHORT]=((i={})[ic.RGBA_INTEGER]=e.RGBA16UI,i[ic.RGB_INTEGER]=e.RGB16UI,i[ic.RG_INTEGER]=e.RG16UI,i[ic.RED_INTEGER]=e.R16UI,i[ic.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[ac.SHORT]=((o={})[ic.RGBA_INTEGER]=e.RGBA16I,o[ic.RGB_INTEGER]=e.RGB16I,o[ic.RG_INTEGER]=e.RG16I,o[ic.RED_INTEGER]=e.R16I,o),t[ac.UNSIGNED_INT]=((a={})[ic.RGBA_INTEGER]=e.RGBA32UI,a[ic.RGB_INTEGER]=e.RGB32UI,a[ic.RG_INTEGER]=e.RG32UI,a[ic.RED_INTEGER]=e.R32UI,a[ic.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[ac.INT]=((s={})[ic.RGBA_INTEGER]=e.RGBA32I,s[ic.RGB_INTEGER]=e.RGB32I,s[ic.RG_INTEGER]=e.RG32I,s[ic.RED_INTEGER]=e.R32I,s),t[ac.FLOAT]=((u={})[ic.RGBA]=e.RGBA32F,u[ic.RGB]=e.RGB32F,u[ic.RG]=e.RG32F,u[ic.RED]=e.R32F,u[ic.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,u),t[ac.HALF_FLOAT]=((c={})[ic.RGBA]=e.RGBA16F,c[ic.RGB]=e.RGB16F,c[ic.RG]=e.RG16F,c[ic.RED]=e.R16F,c),t[ac.UNSIGNED_SHORT_5_6_5]=((l={})[ic.RGB]=e.RGB565,l),t[ac.UNSIGNED_SHORT_4_4_4_4]=((h={})[ic.RGBA]=e.RGBA4,h),t[ac.UNSIGNED_SHORT_5_5_5_1]=((f={})[ic.RGBA]=e.RGB5_A1,f),t[ac.UNSIGNED_INT_2_10_10_10_REV]=((d={})[ic.RGBA]=e.RGB10_A2,d[ic.RGBA_INTEGER]=e.RGB10_A2UI,d),t[ac.UNSIGNED_INT_10F_11F_11F_REV]=((p={})[ic.RGB]=e.R11F_G11F_B10F,p),t[ac.UNSIGNED_INT_5_9_9_9_REV]=((m={})[ic.RGB]=e.RGB9_E5,m),t[ac.UNSIGNED_INT_24_8]=((g={})[ic.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,g),t[ac.FLOAT_32_UNSIGNED_INT_24_8_REV]=((v={})[ic.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,v),M=t):((y={})[ac.UNSIGNED_BYTE]=((b={})[ic.RGBA]=e.RGBA,b[ic.RGB]=e.RGB,b[ic.ALPHA]=e.ALPHA,b[ic.LUMINANCE]=e.LUMINANCE,b[ic.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,b),y[ac.UNSIGNED_SHORT_5_6_5]=((x={})[ic.RGB]=e.RGB,x),y[ac.UNSIGNED_SHORT_4_4_4_4]=((E={})[ic.RGBA]=e.RGBA,E),y[ac.UNSIGNED_SHORT_5_5_5_1]=((w={})[ic.RGBA]=e.RGBA,w),M=y),M}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new td(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new td(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var n=this.gl;if((e=null===e||void 0===e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},e.prototype.ensureSamplerType=function(e){var t=this,n=t.boundTextures,r=t.hasIntegerTextures,i=t.CONTEXT_UID;if(r)for(var o=e-1;o>=0;--o){var a=n[o];if(a)a._glTextures[i].samplerType!==sc.FLOAT&&this.renderer.texture.unbind(a)}},e.prototype.initTexture=function(e){var t=new td(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var n,r;t.internalFormat=null!==(r=null===(n=this.internalFormats[e.type])||void 0===n?void 0:n[e.format])&&void 0!==r?r:e.format,2===this.webGLVersion&&e.type===ac.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t))t.samplerType!==sc.FLOAT&&(this.hasIntegerTextures=!0);else{var r=e.realWidth,i=e.realHeight,o=n.gl;(t.width!==r||t.height!==i||t.dirtyId<0)&&(t.width=r,t.height=i,o.texImage2D(e.target,0,t.internalFormat,r,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&Fc(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==lc.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=cc.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&e.mipmap!==lc.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===uc.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===uc.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),rd={__proto__:null,FilterSystem:Qh,BatchSystem:Kh,ContextSystem:Jh,FramebufferSystem:tf,GeometrySystem:rf,MaskSystem:Pf,ScissorSystem:Uf,StencilSystem:Ff,ProjectionSystem:zf,RenderTextureSystem:Hf,ShaderSystem:Jf,StateSystem:$f,TextureGCSystem:ed,TextureSystem:nd},id=new cl,od=function(e){function t(t,n){void 0===t&&(t=ec.UNKNOWN);var r=e.call(this)||this;return n=Object.assign({},yc.RENDER_OPTIONS,n),r.options=n,r.type=t,r.screen=new rl(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||yc.RESOLUTION,r.useContextAlpha=n.useContextAlpha,r.autoDensity=!!n.autoDensity,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&(Vc("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=n.transparent,r.backgroundAlpha=n.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return uh(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+"px",this.view.style.height=r+"px"),this.emit("resize",n,r)},t.prototype.generateTexture=function(e,t,n,r){void 0===t&&(t={}),"number"===typeof t&&(Vc("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:n,region:r});var i=t.region,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(t,["region"]);0===(r=i||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var a=Lh.create(ch({width:r.width,height:r.height},o));return id.tx=-r.x,id.ty=-r.y,this.render(e,{renderTexture:a,clear:!1,transform:id,skipUpdateTransform:!!e.parent}),a},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=ec.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Cc(e),Nc(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(xc()),ad=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},sd=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)},e.prototype.bindBufferBase=function(e,t){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,i.buffer)}},e.prototype.bindBufferRange=function(e,t,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var o=e._glBuffers[i]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,o.buffer,256*n,256)},e.prototype.update=function(e){var t=this.gl,n=this.CONTEXT_UID,r=e._glBuffers[n];if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,n=this.gl;return e._glBuffers[t]=new ad(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}(),ud=function(t){function n(e){var r=t.call(this,ec.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new ih("destroy"),contextChange:new ih("contextChange"),reset:new ih("reset"),update:new ih("update"),postrender:new ih("postrender"),prerender:new ih("prerender"),resize:new ih("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Vh({projectionMatrix:new cl},!0),r.addSystem(Pf,"mask").addSystem(Jh,"context").addSystem($f,"state").addSystem(Jf,"shader").addSystem(nd,"texture").addSystem(sd,"buffer").addSystem(rf,"geometry").addSystem(tf,"framebuffer").addSystem(Uf,"scissor").addSystem(Ff,"stencil").addSystem(zf,"projection").addSystem(ed,"textureGC").addSystem(Qh,"filter").addSystem(Hf,"renderTexture").addSystem(Kh,"batch"),r.initPlugins(n.__plugins),r.multisample=void 0,e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:e.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(e){var t;if(!Tc){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 6.3.2 - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,n)}else globalThis.console&&globalThis.console.log("PixiJS 6.3.2 - "+e+" - http://www.pixijs.com/");Tc=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return uh(n,t),n.create=function(t){if("undefined"===typeof _c&&(_c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:yc.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,i}catch(e){return!1}}()),_c)return new n(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},n.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}e>=gc.HIGH?this.multisample=gc.HIGH:e>=gc.MEDIUM?this.multisample=gc.MEDIUM:e>=gc.LOW?this.multisample=gc.LOW:this.multisample=gc.NONE},n.prototype.addSystem=function(e,t){var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=n,this.runners)this.runners[r].add(n);return this},n.prototype.render=function(e,t){var n,r,i,o;if(t&&(t instanceof Lh?(Vc("6.0.0","Renderer#render arguments changed, use options instead."),n=t,r=arguments[2],i=arguments[3],o=arguments[4]):(n=t.renderTexture,r=t.clear,i=t.transform,o=t.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(n||(this._lastObjectRendered=e),!o){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},n.prototype.generateTexture=function(e,n,r,i){void 0===n&&(n={});var o=t.prototype.generateTexture.call(this,e,n,r,i);return this.framebuffer.blit(),o},n.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},n.prototype.reset=function(){return this.runners.reset.emit(),this},n.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},n.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(n.prototype,"extract",{get:function(){return Vc("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),n.registerPlugin=function(e,t){n.__plugins=n.__plugins||{},n.__plugins[e]=t},n}(od);var cd="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ld=(function(){function e(e){Vc("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=e}e.prototype.destroy=function(){this.renderer=null}}(),function(){this.texArray=null,this.blend=0,this.type=rc.TRIANGLES,this.start=0,this.size=0,this.data=null}),hd=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),fd=function(){function e(e){"number"===typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),dd=function(e){function t(t){var n=e.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=If.for2d(),n.size=4*yc.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return uh(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;yc.PREFER_ENV===$u.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),yc.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Af.replace(/%forloop%/gi,_f(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new ld);for(;n.length<i;)n.push(new hd);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,n=this.MAX_TEXTURES,r=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++dh._globalBatch,u=0,c=r[0],l=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var f=e[h];e[h]=null,f._batchEnabled!==s&&(c.count>=n&&(i.boundArray(c,o,s,n),this.buildDrawCalls(c,l,h),l=h,c=r[++u],++s),f._batchEnabled=s,f.touched=a,c.elements[c.count++]=f)}c.count>0&&(i.boundArray(c,o,s,n),this.buildDrawCalls(c,l,this._bufferSize),++u,++s);for(h=0;h<o.length;h++)o[h]=null;dh._globalBatch=s},t.prototype.buildDrawCalls=function(e,n,r){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,u=i.vertexSize,c=t._drawCallPool,l=this._dcIndex,h=this._aIndex,f=this._iIndex,d=c[l];d.start=this._iIndex,d.texArray=e;for(var p=n;p<r;++p){var m=o[p],g=m._texture.baseTexture,v=Lc[g.alphaMode?1:0][m.blendMode];o[p]=null,n<p&&d.blend!==v&&(d.size=f-d.start,n=p,(d=c[++l]).texArray=e,d.start=f),this.packInterleavedGeometry(m,a,s,h,f),h+=m.vertexData.length/2*u,f+=m.indices.length,d.blend=v}n<r&&(d.size=f-d.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=f},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,n=e._attributeBuffer,r=e._indexBuffer;yc.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=t._drawCallPool,a=null,s=0;s<e;s++){var u=o[s],c=u.texArray,l=u.type,h=u.size,f=u.start,d=u.blend;a!==c&&(a=c,this.bindAndClearTexArray(c)),this.state.blendMode=d,i.set(this.state),r.drawElements(l,h,r.UNSIGNED_SHORT,2*f)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),yc.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=jc(Math.ceil(e/8)),n=Uc(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new fd(r*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=jc(Math.ceil(e/12)),n=Uc(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},t.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,u=e.uvs,c=e.indices,l=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),d=f<1&&e._texture.baseTexture.alphaMode?Oc(e._tintRGB,f):e._tintRGB+(255*f<<24),p=0;p<l.length;p+=2)a[r++]=l[p],a[r++]=l[p+1],a[r++]=u[p],a[r++]=u[p+1],o[r++]=d,a[r++]=h;for(p=0;p<c.length;p++)n[i++]=s+c[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(qh),pd=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=Vh.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Nf(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new cl,default:this.defaultGroupCache[e]};return new Cf(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),md=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._buffer=new Ph(null,t,!1),n._indexBuffer=new Ph(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,ac.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,ac.FLOAT).addAttribute("aColor",n._buffer,4,!0,ac.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,ac.FLOAT).addIndex(n._indexBuffer),n}return uh(t,e),t}(zh),gd="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",vd="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",yd=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:gd,fragment:vd,geometryClass:md,vertexSize:6},e),n=t.vertex,r=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new pd(n,r),a.geometryClass=o,a.vertexSize=i,a}return uh(t,e),t}(dd)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return gd},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return vd},enumerable:!1,configurable:!0}),e}(),bd=yd.create(),xd={},Ed=function(e){Object.defineProperty(xd,e,{get:function(){return Vc("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),Mh[e]}})};for(var wd in Mh)Ed(wd);var Md={},Ad=function(e){Object.defineProperty(Md,e,{get:function(){return Vc("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),rd[e]}})};for(var wd in rd)Ad(wd);var _d=function(){function e(t){var n=this;this.stage=new Vl,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){return ud.create(e)}(t),e._plugins.forEach((function(e){e.init.call(n,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),Td=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,n=globalThis.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();_d.registerPlugin(Td);var Sd=new rl,Nd=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},e.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},e.prototype.canvas=function(t){var n,r,i,o=this.renderer,a=!1,s=!1;t&&(t instanceof Lh?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,a=!0,(r=Sd).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(r.width*n+1e-4),c=Math.floor(r.height*n+1e-4),l=new Qc(u,c,1),h=new Uint8Array(4*u*c),f=o.gl;f.readPixels(r.x*n,r.y*n,u,c,f.RGBA,f.UNSIGNED_BYTE,h);var d=l.context.getImageData(0,0,u,c);if(e.arrayPostDivide(h,d.data),l.context.putImageData(d,0,0),a){var p=new Qc(l.width,l.height,1);p.context.scale(1,-1),p.context.drawImage(l.canvas,0,-c),l.destroy(),l=p}return s&&i.destroy(!0),l.canvas},e.prototype.pixels=function(t){var n,r,i,o=this.renderer,a=!1;t&&(t instanceof Lh?i=t:(i=this.renderer.generateTexture(t),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=Sd).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,u=r.height*n,c=new Uint8Array(4*s*u),l=o.gl;return l.readPixels(r.x*n,r.y*n,s,u,l.RGBA,l.UNSIGNED_BYTE,c),a&&i.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},e}(),Cd=function(){function e(e,t,n){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}();function Id(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Ld,Dd=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(e){void 0===e&&(e=!1);var t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n},e.prototype.has=function(e){if(!(e instanceof Cd))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,t),r=r._next;return!0},e.prototype.add=function(e,t){if(void 0===t&&(t=null),"function"!==typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return Id(this,new Cd(e,!1,t))},e.prototype.once=function(e,t){if(void 0===t&&(t=null),"function"!==typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return Id(this,new Cd(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof Cd))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}();function Od(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}var Rd=null;function Pd(){}function jd(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function kd(e){return e.toString().replace("object ","")}var Ud=function(){function t(e,n,r){if(this._dequeue=Pd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!==typeof e||"string"!==typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Pd,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Dd,this.onProgress=new Dd,this.onComplete=new Dd,this.onAfterMiddleware=new Dd}return t.setExtensionLoadType=function(e,n){jd(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){jd(t._xhrTypeMap,e,n)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:"undefined"===typeof Ld&&(Ld=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),Ld&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(e){return 0!==(this._flags&e)},t.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!==typeof globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!==typeof globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t.prototype._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(kd(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(kd(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(kd(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var n=this.xhr,r="",i="undefined"===typeof n.status?200:n.status;if(""!==n.responseType&&"text"!==n.responseType&&"undefined"!==typeof n.responseType||(r=n.responseText),0===i&&(r.length>0||n.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=t.TYPE.XML}catch(s){return void this.abort("Error trying to parse loaded xml: "+s)}else this.data=n.response||r;this.complete()}else this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL)},t.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,Rd||(Rd=document.createElement("a")),Rd.href=e;var n=Od(Rd.href,{strictMode:!0}),r=!n.port&&""===t.port||n.port===t.port,i=n.protocol?n.protocol+":":"";return n.host===t.hostname&&r&&i===t.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(r>-1?r:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function Fd(){}function zd(e){return function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];if(null===e)throw new Error("Callback was already called.");var i=e;e=null,i.apply(this,n)}}!function(e){var t,n,r,i;(t=e.STATUS_FLAGS||(e.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",(n=e.TYPE||(e.TYPE={}))[n.UNKNOWN=0]="UNKNOWN",n[n.JSON=1]="JSON",n[n.XML=2]="XML",n[n.IMAGE=3]="IMAGE",n[n.AUDIO=4]="AUDIO",n[n.VIDEO=5]="VIDEO",n[n.TEXT=6]="TEXT",(r=e.LOAD_TYPE||(e.LOAD_TYPE={}))[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO",(i=e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})).DEFAULT="text",i.BUFFER="arraybuffer",i.BLOB="blob",i.DOCUMENT="document",i.JSON="json",i.TEXT="text",e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(Ud||(Ud={}));var Bd=function(e,t){this.data=e,this.callback=t},Gd=function(){function e(e,t){var n=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=Fd,this.unsaturated=Fd,this.empty=Fd,this.drain=Fd,this.error=Fd,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,r){if(r&&"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==e&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i=new Bd(e,"function"===typeof r?r:Fd);t?n._tasks.unshift(i):n._tasks.push(i),setTimeout(n.process,1)}},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(e.data,zd(n._next(e)))}},this._worker=e,0===t)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return e.prototype._next=function(e){var t=this;return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];t.workers-=1,e.callback.apply(e,r),null!=r[0]&&t.error(r[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},e.prototype.push=function(e,t){this._insert(e,!1,t)},e.prototype.kill=function(){this.workers=0,this.drain=Fd,this.started=!1,this._tasks=[]},e.prototype.unshift=function(e,t){this._insert(e,!0,t)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},e.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},e.eachSeries=function(e,t,n,r){var i=0,o=e.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()},e.queue=function(t,n){return new e(t,n)},e}(),Hd=/(#[\w-]+)?$/,Vd=function(){function e(t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=Gd.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Dd,this.onError=new Dd,this.onLoad=new Dd,this.onStart=new Dd,this.onComplete=new Dd;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(e,t,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new Ud(e,t,n),"function"===typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[e]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[e].progressChunk=s}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},e.prototype.load=function(e){if("function"===typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(e){var t,n=Od(e,{strictMode:!0});if(t=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=Hd.exec(t)[0];-1!==(t=t.slice(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},e.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,Gd.eachSeries(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Gd.eachSeries(this._afterMiddleware,(function(n,r){n.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();Vd.prototype.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"===typeof e&&(n=e,r=t||n.callback||n.onComplete,t=n.url,e=n.name||n.key||n.url),"string"!==typeof t&&(r=n,n=t,t=e),"string"!==typeof t)throw new Error("No url passed to add resource to loader.");return"function"===typeof n&&(r=n,n=null),this._add(e,t,n,r)};var Yd,Wd,Xd=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Vd.shared:new Vd},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Qd=function(){function e(){}return e.add=function(){Ud.setExtensionLoadType("svg",Ud.LOAD_TYPE.XHR),Ud.setExtensionXhrType("svg",Ud.XHR_RESPONSE_TYPE.TEXT)},e.use=function(e,t){if(!e.data||e.type!==Ud.TYPE.IMAGE&&"svg"!==e.extension)t();else{var n=e.data,r=e.url,i=e.name,o=e.metadata;Ih.fromLoader(n,r,i,o).then((function(n){e.texture=n,t()})).catch(t)}},e}();Vd.registerPlugin({use:function(e,t){if(e.data){if(e.xhr&&e.xhrType===Ud.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!==typeof e.data){if(0===e.data.type.indexOf("image")){var n=globalThis.URL||globalThis.webkitURL,r=n.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=Ud.TYPE.IMAGE,void(e.data.onload=function(){n.revokeObjectURL(r),e.data.onload=null,t()})}}else{var i=e.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return e.data=new Image,e.data.src="data:"+i+";base64,"+function(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return t}(e.xhr.responseText),e.type=Ud.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}}),Vd.registerPlugin(Qd),function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Wd||(Wd={}));var qd=((Yd={})[Wd.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Yd[Wd.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Yd[Wd.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Yd[Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Yd[Wd.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Yd[Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Yd[Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Yd[Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Yd[Wd.COMPRESSED_R11_EAC]=.5,Yd[Wd.COMPRESSED_SIGNED_R11_EAC]=.5,Yd[Wd.COMPRESSED_RG11_EAC]=1,Yd[Wd.COMPRESSED_SIGNED_RG11_EAC]=1,Yd[Wd.COMPRESSED_RGB8_ETC2]=.5,Yd[Wd.COMPRESSED_RGBA8_ETC2_EAC]=1,Yd[Wd.COMPRESSED_SRGB8_ETC2]=.5,Yd[Wd.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Yd[Wd.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yd[Wd.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Yd[Wd.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Yd[Wd.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Yd[Wd.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Yd[Wd.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Yd[Wd.COMPRESSED_RGB_ETC1_WEBGL]=.5,Yd[Wd.COMPRESSED_RGB_ATC_WEBGL]=.5,Yd[Wd.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Yd[Wd.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Yd),Kd=function(e,t){return Kd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Kd(e,t)};function Zd(e,t){function n(){this.constructor=e}Kd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Jd(t,n){var r,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(t,s)}catch(e){a=[6,e],i=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var $d,ep,tp=function(t){function n(e,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var r,i,o=this;return"string"===typeof e?(r=e,i=new Uint8Array):(r=null,i=e),(o=t.call(this,i,n)||this).origin=r,o.buffer=i?new fd(i):null,o.origin&&!1!==n.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Zd(n,t),n.prototype.onBlobLoaded=function(e){},n.prototype.load=function(){return function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function u(t){try{c(i.throw(t))}catch(e){a(e)}}function c(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,u)}c((i=i.apply(t,n||[])).next())}))}(this,void 0,Promise,(function(){var e;return Jd(this,(function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new fd(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}}))}))},n}(hh),np=function(e){function t(n,r){var i=e.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=t._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||t._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return Zd(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,u=a.levelWidth,c=a.levelHeight,l=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,u,c,0,l)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,t,n,r,i,o,a){for(var s=new Array(n),u=e.byteOffset,c=o,l=a,h=c+r-1&~(r-1),f=l+i-1&~(i-1),d=h*f*qd[t],p=0;p<n;p++)s[p]={levelID:p,levelWidth:n>1?c:h,levelHeight:n>1?l:f,levelBuffer:new Uint8Array(e.buffer,u,d)},u+=d,d=(h=(c=c>>1||1)+r-1&~(r-1))*(f=(l=l>>1||1)+i-1&~(i-1))*qd[t];return s},t}(tp),rp=function(){function e(){}return e.use=function(t,n){var r=t.data;if(t.type===Ud.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var i=r.textures,o=void 0,a=void 0,s=0,u=i.length;s<u;s++){var c=i[s],l=c.src,h=c.format;if(h||(a=l),e.textureFormats[h]){o=l;break}}if(!(o=o||a))return void n(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(o===t.url)return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var f={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},d=Ac.resolve(t.url.replace(this.baseUrl,""),o),p=r.cacheID;this.add(p,d,f,(function(e){if(e.error)n(e.error);else{var r=e.texture,i=void 0===r?null:r,o=e.textures,a=void 0===o?{}:o;Object.assign(t,{texture:i,textures:a}),n()}}))}else n()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=document.createElement("canvas").getContext("webgl");if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=n}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;for(var n in e._textureFormats={},t){var r=t[n];r&&Object.assign(e._textureFormats,Object.getPrototypeOf(r))}}return e._textureFormats},enumerable:!1,configurable:!0}),e}();function ip(e,t,n){var r={textures:{},texture:null};return t?(t.map((function(e){return new Ih(new dh(e,Object.assign({mipmap:lc.OFF,alphaMode:hc.NO_PREMULTIPLIED_ALPHA},n)))})).forEach((function(t,n){var i=t.baseTexture,o=e+"-"+(n+1);dh.addToCache(i,o),Ih.addToCache(t,o),0===n&&(dh.addToCache(i,e),Ih.addToCache(t,e),r.texture=t),r.textures[o]=t})),r):r}Ud.setExtensionXhrType("dds",Ud.XHR_RESPONSE_TYPE.BUFFER);var op,ap,sp=124,up=3,cp=4,lp=7,hp=19,fp=2,dp=0,pp=1,mp=2,gp=3;!function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(op||(op={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(ap||(ap={}));var vp,yp,bp,xp=(($d={})[827611204]=Wd.COMPRESSED_RGBA_S3TC_DXT1_EXT,$d[861165636]=Wd.COMPRESSED_RGBA_S3TC_DXT3_EXT,$d[894720068]=Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT,$d),Ep=((ep={})[op.DXGI_FORMAT_BC1_TYPELESS]=Wd.COMPRESSED_RGBA_S3TC_DXT1_EXT,ep[op.DXGI_FORMAT_BC1_UNORM]=Wd.COMPRESSED_RGBA_S3TC_DXT1_EXT,ep[op.DXGI_FORMAT_BC2_TYPELESS]=Wd.COMPRESSED_RGBA_S3TC_DXT3_EXT,ep[op.DXGI_FORMAT_BC2_UNORM]=Wd.COMPRESSED_RGBA_S3TC_DXT3_EXT,ep[op.DXGI_FORMAT_BC3_TYPELESS]=Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT,ep[op.DXGI_FORMAT_BC3_UNORM]=Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT,ep[op.DXGI_FORMAT_BC1_UNORM_SRGB]=Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,ep[op.DXGI_FORMAT_BC2_UNORM_SRGB]=Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,ep[op.DXGI_FORMAT_BC3_UNORM_SRGB]=Wd.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,ep),wp=function(){function e(){}return e.use=function(t,n){if("dds"===t.extension&&t.data)try{Object.assign(t,ip(t.name||t.url,e.parse(t.data),t.metadata))}catch(r){return void n(r)}n()},e.parse=function(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(e,0,sp/Uint32Array.BYTES_PER_ELEMENT),r=n[up],i=n[cp],o=n[lp],a=new Uint32Array(e,hp*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=a[1];if(4&s){var u=a[fp];if(808540228!==u){var c=xp[u],l=new Uint8Array(e,128);return[new np(l,{format:c,width:i,height:r,levels:o})]}var h=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),f=h[dp],d=h[pp],p=h[mp],m=h[gp],g=Ep[f];if(void 0===g)throw new Error("DDSLoader cannot parse texture data with DXGI format "+f);if(4===p)throw new Error("DDSLoader does not support cubemap textures");if(d===ap.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var v=new Array;if(1===m)v.push(new Uint8Array(e,148));else{for(var y=qd[g],b=0,x=i,E=r,w=0;w<o;w++){b+=Math.max(1,x+3&-4)*Math.max(1,E+3&-4)*y,x>>>=1,E>>>=1}var M=148;for(w=0;w<m;w++)v.push(new Uint8Array(e,M,b)),M+=b}return v.map((function(e){return new np(e,{format:g,width:i,height:r,levels:o})}))}if(64&s)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&s)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}();Ud.setExtensionXhrType("ktx",Ud.XHR_RESPONSE_TYPE.BUFFER);var Mp=[171,75,84,88,32,49,49,187,13,10,26,10],Ap=12,_p=16,Tp=24,Sp=28,Np=36,Cp=40,Ip=44,Lp=48,Dp=52,Op=56,Rp=60,Pp=((vp={})[ac.UNSIGNED_BYTE]=1,vp[ac.UNSIGNED_SHORT]=2,vp[ac.INT]=4,vp[ac.UNSIGNED_INT]=4,vp[ac.FLOAT]=4,vp[ac.HALF_FLOAT]=8,vp),jp=((yp={})[ic.RGBA]=4,yp[ic.RGB]=3,yp[ic.RG]=2,yp[ic.RED]=1,yp[ic.LUMINANCE]=1,yp[ic.LUMINANCE_ALPHA]=2,yp[ic.ALPHA]=1,yp),kp=((bp={})[ac.UNSIGNED_SHORT_4_4_4_4]=2,bp[ac.UNSIGNED_SHORT_5_5_5_1]=2,bp[ac.UNSIGNED_SHORT_5_6_5]=2,bp),Up=function(){function e(){}return e.use=function(t,n){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url,i=e.parse(r,t.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(t,ip(r,o,t.metadata));else if(a){var s={};a.forEach((function(e,t){var n=new Ih(new dh(e.resource,{mipmap:lc.OFF,alphaMode:hc.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),i=r+"-"+(t+1);dh.addToCache(n.baseTexture,i),Ih.addToCache(n,i),0===t&&(s[r]=n,dh.addToCache(n.baseTexture,r),Ih.addToCache(n,r)),s[i]=n})),Object.assign(t,{textures:s})}}catch(u){return void n(u)}n()},e.parse=function(t,n){var r=new DataView(n);if(!e.validate(t,r))return null;var i=67305985===r.getUint32(Ap,!0),o=r.getUint32(_p,i),a=r.getUint32(Tp,i),s=r.getUint32(Sp,i),u=r.getUint32(Np,i),c=r.getUint32(Cp,i)||1,l=r.getUint32(Ip,i)||1,h=r.getUint32(Lp,i)||1,f=r.getUint32(Dp,i),d=r.getUint32(Op,i),p=r.getUint32(Rp,i);if(0===c||1!==l)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==h)throw new Error("WebGL does not support array textures");var m,g=u+3&-4,v=c+3&-4,y=new Array(h),b=u*c;if(0===o&&(b=g*v),void 0===(m=0!==o?Pp[o]?Pp[o]*jp[a]:kp[o]:qd[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var x=b*m,E=u,w=c,M=g,A=v,_=64+p,T=0;T<d;T++){for(var S=r.getUint32(_,i),N=_+4,C=0;C<h;C++){var I=y[C];I||(I=y[C]=new Array(d)),I[T]={levelID:T,levelWidth:d>1||0!==o?E:M,levelHeight:d>1||0!==o?w:A,levelBuffer:new Uint8Array(n,N,x)},N+=x}_=(_+=S+4)%4!==0?_+4-_%4:_,x=(M=(E=E>>1||1)+4-1&-4)*(A=(w=w>>1||1)+4-1&-4)*m}return 0!==o?{uncompressed:y.map((function(t){var n=t[0].levelBuffer,r=!1;return o===ac.FLOAT?n=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):o===ac.UNSIGNED_INT?(r=!0,n=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):o===ac.INT&&(r=!0,n=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new hh(n,{width:t[0].levelWidth,height:t[0].levelHeight}),type:o,format:r?e.convertFormatToInteger(a):a}}))}:{compressed:y.map((function(e){return new np(null,{format:s,width:u,height:c,levels:d,levelBuffers:e})}))}},e.validate=function(e,t){for(var n=0;n<Mp.length;n++)if(t.getUint8(n)!==Mp[n])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(e){switch(e){case ic.RGBA:return ic.RGBA_INTEGER;case ic.RGB:return ic.RGB_INTEGER;case ic.RG:return ic.RG_INTEGER;case ic.RED:return ic.RED_INTEGER;default:return e}},e}(),Fp=function(e,t){return Fp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Fp(e,t)};function zp(e,t){function n(){this.constructor=e}Fp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}!function(e){function t(t,n,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=e.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=nc.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}zp(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Nc(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Vl);var Bp,Gp,Hp=function(){function e(e,t,n){this.geometry=new zh,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i=e[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||ac.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Ph(function(e,t){void 0===t&&(t=null);var n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(a=this.dynamicProperties[n]).offset=t,t+=a.size,this.dynamicStride+=a.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Ph(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(a=this.staticProperties[n]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Ph(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ac.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(n=0;n<this.staticProperties.length;++n){a=this.staticProperties[n];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ac.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},e.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===ac.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===ac.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),Vp=function(e){function t(t){var n=e.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new cl,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ac.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Cf.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=If.for2d(),n}return zp(t,e),t.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=Dc(e.blendMode,s.alphaMode),i.state.set(this.state);var u,c,l,h,f=i.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=(u=e.tintRgb,c=e.worldAlpha,l=this.shader.uniforms.uColor,h=s.alphaMode,l=l||new Float32Array(4),h||void 0===h?(l[0]=u[0]*c,l[1]=u[1]*c,l[2]=u[2]*c):(l[0]=u[0],l[1]=u[1],l[2]=u[2]),l[3]=c,l),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var p=!1,m=0,g=0;m<o;m+=r,g+=1){var v=o-m;v>r&&(v=r),g>=a.length&&a.push(this._generateOneMoreBuffer(e));var y=a[g];y.uploadDynamic(t,m,v);var b=e._bufferUpdateIDs[g]||0;(p=p||y._updateID<b)&&(y._updateID=e._updateID,y.uploadStatic(t,m,v)),i.geometry.bind(y.geometry),f.drawElements(f.TRIANGLES,6*v,f.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new Hp(this.properties,i,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new Hp(this.properties,n,t)},t.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,u=0,c=0,l=0;l<n;++l){var h=e[t+l],f=h._texture,d=h.scale.x,p=h.scale.y,m=f.trim,g=f.orig;m?(a=(s=m.x-h.anchor.x*g.width)+m.width,u=(c=m.y-h.anchor.y*g.height)+m.height):(a=g.width*(1-h.anchor.x),s=g.width*-h.anchor.x,u=g.height*(1-h.anchor.y),c=g.height*-h.anchor.y),r[o]=s*d,r[o+1]=c*p,r[o+i]=a*d,r[o+i+1]=c*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},t.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],u=s._texture.baseTexture.alphaMode>0,c=s.alpha,l=c<1&&u?Oc(s._tintRGB,c):s._tintRGB+(255*c<<24);r[o]=l,r[o+i]=l,r[o+2*i]=l,r[o+3*i]=l,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(qh);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(Bp||(Bp={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(Gp||(Gp={}));var Yp={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Wp=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Ih.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ih.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),Xp=function(e,t){return Xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Xp(e,t)};function Qp(e,t){function n(){this.constructor=e}Xp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function qp(e,t){var n,r;void 0===t&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,s=e[i-2],u=e[i-1];a<i;a+=2){var c=e[a],l=e[a+1];o+=(c-s)*(l+u),s=c,u=l}if(!t&&o>0||t&&o<=0){var h=i/2;for(a=h+h%2;a<i;a+=2){var f=i-a-2,d=i-a-1,p=a,m=a+1;n=[e[p],e[f]],e[f]=n[0],e[p]=n[1],r=[e[m],e[d]],e[d]=r[0],e[m]=r[1]}}}}var Kp={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){qp(n,!1);for(var a=[],s=0;s<r.length;s++){var u=r[s];qp(u.points,!0),a.push(n.length/2),n=n.concat(u.points)}var c=wc()(n,a,2);if(!c)return;var l=i.length/2;for(s=0;s<c.length;s+=3)o.push(c[s]+l),o.push(c[s+1]+l),o.push(c[s+2]+l);for(s=0;s<n.length;s++)i.push(n[s])}}},Zp={build:function(e){var t,n,r,i,o,a,s=e.points;if(e.type===Zc.CIRC){var u=e.shape;t=u.x,n=u.y,o=a=u.radius,r=i=0}else if(e.type===Zc.ELIP){var c=e.shape;t=c.x,n=c.y,o=c.width,a=c.height,r=i=0}else{var l=e.shape,h=l.width/2,f=l.height/2;t=l.x+h,n=l.y+f,r=h-(o=a=Math.max(0,Math.min(l.radius,Math.min(h,f)))),i=f-a}var d=Math.ceil(2.3*Math.sqrt(o+a)),p=8*d+(r?4:0)+(i?4:0);if(s.length=p,0!==p){if(0===d)return s.length=8,s[0]=s[6]=t+r,s[1]=s[3]=n+i,s[2]=s[4]=t-r,void(s[5]=s[7]=n-i);var m=0,g=4*d+(r?2:0)+2,v=g,y=p,b=t+(_=r+o),x=t-_,E=n+(T=i);if(s[m++]=b,s[m++]=E,s[--g]=E,s[--g]=x,i){var w=n-T;s[v++]=x,s[v++]=w,s[--y]=w,s[--y]=b}for(var M=1;M<d;M++){var A=Math.PI/2*(M/d);b=t+(_=r+Math.cos(A)*o),x=t-_,E=n+(T=i+Math.sin(A)*a),w=n-T;s[m++]=b,s[m++]=E,s[--g]=E,s[--g]=x,s[v++]=x,s[v++]=w,s[--y]=w,s[--y]=b}var _,T;b=t+(_=r),x=t-_,E=n+(T=i+a),w=n-T;s[m++]=b,s[m++]=E,s[--y]=w,s[--y]=b,r&&(s[m++]=x,s[m++]=E,s[--y]=w,s[--y]=x)}},triangulate:function(e,t){var n,r,i=e.points,o=t.points,a=t.indices,s=o.length/2,u=s;if(e.type!==Zc.RREC){var c=e.shape;n=c.x,r=c.y}else{var l=e.shape;n=l.x+l.width/2,r=l.y+l.height/2}var h=e.matrix;o.push(e.matrix?h.a*n+h.c*r+h.tx:n,e.matrix?h.b*n+h.d*r+h.ty:r),s++,o.push(i[0],i[1]);for(var f=2;f<i.length;f+=2)o.push(i[f],i[f+1]),a.push(s++,u,s);a.push(u+1,u,s)}},Jp={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function $p(e,t,n){return e+(t-e)*n}function em(e,t,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0;p<=20;++p)u=$p(e,n,m=p/20),c=$p(t,r,m),l=$p(n,i,m),h=$p(r,o,m),f=$p(u,l,m),d=$p(c,h,m),0===p&&s[s.length-2]===f&&s[s.length-1]===d||s.push(f,d);return s}var tm={build:function(e){if(xm.nextRoundedRectBehavior)Zp.build(e);else{var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(em(r,i+s,r,i,r+s,i,n),em(r+o-s,i,r+o,i,r+o,i+s,n),em(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),em(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)}},triangulate:function(e,t){if(xm.nextRoundedRectBehavior)Zp.triangulate(e,t);else{for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=wc()(n,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,u=n.length;s<u;s++)r.push(n[s],n[++s])}}};function nm(e,t,n,r,i,o,a,s){var u,c;a?(u=r,c=-n):(u=-r,c=n);var l=e-n*i+u,h=t-r*i+c,f=e+n*o+u,d=t+r*o+c;return s.push(l,h),s.push(f,d),2}function rm(e,t,n,r,i,o,a,s){var u=n-e,c=r-t,l=Math.atan2(u,c),h=Math.atan2(i-e,o-t);s&&l<h?l+=2*Math.PI:!s&&l>h&&(h+=2*Math.PI);var f=l,d=h-l,p=Math.abs(d),m=Math.sqrt(u*u+c*c),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=d/g;if(f+=v,s){a.push(e,t),a.push(n,r);for(var y=1,b=f;y<g;y++,b+=v)a.push(e,t),a.push(e+Math.sin(b)*m,t+Math.cos(b)*m);a.push(e,t),a.push(i,o)}else{a.push(n,r),a.push(e,t);for(y=1,b=f;y<g;y++,b+=v)a.push(e+Math.sin(b)*m,t+Math.cos(b)*m),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*g}function im(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==Zc.POLY||r.closeStroke;if(0!==i.length){var a=t.points,s=t.indices,u=i.length/2,c=a.length/2,l=c;for(a.push(i[0],i[1]),n=1;n<u;n++)a.push(i[2*n],i[2*n+1]),s.push(l,l+1),l++;o&&s.push(l,c)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var o=e.lineStyle,a=new tl(r[0],r[1]),s=new tl(r[r.length-2],r[r.length-1]),u=n.type!==Zc.POLY||n.closeStroke,c=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){r=r.slice(),c&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var l=.5*(a.x+s.x),h=.5*(s.y+a.y);r.unshift(l,h),r.push(l,h)}var f=t.points,d=r.length/2,p=r.length,m=f.length/2,g=o.width/2,v=g*g,y=o.miterLimit*o.miterLimit,b=r[0],x=r[1],E=r[2],w=r[3],M=0,A=0,_=-(x-w),T=b-E,S=0,N=0,C=Math.sqrt(_*_+T*T);_/=C,T/=C,_*=g,T*=g;var I=o.alignment,L=2*(1-I),D=2*I;u||(o.cap===Gp.ROUND?p+=rm(b-_*(L-D)*.5,x-T*(L-D)*.5,b-_*L,x-T*L,b+_*D,x+T*D,f,!0)+2:o.cap===Gp.SQUARE&&(p+=nm(b,x,_,T,L,D,!0,f))),f.push(b-_*L,x-T*L),f.push(b+_*D,x+T*D);for(var O=1;O<d-1;++O){b=r[2*(O-1)],x=r[2*(O-1)+1],E=r[2*O],w=r[2*O+1],M=r[2*(O+1)],A=r[2*(O+1)+1],_=-(x-w),T=b-E,_/=C=Math.sqrt(_*_+T*T),T/=C,_*=g,T*=g,S=-(w-A),N=E-M,S/=C=Math.sqrt(S*S+N*N),N/=C,S*=g,N*=g;var R=E-b,P=x-w,j=E-M,k=A-w,U=P*j-k*R,F=U<0;if(Math.abs(U)<.1)f.push(E-_*L,w-T*L),f.push(E+_*D,w+T*D);else{var z=(-_+b)*(-T+w)-(-_+E)*(-T+x),B=(-S+M)*(-N+w)-(-S+E)*(-N+A),G=(R*B-j*z)/U,H=(k*z-P*B)/U,V=(G-E)*(G-E)+(H-w)*(H-w),Y=E+(G-E)*L,W=w+(H-w)*L,X=E-(G-E)*D,Q=w-(H-w)*D,q=F?L:D;V<=Math.min(R*R+P*P,j*j+k*k)+q*q*v?o.join===Bp.BEVEL||V/v>y?(F?(f.push(Y,W),f.push(E+_*D,w+T*D),f.push(Y,W),f.push(E+S*D,w+N*D)):(f.push(E-_*L,w-T*L),f.push(X,Q),f.push(E-S*L,w-N*L),f.push(X,Q)),p+=2):o.join===Bp.ROUND?F?(f.push(Y,W),f.push(E+_*D,w+T*D),p+=rm(E,w,E+_*D,w+T*D,E+S*D,w+N*D,f,!0)+4,f.push(Y,W),f.push(E+S*D,w+N*D)):(f.push(E-_*L,w-T*L),f.push(X,Q),p+=rm(E,w,E-_*L,w-T*L,E-S*L,w-N*L,f,!1)+4,f.push(E-S*L,w-N*L),f.push(X,Q)):(f.push(Y,W),f.push(X,Q)):(f.push(E-_*L,w-T*L),f.push(E+_*D,w+T*D),o.join===Bp.BEVEL||V/v>y||(o.join===Bp.ROUND?p+=F?rm(E,w,E+_*D,w+T*D,E+S*D,w+N*D,f,!0)+2:rm(E,w,E-_*L,w-T*L,E-S*L,w-N*L,f,!1)+2:(F?(f.push(X,Q),f.push(X,Q)):(f.push(Y,W),f.push(Y,W)),p+=2)),f.push(E-S*L,w-N*L),f.push(E+S*D,w+N*D),p+=2)}}b=r[2*(d-2)],x=r[2*(d-2)+1],E=r[2*(d-1)],_=-(x-(w=r[2*(d-1)+1])),T=b-E,_/=C=Math.sqrt(_*_+T*T),T/=C,_*=g,T*=g,f.push(E-_*L,w-T*L),f.push(E+_*D,w+T*D),u||(o.cap===Gp.ROUND?p+=rm(E-_*(L-D)*.5,w-T*(L-D)*.5,E-_*L,w-T*L,E+_*D,w+T*D,f,!1)+2:o.cap===Gp.SQUARE&&(p+=nm(E,w,_,T,L,D,!1,f)));var K=t.indices,Z=Yp.epsilon*Yp.epsilon;for(O=m;O<p+m-2;++O)b=f[2*O],x=f[2*O+1],E=f[2*(O+1)],w=f[2*(O+1)+1],M=f[2*(O+2)],A=f[2*(O+2)+1],Math.abs(b*(w-A)+E*(A-x)+M*(x-w))<Z||K.push(O,O+1,O+2)}}(e,t)}var om,am=function(){function e(){}return e.curveTo=function(e,t,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-t,u=a-e,c=r-t,l=n-e,h=Math.abs(s*l-u*c);if(h<1e-8||0===i)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var f=s*s+u*u,d=c*c+l*l,p=s*c+u*l,m=i*Math.sqrt(f)/h,g=i*Math.sqrt(d)/h,v=m*p/f,y=g*p/d,b=m*l+g*u,x=m*c+g*s,E=u*(g+v),w=s*(g+v),M=l*(m+y),A=c*(m+y);return{cx:b+e,cy:x+t,radius:i,startAngle:Math.atan2(w-x,E-b),endAngle:Math.atan2(A-x,M-b),anticlockwise:u*c>l*s}},e.arc=function(e,t,n,r,i,o,a,s,u){for(var c=a-o,l=Yp._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/Jc)),h=c/(2*l),f=2*h,d=Math.cos(h),p=Math.sin(h),m=l-1,g=m%1/m,v=0;v<=m;++v){var y=h+o+f*(v+g*v),b=Math.cos(y),x=-Math.sin(y);u.push((d*b+p*x)*i+n,(d*-x+p*b)*i+r)}},e}(),sm=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o,a,s){for(var u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0,b=e,x=t,E=1;E<=10;++E)v=b-(m=(p=(d=(f=1-(c=E/10))*f)*f)*e+3*d*c*n+3*f*(l=c*c)*i+(h=l*c)*a),y=x-(g=p*t+3*d*c*r+3*f*l*o+h*s),b=m,x=g,u+=Math.sqrt(v*v+y*y);return u},e.curveTo=function(t,n,r,i,o,a,s){var u=s[s.length-2],c=s[s.length-1];s.length-=2;var l=Yp._segmentsCount(e.curveLength(u,c,t,n,r,i,o,a)),h=0,f=0,d=0,p=0,m=0;s.push(u,c);for(var g=1,v=0;g<=l;++g)d=(f=(h=1-(v=g/l))*h)*h,m=(p=v*v)*v,s.push(d*u+3*f*v*t+3*h*p*r+m*o,d*c+3*f*v*n+3*h*p*i+m*a)},e}(),um=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,u=2*n-2*e,c=2*r-2*t,l=4*(a*a+s*s),h=4*(a*u+s*c),f=u*u+c*c,d=2*Math.sqrt(l+h+f),p=Math.sqrt(l),m=2*l*p,g=2*Math.sqrt(f),v=h/p;return(m*d+p*h*(d-g)+(4*f*l-h*h)*Math.log((2*p+v+d)/(v+g)))/(4*m)},e.curveTo=function(t,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=Yp._segmentsCount(e.curveLength(a,s,t,n,r,i)),c=0,l=0,h=1;h<=u;++h){var f=h/u;c=a+(t-a)*f,l=s+(n-s)*f,o.push(c+(t+(r-t)*f-c)*f,l+(n+(i-n)*f-l)*f)}},e}(),cm=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),lm=((om={})[Zc.POLY]=Kp,om[Zc.CIRC]=Zp,om[Zc.ELIP]=Zp,om[Zc.RECT]=Jp,om[Zc.RREC]=tm,om),hm=[],fm=[],dm=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),pm=new tl,mm=new bl,gm=function(e){function t(){var t=e.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new bl,t.boundsDirty=-1,t}return Qp(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),fm.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),hm.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new dm(e,t,n,r);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var n=new dm(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,pm):pm.copyFrom(e),r.shape.contains(pm.x,pm.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(pm.x,pm.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,u=a.lineStyle;lm[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||u.visible)&&this.processHoles(a.holes);for(var c=0;c<2;c++){var l=0===c?s:u;if(l.visible){var h=l.texture.baseTexture,f=this.indices.length,d=this.points.length/2;h.wrapMode=cc.REPEAT,0===c?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(r&&!this._compareStyles(i,l)&&(r.end(f,d),r=null),r||((r=hm.pop()||new cm).begin(l,f,d),this.batches.push(r),i=l),this.addUvs(this.points,t,l.texture,d,p,l.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(r&&r.end(m,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var v=g>65535&&e;this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native===!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++dh._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),fm.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=fm.pop();i||((i=new ld).texArray=new hd),i.texArray.count=0,i.start=0,i.size=0,i.type=rc.TRIANGLES;var o=0,a=null,s=0,u=!1,c=rc.TRIANGLES,l=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var h=this.batches[t],f=h.style,d=f.texture.baseTexture;u!==!!f.native&&(c=(u=!!f.native)?rc.LINES:rc.TRIANGLES,a=null,o=8,e++),a!==d&&(a=d,d._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=fm.pop())||((i=new ld).texArray=new hd),this.drawCalls.push(i)),i.start=l,i.size=0,i.texArray.count=0,i.type=c),d.touched=1,d._batchEnabled=e,d._batchLocation=o,d.wrapMode=cc.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=h.size,l+=h.size,s=d._batchLocation,this.addColors(n,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}dh._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<e.length/2;u++)o[s++]=e[2*u],o[s++]=e[2*u+1],o[s++]=t[2*u],o[s++]=t[2*u+1],a[s++]=n[u],o[s++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?Kp.triangulate(e,this):lm[e.type].triangulate(e,this)},t.prototype.processLine=function(e){im(e,this);for(var t=0;t<e.holes.length;t++)im(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];lm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=mm,n=cl.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,u=i.matrix||cl.IDENTITY,c=0;if(s&&s.visible&&(c=s.width,a!==Zc.POLY||i.fillStyle.visible?c*=Math.max(0,s.alignment):c*=Math.max(s.alignment,1-s.alignment)),n!==u&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=u),a===Zc.RECT||a===Zc.RREC){var l=o;t.addFramePad(l.x,l.y,l.x+l.width,l.y+l.height,c,c)}else if(a===Zc.CIRC){var h=o;t.addFramePad(h.x,h.y,h.x,h.y,h.radius+c,h.radius+c)}else if(a===Zc.ELIP){var f=o;t.addFramePad(f.x,f.y,f.x,f.y,f.width+c,f.height+c)}else{var d=o;e.addVerticesMatrix(n,d.points,0,d.points.length,c,c)}}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},t.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=Oc((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},t.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},t.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,u=n.frame;a<i;){var c=e[2*(r+a)],l=e[2*(r+a)+1];if(o){var h=o.a*c+o.c*l+o.tx;l=o.b*c+o.d*l+o.ty,c=h}a++,t.push(c/u.width,l/u.height)}var f=n.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(t,n,s,i)},t.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=1e-6,a=n+2*r,s=t.frame,u=s.width/i.width,c=s.height/i.height,l=s.x/s.width,h=s.y/s.height,f=Math.floor(e[n]+o),d=Math.floor(e[n+1]+o),p=n+2;p<a;p+=2)f=Math.min(f,Math.floor(e[p]+o)),d=Math.min(d,Math.floor(e[p+1]+o));l-=f,h-=d;for(p=n;p<a;p+=2)e[p]=(e[p]+l)*u,e[p+1]=(e[p+1]+h)*c},t.BATCHABLE_SIZE=100,t}(md),vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Gp.BUTT,t.join=Bp.MITER,t.miterLimit=10,t}return Qp(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(Wp),ym=new Float32Array(3),bm={},xm=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Wp,n._lineStyle=new vm,n._matrix=null,n._holeMode=!1,n.state=If.for2d(),n._geometry=t||new gm,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=nc.NORMAL,n}return Qp(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,t,n,r,i){return void 0===e&&(e=null),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),"number"===typeof e&&(e={width:e,color:t,alpha:n,alignment:r,native:i}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Ih.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Gp.BUTT,join:Bp.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new al,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new al,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),um.curveTo(e,t,n,r,i),this},t.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),sm.curveTo(e,t,n,r,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o=this.currentPath.points,a=am.curveTo(e,t,n,r,i,o);if(a){var s=a.cx,u=a.cy,c=a.radius,l=a.startAngle,h=a.endAngle,f=a.anticlockwise;this.arc(s,u,c,l,h,f)}return this},t.prototype.arc=function(e,t,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=Jc:o&&r<=i&&(r+=Jc),0===i-r)return this;var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,u=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var l=Math.abs(c[c.length-2]-a),h=Math.abs(c[c.length-1]-s);l<u&&h<u||c.push(a,s)}else this.moveTo(a,s),c=this.currentPath.points;return am.arc(a,s,e,t,n,r,i,o,c),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Ih.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Ih.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,n,r){return this.drawShape(new rl(e,t,n,r))},t.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new sl(e,t,n,r,i))},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new il(e,t,n))},t.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new ol(e,t,n,r))},t.prototype.drawPolygon=function(){for(var e,t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=!0,o=n[0];o.points?(i=o.closeStroke,e=o.points):e=Array.isArray(n[0])?n[0]:n;var a=new al(e);return a.closeStroke=i,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Zc.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,n=e.context.supports.uint32Indices;t.updateBatches(n),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:Nc(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!bm[n]){for(var r=e.plugins[n].MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new cl,default:Vh.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;bm[n]=new Cf(s,a)}t=bm[n]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Nc(this.tint,ym),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,i=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,u=this._geometry.points,c=this.vertexData,l=0,h=0;h<u.length;h+=2){var f=u[h],d=u[h+1];c[l++]=n*f+i*d+a,c[l++]=o*d+r*f+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new tl,t}(Vl),Em=function(e,t){return Em=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Em(e,t)};var wm,Mm=new tl,Am=new Uint16Array([0,1,2,0,2,3]),_m=function(e){function t(t){var n=e.call(this)||this;return n._anchor=new ul(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=nc.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||Ih.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=Am,n.pluginName="batch",n.isSprite=!0,n._roundPixels=yc.ROUND_PIXELS,n}return function(e,t){function n(){this.constructor=e}Em(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,u=this.vertexData,c=e.trim,l=e.orig,h=this._anchor,f=0,d=0,p=0,m=0;if(c?(f=(d=c.x-h._x*l.width)+c.width,p=(m=c.y-h._y*l.height)+c.height):(f=(d=-h._x*l.width)+l.width,p=(m=-h._y*l.height)+l.height),u[0]=n*d+i*m+a,u[1]=o*m+r*d+s,u[2]=n*f+i*m+a,u[3]=o*m+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s,this._roundPixels)for(var g=yc.RESOLUTION,v=0;v<u.length;++v)u[v]=Math.round((u[v]*g|0)/g)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,c=i.tx,l=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;t[0]=o*h+s*d+c,t[1]=u*d+a*h+l,t[2]=o*f+s*d+c,t[3]=u*d+a*f+l,t[4]=o*f+s*p+c,t[5]=u*p+a*f+l,t[6]=o*h+s*p+c,t[7]=u*p+a*h+l},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new bl),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new rl),t=this._localBoundsRect),this._localBounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Mm);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return Mm.x>=r&&Mm.x<r+t&&(i=-n*this.anchor.y,Mm.y>=i&&Mm.y<i+n)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof t?t:t&&t.texture){var n="boolean"===typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},t.from=function(e,n){return new t(e instanceof Ih?e:Ih.from(e,n))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=zc(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=zc(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Ih.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Vl),Tm=function(e,t){return Tm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Tm(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(wm||(wm={}));var Sm={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:wm.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Nm=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Cm=function(){function e(e){this.styleID=0,this.reset(),Dm(this,e,e)}return e.prototype.clone=function(){var t={};return Dm(t,this,Sm),new e(t)},e.prototype.reset=function(){Dm(this,Sm,Sm)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=Lm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=Lm(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=Lm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Nm.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function Im(e){return"number"===typeof e?Cc(e):("string"===typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function Lm(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=Im(e[t]);return e}return Im(e)}function Dm(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var Om=function(){function e(e,t,n,r,i,o,a,s,u){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}return e.measureText=function(t,n,r,i){void 0===i&&(i=e._canvas),r=void 0===r||null===r?n.wordWrap:r;var o=n.toFontString(),a=e.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var u=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(u.length),l=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;c[h]=f,l=Math.max(l,f)}var d=l+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new e(t,n,d,m,u,c,p+n.leading,l,a)},e.wordWrap=function(t,n,r){void 0===r&&(r=e._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",u=Object.create(null),c=n.letterSpacing,l=n.whiteSpace,h=e.collapseSpaces(l),f=e.collapseNewlines(l),d=!h,p=n.wordWrapWidth+c,m=e.tokenize(t),g=0;g<m.length;g++){var v=m[g];if(e.isNewline(v)){if(!f){s+=e.addLine(a),d=!h,a="",o=0;continue}v=" "}if(h){var y=e.isBreakingSpace(v),b=e.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var x=e.getFromCache(v,c,u,i);if(x>p)if(""!==a&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(v,n.breakWords))for(var E=e.wordWrapSplit(v),w=0;w<E.length;w++){for(var M=E[w],A=1;E[w+A];){var _=E[w+A],T=M[M.length-1];if(e.canBreakChars(T,_,v,w,n.breakWords))break;M+=_,A++}w+=M.length-1;var S=e.getFromCache(M,c,u,i);S+o>p&&(s+=e.addLine(a),d=!1,a="",o=0),a+=M,o+=S}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var N=g===m.length-1;s+=e.addLine(v,!N),d=!1,a="",o=0}else x+o>p&&(d=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(v)||d)&&(a+=v,o+=x)}return s+=e.addLine(a,!1)},e.addLine=function(t,n){return void 0===n&&(n=!0),t=e.trimRight(t),t=n?t+"\n":t},e.getFromCache=function(e,t,n,r){var i=n[e];if("number"!==typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!==typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"===typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,n){return"string"===typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if("string"!==typeof t)return n;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];e.isBreakingSpace(o,a)||e.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,n,r,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,u).data,l=c.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var m=0;m<h;m+=4)if(255!==c[d+m]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=l-h,p=!1,f=u;f>s;--f){for(m=0;m<h;m+=4)if(255!==c[d+m]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var n=new OffscreenCanvas(0,0),r=n.getContext("2d");if(r&&r.measureText)return e.__canvas=n,n;t=document.createElement("canvas")}catch(i){t=document.createElement("canvas")}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d")),e.__context},enumerable:!1,configurable:!0}),e}();Om._fonts={},Om.METRICS_STRING="|\xc9q\xc5",Om.BASELINE_SYMBOL="M",Om.BASELINE_MULTIPLIER=1.4,Om.HEIGHT_MULTIPLIER=2,Om._newlines=[10,13],Om._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Rm={texture:!0,children:!1,baseTexture:!0},Pm=function(e){function t(t,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Ih.from(r);return a.orig=new rl,a.trim=new rl,(i=e.call(this,a)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=yc.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=n,i.localStyleID=-1,i}return function(e,t){function n(){this.constructor=e}Tm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!e){this._font=this._style.toFontString();var r,i,o=this.context,a=Om.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,u=a.height,c=a.lines,l=a.lineHeight,h=a.lineWidths,f=a.maxLineWidth,d=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+2*n.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=n.strokeThickness,o.textBaseline=n.textBaseline,o.lineJoin=n.lineJoin,o.miterLimit=n.miterLimit;for(var p=n.dropShadow?2:1,m=0;m<p;++m){var g=n.dropShadow&&0===m,v=g?Math.ceil(Math.max(1,u)+2*n.padding):0,y=v*this._resolution;if(g){o.fillStyle="black",o.strokeStyle="black";var b=n.dropShadowColor,x=Nc("number"===typeof b?b:Ic(b)),E=n.dropShadowBlur*this._resolution,w=n.dropShadowDistance*this._resolution;o.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+n.dropShadowAlpha+")",o.shadowBlur=E,o.shadowOffsetX=Math.cos(n.dropShadowAngle)*w,o.shadowOffsetY=Math.sin(n.dropShadowAngle)*w+y}else o.fillStyle=this._generateFillStyle(n,c,a),o.strokeStyle=n.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var M=(l-d.fontSize)/2;(!t.nextLineHeightBehavior||l-d.fontSize<0)&&(M=0);for(var A=0;A<c.length;A++)r=n.strokeThickness/2,i=n.strokeThickness/2+A*l+d.ascent+M,"right"===n.align?r+=f-h[A]:"center"===n.align&&(r+=(f-h[A])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[A],r+n.padding,i+n.padding-v,!0),n.fill&&this.drawLetterSpacing(c[A],r+n.padding,i+n.padding-v)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,n,r,i){void 0===i&&(i=!1);var o=this._style.letterSpacing,a=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===o||a)return a&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),void(i?this.context.strokeText(e,n,r):this.context.fillText(e,n,r));for(var s=n,u=Array.from?Array.from(e):e.split(""),c=this.context.measureText(e).width,l=0,h=0;h<u.length;++h){var f=u[h];i?this.context.strokeText(f,s,r):this.context.fillText(f,s,r);for(var d="",p=h+1;p<u.length;++p)d+=u[p];s+=c-(l=this.context.measureText(d).width)+o,c=l}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=function(e){var t,n,r,i=e.width,o=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,i,o).data,u=s.length,c={top:null,left:null,right:null,bottom:null},l=null;for(t=0;t<u;t+=4)0!==s[t+3]&&(n=t/4%i,r=~~(t/4/i),null===c.top&&(c.top=r),(null===c.left||n<c.left)&&(c.left=n),(null===c.right||c.right<n)&&(c.right=n+1),(null===c.bottom||c.bottom<r)&&(c.bottom=r));return null!==c.top&&(i=c.right-c.left,o=c.bottom-c.top+1,l=a.getImageData(c.left,c.top,i,o)),{height:o,width:i,data:l}}(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,s=this.canvas.width/this._resolution-o-2*a,u=this.canvas.height/this._resolution-o-2*a,c=i.slice(),l=e.fillGradientStops.slice();if(!l.length)for(var h=c.length+1,f=1;f<h;++f)l.push(f/h);if(c.unshift(i[0]),l.unshift(0),c.push(i[i.length-1]),l.push(1),e.fillGradientType===wm.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,a,s/2,u+a);var d=n.fontProperties.fontSize+e.strokeThickness;for(f=0;f<t.length;f++){var p=n.lineHeight*(f-1)+d,m=n.lineHeight*f,g=m;f>0&&p>m&&(g=(m+p)/2);var v=m+d,y=n.lineHeight*(f+1),b=v;f+1<t.length&&y<v&&(b=(v+y)/2);for(var x=(b-g)/u,E=0;E<c.length;E++){var w=0;w="number"===typeof l[E]?l[E]:E/c.length;var M=Math.min(1,Math.max(0,g/u+w*x));M=Number(M.toFixed(5)),r.addColorStop(M,c[E])}}}else{r=this.context.createLinearGradient(a,u/2,s+a,u/2);var A=c.length+1,_=1;for(f=0;f<c.length;f++){var T=void 0;T="number"===typeof l[f]?l[f]:_/A,r.addColorStop(T,c[f]),_++}}return r},t.prototype.destroy=function(t){"boolean"===typeof t&&(t={children:t}),t=Object.assign({},Rm,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=zc(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=zc(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof Cm?e:new Cm(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(_m);yc.UPLOADS_PER_FRAME=4;var jm=function(e,t){return jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},jm(e,t)};var km=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function Um(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof Ih){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),n=!0)}return n}function Fm(e,t){if(e.baseTexture instanceof dh){var n=e.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function zm(e,t){if(e._texture&&e._texture instanceof Ih){var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Bm(e,t){return t instanceof Pm&&(t.updateText(!0),!0)}function Gm(e,t){if(t instanceof Cm){var n=t.toFontString();return Om.measureFont(n),!0}return!1}function Hm(e,t){if(e instanceof Pm){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function Vm(e,t){return e instanceof Cm&&(-1===t.indexOf(e)&&t.push(e),!0)}function Ym(e,t){return t instanceof dh&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Wm(e,t){if(!(t instanceof xm))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Ym(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Xm(e,t){return e instanceof xm&&(t.push(e),!0)}var Qm=function(e){function t(t){var n=e.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Xm),n.registerUploadHook(Ym),n.registerUploadHook(Wm),n}return function(e,t){function n(){this.constructor=e}jm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(function(){function e(e){var t=this;this.limiter=new km(yc.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(Hm),this.registerFindHook(Vm),this.registerFindHook(Um),this.registerFindHook(Fm),this.registerFindHook(zm),this.registerUploadHook(Bm),this.registerUploadHook(Gm)}return e.prototype.upload=function(e,t){"function"===typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Ql.system.addOnce(this.tick,this,Yl.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ql.system.addOnce(this.tick,this,Yl.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Vl)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Ql.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}()),qm=(function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function e(e,t,n){void 0===n&&(n=null),this._texture=e instanceof Ih?e:null,this.baseTexture=e instanceof dh?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,n=Kc(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new rl(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s=o.rotated?new rl(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new rl(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new rl(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Ih(this.baseTexture,s,l,u,o.rotated?2:0,o.anchor),Ih.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}()),Km=function(){function e(){}return e.use=function(t,n){var r,i,o=this,a=t.name+"_image";if(t.data&&t.type===Ud.TYPE.JSON&&t.data.frames&&!o.resources[a]){var s=null===(i=null===(r=t.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(e){if("string"!==typeof e)return"continue";var n=e.replace(".json",""),r=Ac.resolve(t.url.replace(o.baseUrl,""),e);if(o.resources[n]||Object.values(o.resources).some((function(e){return Ac.format(Ac.parse(e.url))===r})))return"continue";var i={crossOrigin:t.crossOrigin,loadType:Ud.LOAD_TYPE.XHR,xhrType:Ud.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(n,r,i)},c=0,l=s;c<l.length;c++){u(l[c])}var h={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},f=e.getResourcePath(t,o.baseUrl);o.add(a,f,h,(function(e){if(e.error)n(e.error);else{var r=new qm(e.texture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,n()}))}}))}else n()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:Ac.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),Zm=function(e,t){return Zm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zm(e,t)};function Jm(e,t){function n(){this.constructor=e}Zm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $m=new tl,eg=(function(e){function t(t,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=e.call(this,t)||this;return i.tileTransform=new yl,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new Of(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}Jm(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new rl),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,$m);var t=this._width,n=this._height,r=-t*this.anchor._x;if($m.x>=r&&$m.x<r+t){var i=-n*this.anchor._y;if($m.y>=i&&$m.y<i+n)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){return new t(e instanceof Ih?e:Ih.from(e,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(_m),"#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),tg=new cl,ng=function(e){function t(t){var n=e.call(this,t)||this;return t.runners.contextChange.add(n),n.quad=new Gh,n.state=If.for2d(),n}return Jm(t,e),t.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Cf.from(eg,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?Cf.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):Cf.from(eg,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)},t.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-o,r[2]=r[4]=1-i,r[5]=r[7]=1-o,n.invalidate();var a=e._texture,s=a.baseTexture,u=e.tileTransform.localTransform,c=e.uvMatrix,l=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;l&&(s._glTextures[t.CONTEXT_UID]?l=s.wrapMode!==cc.CLAMP:s.wrapMode===cc.CLAMP&&(s.wrapMode=cc.REPEAT));var h=l?this.simpleShader:this.shader,f=a.width,d=a.height,p=e._width,m=e._height;tg.set(u.a*f/p,u.b*f/m,u.c*d/p,u.d*d/m,u.tx/p,u.ty/m),tg.invert(),l?tg.prepend(c.mapCoord):(h.uniforms.uMapCoord=c.mapCoord.toArray(!0),h.uniforms.uClampFrame=c.uClampFrame,h.uniforms.uClampOffset=c.uClampOffset),h.uniforms.uTransform=tg.toArray(!0),h.uniforms.uColor=Rc(e.tint,e.worldAlpha,h.uniforms.uColor,s.alphaMode),h.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),h.uniforms.uSampler=a,t.shader.bind(h),t.geometry.bind(n),this.state.blendMode=Dc(e.blendMode,s.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(qh),rg=function(e,t){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},rg(e,t)};function ig(e,t){function n(){this.constructor=e}rg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var og=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),ag=new tl,sg=new al,ug=function(e){function t(t,n,r,i){void 0===i&&(i=rc.TRIANGLES);var o=e.call(this)||this;return o.geometry=t,o.shader=n,o.state=r||If.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=yc.ROUND_PIXELS,o.batchUvs=null,o}return ig(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===rc.TRIANGLES&&n.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,u=r.tx,c=r.ty,l=this.vertexData,h=0;h<l.length/2;h++){var f=t[2*h],d=t[2*h+1];l[2*h]=i*f+a*d+u,l[2*h+1]=o*f+s*d+c}if(this._roundPixels){var p=yc.RESOLUTION;for(h=0;h<l.length;++h)l[h]=Math.round((l[h]*p|0)/p)}this.vertexDirty=n}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new og(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,ag);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=sg.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],u=2*r[a+1],c=2*r[a+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[u],n[3]=t[u+1],n[4]=t[c],n[5]=t[c+1],sg.contains(ag.x,ag.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Vl),cg=function(e){function t(t,n){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:cl.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=e.call(this,n.program||Nf.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new Of(t),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return ig(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Rc(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Cf),lg=function(e){function t(t,n,r){var i=e.call(this)||this,o=new Ph(t),a=new Ph(n,!0),s=new Ph(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,ac.FLOAT).addAttribute("aTextureCoord",a,2,!1,ac.FLOAT).addIndex(s),i._updateId=-1,i}return ig(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(zh),hg=function(e,t){return hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},hg(e,t)};var fg=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},dg=function(){function e(){}return e.test=function(e){return"string"===typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],o=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),c=u[0],l=u[1].replace(/"/gm,""),h=parseFloat(l),f=isNaN(h)?l:h;a[c]=f}n[i].push(a)}var d=new fg;return n.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),n.distanceField.forEach((function(e){return d.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),d},e}(),pg=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new fg,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),s=e.getElementsByTagName("distanceField"),u=0;u<n.length;u++)t.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(u=0;u<r.length;u++)t.common.push({lineHeight:parseInt(r[u].getAttribute("lineHeight"),10)});for(u=0;u<i.length;u++)t.page.push({id:parseInt(i[u].getAttribute("id"),10)||0,file:i[u].getAttribute("file")});for(u=0;u<o.length;u++){var c=o[u];t.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(u=0;u<a.length;u++)t.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(u=0;u<s.length;u++)t.distanceField.push({fieldType:s[u].getAttribute("fieldType"),distanceRange:parseInt(s[u].getAttribute("distanceRange"),10)});return t},e}(),mg=function(){function e(){}return e.test=function(e){if("string"===typeof e&&e.indexOf("<font>")>-1){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return pg.test(t)}return!1},e.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return pg.parse(t)},e}(),gg=[dg,pg,mg];function vg(e){for(var t=0;t<gg.length;t++)if(gg[t].test(e))return gg[t];return null}function yg(e,t,n,r,i,o,a){var s=n.text,u=n.fontProperties;t.translate(r,i),t.scale(o,o);var c=a.strokeThickness/2,l=-a.strokeThickness/2;if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=function(e,t,n,r,i,o){var a,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,l=e.width/r-u-2*c,h=e.height/r-u-2*c,f=s.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,m=1;m<p;++m)d.push(m/p);if(f.unshift(s[0]),d.unshift(0),f.push(s[s.length-1]),d.push(1),n.fillGradientType===wm.LINEAR_VERTICAL){a=t.createLinearGradient(l/2,c,l/2,h+c);var g=0,v=(o.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var y=o.lineHeight*m,b=0;b<f.length;b++){var x=y/h+("number"===typeof d[b]?d[b]:b/f.length)*v,E=Math.max(g,x);E=Math.min(E,1),a.addColorStop(E,f[b]),g=E}}else{a=t.createLinearGradient(c,h/2,l+c,h/2);var w=f.length+1,M=1;for(m=0;m<f.length;m++){var A=void 0;A="number"===typeof d[m]?d[m]:M/w,a.addColorStop(A,f[m]),M++}}return a}(e,t,a,o,[s],n),t.strokeStyle=a.stroke,a.dropShadow){var h=a.dropShadowColor,f=Nc("number"===typeof h?h:Ic(h)),d=a.dropShadowBlur*o,p=a.dropShadowDistance*o;t.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+a.dropShadowAlpha+")",t.shadowBlur=d,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*p,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,c,l+n.lineHeight-u.descent),a.fill&&t.fillText(s,c,l+n.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function bg(e){return Array.from?Array.from(e):e.split("")}function xg(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Eg=function(){function e(e,t,n){var r,i,o=e.info[0],a=e.common[0],s=e.page[0],u=e.distanceField[0],c=Kc(s.file),l={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/c,this.chars={},this.pageTextures=l;for(var h=0;h<e.page.length;h++){var f=e.page[h],d=f.id,p=f.file;l[d]=t instanceof Array?t[h]:t[p],(null===u||void 0===u?void 0:u.fieldType)&&"none"!==u.fieldType&&(l[d].baseTexture.alphaMode=hc.NO_PREMULTIPLIED_ALPHA)}for(h=0;h<e.char.length;h++){var m=e.char[h],g=(d=m.id,m.page),v=e.char[h],y=v.x,b=v.y,x=v.width,E=v.height,w=v.xoffset,M=v.yoffset,A=v.xadvance;b/=c,x/=c,E/=c,w/=c,M/=c,A/=c;var _=new rl((y/=c)+l[g].frame.x/c,b+l[g].frame.y/c,x,E);this.chars[d]={xOffset:w,yOffset:M,xAdvance:A,kerning:{},texture:new Ih(l[g].baseTexture,_),page:g}}for(h=0;h<e.kerning.length;h++){var T=e.kerning[h],S=T.first,N=T.second,C=T.amount;S/=c,N/=c,C/=c,this.chars[N]&&(this.chars[N].kerning[S]=C)}this.distanceFieldRange=null===u||void 0===u?void 0:u.distanceRange,this.distanceFieldType=null!==(i=null===(r=null===u||void 0===u?void 0:u.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==i?i:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof fg)i=t;else{var o=vg(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof Ih&&(n=[n]);var a=new e(i,n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,c=i.textureHeight,l=function(e){"string"===typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,bg(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),h=n instanceof Cm?n:new Cm(n),f=u,d=new fg;d.info[0]={face:h.fontFamily,size:h.fontSize},d.common[0]={lineHeight:h.fontSize};for(var p,m,g,v=0,y=0,b=0,x=[],E=0;E<l.length;E++){p||((p=document.createElement("canvas")).width=u,p.height=c,m=p.getContext("2d"),g=new dh(p,{resolution:s}),x.push(new Ih(g)),d.page.push({id:x.length-1,file:""}));var w=Om.measureText(l[E],h,!1,p),M=w.width,A=Math.ceil(w.height),_=Math.ceil(("italic"===h.fontStyle?2:1)*M);if(y>=c-A*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+h.fontSize+"px fonts");--E,p=null,m=null,g=null,y=0,v=0,b=0}else if(b=Math.max(A+w.fontProperties.descent,b),_*s+v>=f)--E,y+=b*s,y=Math.ceil(y),v=0,b=0;else{yg(p,m,w,v,y,s,h);var T=xg(w.text);d.char.push({id:T,page:x.length-1,x:v/s,y:y/s,width:_,height:A,xoffset:0,yoffset:0,xadvance:Math.ceil(M-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),v+=(_+2*a)*s,v=Math.ceil(v)}}E=0;for(var S=l.length;E<S;E++)for(var N=l[E],C=0;C<S;C++){var I=l[C],L=m.measureText(N).width,D=m.measureText(I).width,O=m.measureText(N+I).width-(L+D);O&&d.kerning.push({first:xg(N),second:xg(I),amount:O})}var R=new e(d,x,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=R,R},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),wg=[],Mg=[],Ag=[],_g=(function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,r),a=o.align,s=o.tint,u=o.maxWidth,c=o.letterSpacing,l=o.fontName,h=o.fontSize;if(!Eg.available[l])throw new Error('Missing BitmapFont "'+l+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=l,i._fontSize=h||Eg.available[l].size,i.text=n,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new ul((function(){i.dirty=!0}),i,0,0),i._roundPixels=yc.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}(function(e,t){function n(){this.constructor=e}hg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.updateText=function(){for(var e,t=Eg.available[this._fontName],n=this._fontSize/t.size,r=new tl,i=[],o=[],a=[],s=bg(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),u=this._maxWidth*t.size/this._fontSize,c="none"===t.distanceFieldType?wg:Mg,l=null,h=0,f=0,d=0,p=-1,m=0,g=0,v=0,y=0,b=0;b<s.length;b++){var x=xg(z=s[b]);if(/(?:\s)/.test(z)&&(p=b,m=h,y++),"\r"!==z&&"\n"!==z){var E=t.chars[x];if(E){l&&E.kerning[l]&&(r.x+=E.kerning[l]);var w=Ag.pop()||{texture:Ih.EMPTY,line:0,charCode:0,prevSpaces:0,position:new tl};w.texture=E.texture,w.line=d,w.charCode=x,w.position.x=r.x+E.xOffset+this._letterSpacing/2,w.position.y=r.y+E.yOffset,w.prevSpaces=y,i.push(w),h=w.position.x+Math.max(E.xAdvance,E.texture.orig.width),r.x+=E.xAdvance+this._letterSpacing,v=Math.max(v,E.yOffset+E.texture.height),l=x,-1!==p&&u>0&&r.x>u&&(Fc(i,1+p-++g,1+b-p),b=p,p=-1,o.push(m),a.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,m),d++,r.x=0,r.y+=t.lineHeight,l=null,y=0)}}else o.push(h),a.push(-1),f=Math.max(f,h),++d,++g,r.x=0,r.y+=t.lineHeight,l=null,y=0}var M=s[s.length-1];"\r"!==M&&"\n"!==M&&(/(?:\s)/.test(M)&&(h=m),o.push(h),f=Math.max(f,h),a.push(-1));var A=[];for(b=0;b<=d;b++){var _=0;"right"===this._align?_=f-o[b]:"center"===this._align?_=(f-o[b])/2:"justify"===this._align&&(_=a[b]<0?0:(f-o[b])/a[b]),A.push(_)}var T=i.length,S={},N=[],C=this._activePagesMeshData;for(b=0;b<C.length;b++)c.push(C[b]);for(b=0;b<T;b++){var I=(G=i[b].texture).baseTexture.uid;if(!S[I]){if(!(q=c.pop())){var L=new lg,D=void 0,O=void 0;"none"===t.distanceFieldType?(D=new cg(Ih.EMPTY),O=nc.NORMAL):(D=new cg(Ih.EMPTY,{program:Nf.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),O=nc.NORMAL_NPM);var R=new ug(L,D);R.blendMode=O,q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:R,vertices:null,uvs:null,indices:null}}q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0;var P=this._textureCache;P[I]=P[I]||new Ih(G.baseTexture),q.mesh.texture=P[I],q.mesh.tint=this._tint,N.push(q),S[I]=q}S[I].total++}for(b=0;b<C.length;b++)-1===N.indexOf(C[b])&&this.removeChild(C[b].mesh);for(b=0;b<N.length;b++)N[b].mesh.parent!==this&&this.addChild(N[b].mesh);for(var b in this._activePagesMeshData=N,S){var j=(q=S[b]).total;if(!((null===(e=q.indices)||void 0===e?void 0:e.length)>6*j)||q.vertices.length<2*ug.BATCHABLE_SIZE)q.vertices=new Float32Array(8*j),q.uvs=new Float32Array(8*j),q.indices=new Uint16Array(6*j);else for(var k=q.total,U=q.vertices,F=4*k*2;F<U.length;F++)U[F]=0;q.mesh.size=6*j}for(b=0;b<T;b++){var z,B=(z=i[b]).position.x+A[z.line]*("justify"===this._align?z.prevSpaces:1);this._roundPixels&&(B=Math.round(B));var G,H=B*n,V=z.position.y*n,Y=S[(G=z.texture).baseTexture.uid],W=G.frame,X=G._uvs,Q=Y.index++;Y.indices[6*Q+0]=0+4*Q,Y.indices[6*Q+1]=1+4*Q,Y.indices[6*Q+2]=2+4*Q,Y.indices[6*Q+3]=0+4*Q,Y.indices[6*Q+4]=2+4*Q,Y.indices[6*Q+5]=3+4*Q,Y.vertices[8*Q+0]=H,Y.vertices[8*Q+1]=V,Y.vertices[8*Q+2]=H+W.width*n,Y.vertices[8*Q+3]=V,Y.vertices[8*Q+4]=H+W.width*n,Y.vertices[8*Q+5]=V+W.height*n,Y.vertices[8*Q+6]=H,Y.vertices[8*Q+7]=V+W.height*n,Y.uvs[8*Q+0]=X.x0,Y.uvs[8*Q+1]=X.y0,Y.uvs[8*Q+2]=X.x1,Y.uvs[8*Q+3]=X.y1,Y.uvs[8*Q+4]=X.x2,Y.uvs[8*Q+5]=X.y2,Y.uvs[8*Q+6]=X.x3,Y.uvs[8*Q+7]=X.y3}for(var b in this._textWidth=f*n,this._textHeight=(r.y+t.lineHeight)*n,S){var q=S[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var K=0,Z=this._textWidth*this.anchor.x,J=this._textHeight*this.anchor.y,$=0;$<q.total;$++)q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J,q.vertices[K++]-=Z,q.vertices[K++]-=J;this._maxLineHeight=v*n;var ee=q.mesh.geometry.getBuffer("aVertexPosition"),te=q.mesh.geometry.getBuffer("aTextureCoord"),ne=q.mesh.geometry.getIndex();ee.data=q.vertices,te.data=q.uvs,ne.data=q.indices,ee.update(),te.update(),ne.update()}for(b=0;b<i.length;b++)Ag.push(i[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){var n=Eg.available[this._fontName],r=n.distanceFieldRange,i=n.distanceFieldType,o=n.size;if("none"!==i)for(var a=this.worldTransform,s=a.a,u=a.b,c=a.c,l=a.d,h=Math.sqrt(s*s+u*u),f=Math.sqrt(c*c+l*l),d=(Math.abs(h)+Math.abs(f))/2,p=this._fontSize/o,m=0,g=this._activePagesMeshData;m<g.length;m++){g[m].mesh.shader.uniforms.uFWidth=d*r*p*t.resolution}e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Eg.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null===e||void 0===e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Vl),function(){function e(){}return e.add=function(){Ud.setExtensionXhrType("fnt",Ud.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=vg(t.data);if(r)for(var i=e.getBaseUrl(this,t),o=r.parse(t.data),a={},s=function(e){a[e.metadata.pageFile]=e.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=Eg.install(o,a,!0),n())},u=0;u<o.page.length;++u){var c=o.page[u].file,l=i+c,h=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===l){d.metadata.pageFile=c,d.texture?s(d):d.onAfterMiddleware.add(s),h=!0;break}}if(!h){var p={crossOrigin:t.crossOrigin,loadType:Ud.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(l,p,s)}}else n()},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}()),Tg=function(e,t){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Tg(e,t)};!function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=t,n}(function(e,t){function n(){this.constructor=e}Tg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(Lf);var Sg=function(e,t){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Sg(e,t)};function Ng(e,t){function n(){this.constructor=e}Sg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Cg,Ig,Lg,Dg,Og,Rg,Pg,jg,kg,Ug,Fg,zg,Bg,Gg,Hg,Vg,Yg,Wg,Xg,Qg={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qg=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Cg||(Cg={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Ig||(Ig={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Lg||(Lg={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(Dg||(Dg={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Og||(Og={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Rg||(Rg={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Pg||(Pg={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(jg||(jg={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(kg||(kg={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Ug||(Ug={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Fg||(Fg={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(zg||(zg={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Bg||(Bg={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Gg||(Gg={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Hg||(Hg={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Vg||(Vg={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Yg||(Yg={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Wg||(Wg={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Xg||(Xg={}));var Kg=function(e){function t(t,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=yc.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o,t),u=function(e){for(var t,n=Qg[e],r=n.length,i=qg,o="",a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());t=a,a>=r&&(t=e-a-1),o+=s=s.replace("%value%",n[t].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o);return(a=e.call(this,s,u)||this).horizontal=t,a.resolution=i,a._quality=0,a.quality=r,a.blur=n,a}return Ng(t,e),t.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,Gg.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(a,Gg.BLIT),this.uniforms.uSampler=s;var c=s;s=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Lf),Zg=(function(e){function t(t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=yc.FILTER_RESOLUTION),void 0===i&&(i=5);var o=e.call(this)||this;return o.blurXFilter=new Kg(!0,t,n,r,i),o.blurYFilter=new Kg(!1,t,n,r,i),o.resolution=r,o.quality=n,o.blur=t,o.repeatEdgePixels=!1,o}Ng(t,e),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,Gg.CLEAR),this.blurYFilter.apply(e,a,n,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(Lf),function(e,t){return Zg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Zg(e,t)});var Jg=function(e){function t(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,cd,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,t}return function(e,t){function n(){this.constructor=e}Zg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.tint=function(e,t){var n=[(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,u,c,l,t=t||.15,0,o-u,a-c,s-l,0,0];this._loadMatrix(h,i)},t.prototype.night=function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Lf);Jg.prototype.grayscale=Jg.prototype.greyscale;var $g=function(e,t){return $g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},$g(e,t)};!function(e){function t(t,n){var r=this,i=new cl;return t.renderable=!1,(r=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null!==n&&void 0!==n||(n=20),r.scale=new tl(n,n),r}(function(e,t){function n(){this.constructor=e}$g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(Lf);var ev=function(e,t){return ev=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ev(e,t)};!function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}(function(e,t){function n(){this.constructor=e}ev(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e)}(Lf);var tv=function(e,t){return tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},tv(e,t)};var nv,rv,iv,ov,av,sv,uv,cv,lv,hv,fv,dv,pv,mv,gv,vv,yv,bv,xv;!function(e){function t(t,n){void 0===t&&(t=.5),void 0===n&&(n=Math.random());var r=e.call(this,cd,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=n,r}(function(e,t){function n(){this.constructor=e}tv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(Lf);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(nv||(nv={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(rv||(rv={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(iv||(iv={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(ov||(ov={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(av||(av={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(sv||(sv={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(uv||(uv={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(cv||(cv={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(lv||(lv={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(hv||(hv={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(fv||(fv={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(dv||(dv={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(pv||(pv={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(mv||(mv={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(gv||(gv={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(vv||(vv={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(yv||(yv={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(bv||(bv={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(xv||(xv={}));var Ev=new cl;Bl.prototype._cacheAsBitmap=!1,Bl.prototype._cacheData=null,Bl.prototype._cacheAsBitmapResolution=null,Bl.prototype._cacheAsBitmapMultisample=bv.NONE;var wv=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Bl.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new wv),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Bl.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Bl.prototype._initCachedDisplayObject=function(e){var t;if(!this._cacheData||!this._cacheData.sprite){var n=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var i=this.filters[0].padding;r.pad(i)}r.ceil(yc.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),s=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,c=Lh.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(t=this.cacheAsBitmapMultisample)&&void 0!==t?t:e.multisample}),l="cacheAsBitmap_"+Gc();this._cacheData.textureCacheId=l,dh.addToCache(c.baseTexture,l),Ih.addToCache(c,l);var h=this.transform.localTransform.copyTo(Ev).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(o,a,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var f=new _m(c);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-r.x/r.width,f.anchor.y=-r.y/r.height,f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)}},Bl.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Bl.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=e.context,i=e._projTransform;t.ceil(yc.RESOLUTION);var o=Lh.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+Gc();this._cacheData.textureCacheId=a,dh.addToCache(o.baseTexture,a),Ih.addToCache(o,a);var s=Ev;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:s,skipUpdateTransform:!1}),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var u=new _m(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-t.x/t.width,u.anchor.y=-t.y/t.height,u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Bl.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Bl.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Bl.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,dh.removeFromCache(this._cacheData.textureCacheId),Ih.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Bl.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Bl.prototype.name=null,Vl.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(e,!0);if(i)return i}}return null},Bl.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new tl),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Mv=function(e,t){return Mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Mv(e,t)};function Av(e,t){function n(){this.constructor=e}Mv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _v=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=e.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=t,o.height=n,o.build(),o}return Av(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,u=0;u<e;u++){var c=u%this.segWidth,l=u/this.segWidth|0;t.push(c*a,l*s),n.push(c/i,l/o)}var h=i*o;for(u=0;u<h;u++){var f=u%i,d=u/i|0,p=d*this.segWidth+f,m=d*this.segWidth+f+1,g=(d+1)*this.segWidth+f,v=(d+1)*this.segWidth+f+1;r.push(p,m,g,m,v,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(lg),Tv=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=e.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=t,i.textureScale=r,i.build(),i}return Av(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=e[0],u=this._width*this.textureScale,c=e.length,l=0;l<c;l++){var h=4*l;if(this.textureScale>0){var f=s.x-e[l].x,d=s.y-e[l].y,p=Math.sqrt(f*f+d*d);s=e[l],a+=p/u}else a=l/(c-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var m=0;for(l=0;l<c-1;l++){h=2*l;o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3}n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,o=this.buffers[0].data,a=e.length,s=0;s<a;s++){var u=e[s],c=4*s;i=-((t=s<e.length-1?e[s+1]:u).x-n.x),r=t.y-n.y;var l=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=l,i/=l,r*=h,i*=h,o[c]=u.x+r,o[c+1]=u.y+i,o[c+2]=u.x-r,o[c+3]=u.y-i,n=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(lg),Sv=(function(e){function t(t,n,r){void 0===r&&(r=0);var i=this,o=new Tv(t.height,n,r),a=new cg(t);return r>0&&(t.baseTexture.wrapMode=cc.REPEAT),(i=e.call(this,o,a)||this).autoUpdate=!0,i}Av(t,e),t.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,t)}}(ug),function(e){function t(t,n,r){var i=this,o=new _v(t.width,t.height,n,r),a=new cg(Ih.WHITE);return(i=e.call(this,o,a)||this).texture=t,i.autoResize=!0,i}return Av(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,n=t.width,r=t.height;!this.autoResize||e.width===n&&e.height===r||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(ug)),Nv=(function(e){function t(t,n,r,i,o){void 0===t&&(t=Ih.EMPTY);var a=this,s=new lg(n,r,i);s.getBuffer("aVertexPosition").static=!1;var u=new cg(t);return(a=e.call(this,s,u,null,o)||this).autoUpdate=!0,a}Av(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)}}(ug),function(e){function t(t,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=e.call(this,Ih.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=t,a}Av(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(Sv),function(e,t){return Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Nv(e,t)});!function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t[0]instanceof Ih?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}(function(e,t){function n(){this.constructor=e}Nv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ql.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ql.shared.add(this.update,this,Yl.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Ih.from(e[r]));return new t(n)},t.fromImages=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Ih.from(e[r]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Ih)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ql.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ql.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(_m);ud.registerPlugin("accessibility",Wl),ud.registerPlugin("extract",Nd),ud.registerPlugin("interaction",rh),ud.registerPlugin("particle",Vp),ud.registerPlugin("prepare",Qm),ud.registerPlugin("batch",bd),ud.registerPlugin("tilingSprite",ng),Vd.registerPlugin(_g),Vd.registerPlugin(rp),Vd.registerPlugin(wp),Vd.registerPlugin(Up),Vd.registerPlugin(Km),_d.registerPlugin(ql),_d.registerPlugin(Xd);var Cv=r(56212),Iv=r.n(Cv);var Lv=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).onWindowResize=function(){r.update(),r.onDraw()},r.drawRectNode=function(e,t,n,i,o,a,s){var u=Number(a),c=new xm;if(c.beginFill(15724527),c.drawRect(e,t,n,i),c.interactive=!0,c.hitArea=new rl(e,t,n,i),c.tint=16777215,c.mouseover=function(e){this.tint=10451161,window.postMessage({type:"changeMessageDetails",data:{id:o}})},c.mouseout=function(e){this.tint=16777215},c.on("touchend",(function(e){console.log("touch"),window.postMessage({type:"drawClickNode",data:{id:o,x:0,y:t,h:i}})})),c.click=Iv().debounce((function(e){console.log("click"),window.postMessage({type:"drawClickNode",data:{id:o,x:0,y:t,h:i}})}),200),r.state.global.app.stage.addChild(c),n>2){var l=new xm;l.beginFill(u,.9),l.drawRect(e+1,t+1,n-2,i-2),r.state.global.app.stage.addChild(l)}n>20&&r.drawTagHtml(e+1,t+1,n-10,i-2,o,a)},r.changeToTopDown=function(){r.state.focusNode.id=2,r.state.focusNode.x=0,r.state.focusNode.y=0,r.state.focusNode.hovorId=2,r.setState({dataShowType:0})},r.changeToBottomUp=function(){console.log(h(r)),r.state.focusNode.id=2,r.state.focusNode.x=0,r.state.focusNode.y=0,r.state.focusNode.hovorId=2,r.setState({dataShowType:1})},r.changeToFlat=function(){r.state.focusNode.id=2,r.state.focusNode.x=0,r.state.focusNode.y=0,r.state.focusNode.hovorId=2,r.setState({dataShowType:2})},r.handleChangeMetricIndex=function(e){r.setState({metricIndex:e.target.options.selectedIndex})},r.state={isFull:!1,isShow:!1,isProcessLoading:!0,global:{},metricTypesArray:[],focusNode:{},dataShowType:0,metricIndex:0,filterName:"",value:""},r.handleChange=r.handleChange.bind(h(r)),r.handleSubmit=r.handleSubmit.bind(h(r)),r}return a(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this),this.state.focusNode.id=2,this.state.focusNode.x=0,this.state.focusNode.y=0,this.state.focusNode.hovorId=2,this.state.global.messageDetails=document.getElementById("details"),this.state.global.container=document.getElementById("viewContainer"),this.state.global.textsRender=document.getElementById("renderContainer"),this.state.global.viewStyle=window.getComputedStyle(this.state.global.container,null),this.state.global.width=parseInt(this.state.global.viewStyle.width)-2*parseInt(this.state.global.viewStyle.paddingLeft)-2*parseInt(this.state.global.viewStyle.marginLeft);this.state.global.viewStyle.backgroundColor.match(/\d+/g);function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}this.state.global.textsTop=-this.props.height,this.state.global.textsRender.style.top=this.state.global.textsTop+"px",this.state.global.textsRender.style.width=this.state.global.width+"px",this.state.global.textsRender.style.height=this.props.height+"px",this.state.global.texts=document.getElementById("renderTexts"),this.state.global.app=new _d({view:document.getElementById("renderView"),width:this.state.global.width,height:this.props.height,backgroundColor:function(e,n,r){return"0x"+t(e)+t(n)+t(r)}(parseInt(255),parseInt(255),parseInt(255))}),this.state.global.container.appendChild(this.state.global.app.view),window.Module._setUpDrawFlameGraph(-1,window.Module.addFunction(this.drawRectNode,"viiiiiji")),window.onresize=this.onWindowResize;var n=window.Module.cwrap("getMetricDesJsonStr","string")(),r=JSON.parse(n);this.setState({metricTypesArray:r}),window.postMessage({type:"init MetricTypesArray",data:r}),console.log(this.state.metricTypesArray[0]),console.log("3"),this.drawFlameGraph(this.state.dataShowType,this.state.metricIndex,""),window.addEventListener("message",(function(t){var n=t.data;switch(n.type){case"drawClickNode":console.log(e),e.state.global.texts.innerHTML="",e.state.global.app.stage.removeChildren(),e.state.focusNode.id=n.data.id,e.state.focusNode.x=n.data.x,e.state.focusNode.y=n.data.y,console.log(n.data.x);Iv().debounce(window.Module._drawFlameGraphClickNode(n.data.id,n.data.x,n.data.y,e.state.global.width,n.data.h),200);var r=window.Module.cwrap("getClickNodeMessage","string",["number","number","number"])(e.state.focusNode.id,0,e.state.metricIndex);JSON.parse(r);break;case"changeMessageDetails":e.state.focusNode.hovorId=n.data.id,e.state.global.messageDetails.innerHTML=Module.cwrap("getContextDetails","string",["number"])(e.state.focusNode.hovorId)}}))}},{key:"componentDidUpdate",value:function(e,t){console.log(t),console.log(this.state),t.dataShowType!=this.state.dataShowType&&this.drawFlameGraph(this.state.dataShowType,t.metricIndex,t.filterName),this.state.metricIndex!=t.metricIndex&&this.drawFlameGraph(t.dataShowType,this.state.metricIndex,t.filterName),this.state.filterName!=t.filterName&&this.drawFlameGraph(t.dataShowType,t.metricIndex,this.state.filterName)}},{key:"drawFlameGraph",value:function(e,t,n){this.state.dataShowType==e&&this.state.metricIndex==t||(this.state.dataShowType=e,this.state.metricIndex=t,this.state.focusNode.id=2,this.state.focusNode.x=0,this.state.focusNode.y=0,this.state.focusNode.hovorId=2),window.Module.ccall("setFunctionFilter",null,["string"],[n]),window.Module._updateValueTree(0,e,t),this.onDraw()}},{key:"onDraw",value:function(){this.state.global.texts.innerHTML="",this.state.global.app.stage.removeChildren(),this.state.global.app.renderer.resize(this.state.global.width,this.props.height),window.Module._drawFlameGraphClickNode(this.state.focusNode.id,this.state.focusNode.x,this.state.focusNode.y,this.state.global.width,20)}},{key:"drawTagHtml",value:function(e,t,n,r,i,o){var a=document.createElement("div");a.setAttribute("class","flamegraph-tag"),a.innerHTML=window.Module.cwrap("getContextName","string",["number"])(i),a.style.width=n+"px",a.style.height=r+"px",a.style.top=t+"px",a.style.left=e+"px",this.state.global.texts.append(a)}},{key:"update",value:function(){this.state.global.viewStyle=window.getComputedStyle(this.state.global.container,null),this.state.global.width=parseInt(this.state.global.viewStyle.width)-2*parseInt(this.state.global.viewStyle.paddingLeft)-2*parseInt(this.state.global.viewStyle.marginLeft),this.state.global.textsTop=-this.props.height,this.state.global.textsRender.style.top=this.state.global.textsTop+"px",this.state.global.textsRender.style.width=this.state.global.width+"px",this.state.global.textsRender.style.height=this.props.height+"px"}},{key:"componentWillReceiveProps",value:function(e){this.setState({A:e.isShow})}},{key:"handleChange",value:function(e){console.log(e.target.value),this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.setState({filterName:Iv().toValueString(this.state.value).trim()}),e.preventDefault()}},{key:"render",value:function(){return(0,y.jsxs)("div",{children:[(0,y.jsxs)("form",{className:"w-full flex lg:ml-0",onSubmit:this.handleSubmit,children:[(0,y.jsx)("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),(0,y.jsxs)("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:[(0,y.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:(0,y.jsx)(v,{className:"h-5 w-5","aria-hidden":"true"})}),(0,y.jsx)("input",{type:"text",className:"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent sm:text-sm",value:this.state.value,onChange:this.handleChange,placeholder:"Search"})]})]}),(0,y.jsxs)("span",{className:"relative z-0 inline-flex shadow-sm rounded-md",children:[(0,y.jsx)("button",{type:"button",onClick:this.changeToTopDown,className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Top Down"}),(0,y.jsx)("button",{type:"button",onClick:this.changeToBottomUp,className:"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Bottom Up"}),(0,y.jsx)("button",{type:"button",onClick:this.changeToFlat,className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Flat"})]}),(0,y.jsx)("div",{children:(0,y.jsx)("select",{id:"location",name:"location",onChange:this.handleChangeMetricIndex,className:"mt-1 block w-200 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:this.state.metricTypesArray.map((function(e){return(0,y.jsx)("option",{children:e.name},e.id)}))})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"col-start-2 col-span-4",children:(0,y.jsx)("div",{id:"details",className:"details",children:"VIRTUAL ROOT"})}),(0,y.jsx)("div",{className:"col-start-2 col-span-4",children:(0,y.jsx)("div",{className:"details"})}),(0,y.jsx)("div",{id:"viewContainer",className:"col-start-2 col-span-4",children:(0,y.jsx)("canvas",{id:"renderView"})}),(0,y.jsx)("div",{className:"col-start-2 col-span-4",children:(0,y.jsx)("div",{style:{position:"relative",height:0},children:(0,y.jsx)("div",{id:"renderContainer",style:{position:"absolute",pointerEvents:"none"},children:(0,y.jsx)("div",{id:"renderTexts",style:{position:"relative",height:0,width:0}})})})})]})]})}}]),n}(t.Component);Lv.defaultProps={height:1500};r(83344),r(48427),r(18466),r(23360),r(73872);function Dv(e,t){if(!(e.length<=0)){for(var n=e[0].start,r=Math.max.apply(Math,M(e.map((function(e){return e.start+e.dur})))),i=(Math.max.apply(Math,M(e.map((function(e){return e.stack.length})))),(r-n)/t),o=[],a=0;a<t;a++)o.push({name:"root",descendants:{},level:0,top:!1});var s,u=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(u.s();!(s=u.n()).done;){Ov(o,s.value,n,i)}}catch(c){u.e(c)}finally{u.f()}return o.map((function(e){return Object.values(e.descendants)[0]}))}}function Ov(e,t,n,r){for(var i=Math.floor((t.start-n)/r);n+r*i<t.start+t.dur;){for(var o=e[i],a=n+r*(i+1),s=(Math.min(t.start+t.dur,a)-Math.max(t.start,a-r))/t.dur,u=t.stack.length-1;u>0;u--){var c=t.stack[u].name;o.descendants[c]||(o.descendants[c]={name:c,value:0,descendants:{},level:o.level+1,top:!1}),(o=o.descendants[c]).value+=t.value*s}var l=t.name;o.descendants[l]||(o.descendants[l]={name:l,value:0,descendants:{},level:o.level+1,top:!0}),(o=o.descendants[l]).value+=t.value*s,i++}}var Rv=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).increasefg=function(){r.setState({num_graphs:r.state.num_graphs+1})},r.decreasefg=function(){r.setState({num_graphs:r.state.num_graphs-1})},r.nextFlameGraph=function(){r.state.selected<r.state.num_graphs-1&&r.setState({selected:r.state.selected+1})},r.prevFlameGraph=function(){r.state.selected>0&&r.setState({selected:r.state.selected-1})},r.originalView=function(){},r.verticalView=function(){},r.handleFileFinish=function(e){var t=e.target.result,n=JSON.parse(t),i=Dv(n,r.state.num_graphs);console.log(n,r.state.num_graphs),r.setState({rootMap:i}),console.log("Set state",i)},r.onFile=function(e){e.preventDefault();var t=new FileReader;t.onload=r.handleFileFinish,t.readAsText(e.target.files[0])},r.state={selected:0,num_graphs:1,rootMap:[]},r}return a(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,y.jsx)("iframe",{src:"vr.html",width:"100%",height:"100%",title:"iframe",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",scrolling:"auto"})}}]),n}(t.Component),Pv="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),jv="aria-",kv="data-";function Uv(e,t){return 0===e.indexOf(t)}function Fv(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:g({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Uv(n,jv))||t.data&&Uv(n,kv)||t.attr&&Pv.includes(n))&&(r[n]=e[n])})),r}var zv=new Map;var Bv=new An((function(e){e.forEach((function(e){var t,n=e.target;null===(t=zv.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Gv=function(e){u(n,e);var t=d(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Hv=t.createContext(null);function Vv(e){var n=e.children,r=e.disabled,i=t.useRef(null),o=t.useRef(null),a=t.useContext(Hv),s="function"===typeof n,u=s?n(i):n,c=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),l=!s&&t.isValidElement(u)&&jn(u),h=l?u.ref:null,f=t.useMemo((function(){return Pn(h,i)}),[h,i]),d=t.useRef(e);d.current=e;var p=t.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,u=e.offsetWidth,l=e.offsetHeight,h=Math.floor(o),f=Math.floor(s);if(c.current.width!==h||c.current.height!==f||c.current.offsetWidth!==u||c.current.offsetHeight!==l){var p={width:h,height:f,offsetWidth:u,offsetHeight:l};c.current=p;var m=u===Math.round(o)?o:u,v=l===Math.round(s)?s:l,y=g(g({},p),{},{offsetWidth:m,offsetHeight:v});null===a||void 0===a||a(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return t.useEffect((function(){var e,t,n=Dn(i.current)||Dn(o.current);return n&&!r&&(e=n,t=p,zv.has(e)||(zv.set(e,new Set),Bv.observe(e)),zv.get(e).add(t)),function(){return function(e,t){zv.has(e)&&(zv.get(e).delete(t),zv.get(e).size||(Bv.unobserve(e),zv.delete(e)))}(n,p)}}),[i.current,r]),t.createElement(Gv,{ref:o},l?t.cloneElement(u,{ref:f}):u)}function Yv(e){var n=e.children;return("function"===typeof n?[n]:It(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return t.createElement(Vv,S({},e,{key:i}),n)}))}Yv.Collection=function(e){var n=e.children,r=e.onBatchResize,i=t.useRef(0),o=t.useRef([]),a=t.useContext(Hv),s=t.useCallback((function(e,t,n){i.current+=1;var s=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===a||void 0===a||a(e,t,n)}),[r,a]);return t.createElement(Hv.Provider,{value:s},n)};var Wv=Yv;function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(n),!0).forEach((function(t){qv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kv=t.forwardRef((function(e,n){var r=e.height,i=e.offset,o=e.children,a=e.prefixCls,s=e.onInnerResize,u={},c={display:"flex",flexDirection:"column"};return void 0!==i&&(u={height:r,position:"relative",overflow:"hidden"},c=Qv(Qv({},c),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),t.createElement("div",{style:u},t.createElement(Wv,{onResize:function(e){e.offsetHeight&&s&&s()}},t.createElement("div",{style:c,className:C()(qv({},"".concat(a,"-holder-inner"),a)),ref:n},o)))}));Kv.displayName="Filler";var Zv=Kv;function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ty(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return ny=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ny(e,t)}function ry(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=oy(t);if(n){var i=oy(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return iy(this,e)}}function iy(e,t){if(t&&("object"===Jv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oy(e)}function ay(e){return"touches"in e?e.touches[0].pageY:e.pageY}var sy=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}(a,e);var n,r,i,o=ry(a);function a(){var e;ey(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=o.call.apply(o,[this].concat(r))).moveRaf=null,e.scrollbarRef=t.createRef(),e.thumbRef=t.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),In.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:ay(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(In.cancel(e.moveRaf),r){var s=o+(ay(t)-i),u=e.getEnableScrollRange(),c=e.getEnableHeightRange(),l=c?s/c:0,h=Math.ceil(l*u);e.moveRaf=In((function(){a(h)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return n=a,(r=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,n=e.dragging,r=e.visible,i=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),u=s&&r;return t.createElement("div",{ref:this.scrollbarRef,className:C()("".concat(i,"-scrollbar"),$v({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},t.createElement("div",{ref:this.thumbRef,className:C()("".concat(i,"-scrollbar-thumb"),$v({},"".concat(i,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&ty(n.prototype,r),i&&ty(n,i),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);function uy(e){var n=e.children,r=e.setRef,i=t.useCallback((function(e){r(e)}),[]);return t.cloneElement(n,{ref:i})}function cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ly=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&cy(t.prototype,n),r&&cy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),hy=ly;function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function py(e){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(e)}function my(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(e,n,r){var i=my(t.useState(e),2),o=i[0],a=i[1],s=my(t.useState(null),2),u=s[0],c=s[1];return t.useEffect((function(){var t=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var c=null,l=1!==Math.abs(o-a),h=0;h<i.length;h+=1){var f=u(r[h]);if(f!==u(i[h])){c=h,l=l||f!==u(i[h+1]);break}}return null===c?null:{index:c,multiple:l}}(o||[],e||[],n);void 0!==(null===t||void 0===t?void 0:t.index)&&(null===r||void 0===r||r(t.index),c(e[t.index])),a(e)}),[e]),[u]}function yy(e){return yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(e)}var by="object"===("undefined"===typeof navigator?"undefined":yy(navigator))&&/Firefox/i.test(navigator.userAgent),xy=function(e,n){var r=(0,t.useRef)(!1),i=(0,t.useRef)(null);function o(){clearTimeout(i.current),r.current=!0,i.current=setTimeout((function(){r.current=!1}),50)}var a=(0,t.useRef)({top:e,bottom:n});return a.current.top=e,a.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&a.current.top||e>0&&a.current.bottom;return t&&n?(clearTimeout(i.current),r.current=!1):n&&!r.current||o(),!r.current&&n}};var Ey=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function wy(){return wy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(this,arguments)}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?My(Object(n),!0).forEach((function(t){_y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ny(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Cy=[],Iy={overflowY:"auto",overflowAnchor:"none"};function Ly(e,n){var r=e.prefixCls,i=void 0===r?"rc-virtual-list":r,o=e.className,a=e.height,s=e.itemHeight,u=e.fullHeight,c=void 0===u||u,l=e.style,h=e.data,f=e.children,d=e.itemKey,p=e.virtual,m=e.component,g=void 0===m?"div":m,v=e.onScroll,y=e.onVisibleChange,b=Ny(e,Ey),x=!(!1===p||!a||!s),E=x&&h&&s*h.length>a,w=Ty((0,t.useState)(0),2),M=w[0],A=w[1],_=Ty((0,t.useState)(!1),2),T=_[0],S=_[1],N=C()(i,o),I=h||Cy,L=(0,t.useRef)(),D=(0,t.useRef)(),O=(0,t.useRef)(),R=t.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),P={getKey:R};function j(e){A((function(t){var n=function(e){var t=e;Number.isNaN(J.current)||(t=Math.min(t,J.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return L.current.scrollTop=n,n}))}var k=(0,t.useRef)({start:0,end:I.length}),U=(0,t.useRef)(),F=Ty(vy(I,R),1)[0];U.current=F;var z=function(e,n,r){var i=fy(t.useState(0),2),o=i[0],a=i[1],s=(0,t.useRef)(new Map),u=(0,t.useRef)(new hy),c=(0,t.useRef)();function l(){In.cancel(c.current)}function h(){l(),c.current=In((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Dn(e),r=n.offsetHeight;u.current.get(t)!==r&&u.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,t.useEffect)((function(){return l}),[]),[function(t,i){var o=e(t),a=s.current.get(o);i?(s.current.set(o,i),h()):s.current.delete(o),!a!==!i&&(i?null===n||void 0===n||n(t):null===r||void 0===r||r(t))},h,u.current,o]}(R,null,null),B=Ty(z,4),G=B[0],H=B[1],V=B[2],Y=B[3],W=t.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:I.length-1,offset:void 0};var e;if(!E)return{scrollHeight:(null===(e=D.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:I.length-1,offset:void 0};for(var t,n,r,i=0,o=I.length,u=0;u<o;u+=1){var c=I[u],l=R(c),h=V.get(l),f=i+(void 0===h?s:h);f>=M&&void 0===t&&(t=u,n=i),f>M+a&&void 0===r&&(r=u),i=f}return void 0===t&&(t=0,n=0),void 0===r&&(r=I.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,I.length),offset:n}}),[E,x,M,I,Y,a]),X=W.scrollHeight,Q=W.start,q=W.end,K=W.offset;k.current.start=Q,k.current.end=q;var Z=X-a,J=(0,t.useRef)(Z);J.current=Z;var $=M<=0,ee=M>=Z,te=xy($,ee);var ne=function(e,n,r,i){var o=(0,t.useRef)(0),a=(0,t.useRef)(null),s=(0,t.useRef)(null),u=(0,t.useRef)(!1),c=xy(n,r);return[function(t){if(e){In.cancel(a.current);var n=t.deltaY;o.current+=n,s.current=n,c(n)||(by||t.preventDefault(),a.current=In((function(){var e=u.current?10:1;i(o.current*e),o.current=0})))}},function(t){e&&(u.current=t.detail===s.current)}]}(x,$,ee,(function(e){j((function(t){return t+e}))})),re=Ty(ne,2),ie=re[0],oe=re[1];!function(e,n,r){var i,o=(0,t.useRef)(!1),a=(0,t.useRef)(0),s=(0,t.useRef)(null),u=(0,t.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),n=a.current-t;a.current=t,r(n)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){(!r(n*=.9333333333333333,!0)||Math.abs(n)<=.1)&&clearInterval(u.current)}),16)}},l=function(){o.current=!1,i()},h=function(e){i(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",l))};i=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",l))},Gi((function(){return e&&n.current.addEventListener("touchstart",h),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",h),i(),clearInterval(u.current)}}),[e])}(x,L,(function(e,t){return!te(e,t)&&(ie({preventDefault:function(){},deltaY:e}),!0)})),Gi((function(){function e(e){x&&e.preventDefault()}return L.current.addEventListener("wheel",ie),L.current.addEventListener("DOMMouseScroll",oe),L.current.addEventListener("MozMousePixelScroll",e),function(){L.current&&(L.current.removeEventListener("wheel",ie),L.current.removeEventListener("DOMMouseScroll",oe),L.current.removeEventListener("MozMousePixelScroll",e))}}),[x]);var ae=function(e,n,r,i,o,a,s,u){var c=t.useRef();return function(t){if(null!==t&&void 0!==t){if(In.cancel(c.current),"number"===typeof t)s(t);else if(t&&"object"===py(t)){var l,h=t.align;l="index"in t?t.index:n.findIndex((function(e){return o(e)===t.key}));var f=t.offset,d=void 0===f?0:f;!function t(u,f){if(!(u<0)&&e.current){var p=e.current.clientHeight,m=!1,g=f;if(p){for(var v=f||h,y=0,b=0,x=0,E=Math.min(n.length,l),w=0;w<=E;w+=1){var M=o(n[w]);b=y;var A=r.get(M);y=x=b+(void 0===A?i:A),w===l&&void 0===A&&(m=!0)}var _=null;switch(v){case"top":_=b-d;break;case"bottom":_=x-p+d;break;default:var T=e.current.scrollTop;b<T?g="top":x>T+p&&(g="bottom")}null!==_&&_!==e.current.scrollTop&&s(_)}c.current=In((function(){m&&a(),t(u-1,g)}))}}(3)}}else u()}}(L,I,V,s,R,H,j,(function(){var e;null===(e=O.current)||void 0===e||e.delayHidden()}));t.useImperativeHandle(n,(function(){return{scrollTo:ae}})),Gi((function(){if(y){var e=I.slice(Q,q+1);y(e,I)}}),[Q,q,I]);var se=function(e,n,r,i,o,a){var s=a.getKey;return e.slice(n,r+1).map((function(e,r){var a=o(e,n+r,{}),u=s(e);return t.createElement(uy,{key:u,setRef:function(t){return i(e,t)}},a)}))}(I,Q,q,G,f,P),ue=null;return a&&(ue=Ay(_y({},c?"height":"maxHeight",a),Iy),x&&(ue.overflowY="hidden",T&&(ue.pointerEvents="none"))),t.createElement("div",wy({style:Ay(Ay({},l),{},{position:"relative"}),className:N},b),t.createElement(g,{className:"".concat(i,"-holder"),style:ue,ref:L,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==M&&j(t),null===v||void 0===v||v(e)}},t.createElement(Zv,{prefixCls:i,height:X,offset:K,onInnerResize:H,ref:D},se)),x&&t.createElement(sy,{ref:O,prefixCls:i,scrollTop:M,height:a,scrollHeight:X,count:I.length,onScroll:function(e){j(e)},onStartMove:function(){S(!0)},onStopMove:function(){S(!1)}}))}var Dy=t.forwardRef(Ly);Dy.displayName="List";var Oy=Dy,Ry=function(e){var n,r=e.className,i=e.customizeIcon,o=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,u=e.children;return n="function"===typeof i?i(o):i,t.createElement("span",{className:r,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:t.createElement("span",{className:C()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},Py=function(e,n){var r=e.prefixCls,i=e.id,o=e.flattenOptions,a=e.childrenAsData,s=e.values,u=e.searchValue,c=e.multiple,l=e.defaultActiveFirstOption,h=e.height,f=e.itemHeight,d=e.notFoundContent,m=e.open,g=e.menuItemSelectedIcon,v=e.virtual,y=e.onSelect,b=e.onToggleOpen,x=e.onActiveValue,E=e.onScroll,w=e.onMouseEnter,M="".concat(r,"-item"),A=On((function(){return o}),[m,o],(function(e,t){return t[0]&&e[1]!==t[1]})),_=t.useRef(null),N=function(e){e.preventDefault()},I=function(e){_.current&&_.current.scrollTo({index:e})},L=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=A.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=A[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},D=T(t.useState((function(){return L(0)})),2),O=D[0],R=D[1],P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R(e);var n={source:t?"keyboard":"mouse"},r=A[e];r?x(r.data.value,e,n):x(null,-1,n)};t.useEffect((function(){P(!1!==l?L(0):-1)}),[A.length,u]),t.useEffect((function(){var e,t=setTimeout((function(){if(!c&&m&&1===s.size){var e=Array.from(s)[0],t=A.findIndex((function(t){return t.data.value===e}));P(t),I(t)}}));m&&(null===(e=_.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[m]);var j=function(e){void 0!==e&&y(e,{selected:!s.has(e)}),c||b(!1)};if(t.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case St.UP:case St.DOWN:var n=0;if(t===St.UP?n=-1:t===St.DOWN&&(n=1),0!==n){var r=L(O+n,n);I(r),P(r,!0)}break;case St.ENTER:var i=A[O];i&&!i.data.disabled?j(i.data.value):j(void 0),m&&e.preventDefault();break;case St.ESC:b(!1),m&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){I(e)}}})),0===A.length)return t.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(M,"-empty"),onMouseDown:N},d);function k(e){var n=A[e];if(!n)return null;var r=n.data||{},o=r.value,u=r.label,c=r.children,l=Fv(r,!0),h=a?c:u;return n?t.createElement("div",S({"aria-label":"string"===typeof h?h:null},l,{key:e,role:"option",id:"".concat(i,"_list_").concat(e),"aria-selected":s.has(o)}),o):null}return t.createElement(t.Fragment,null,t.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},k(O-1),k(O),k(O+1)),t.createElement(Oy,{itemKey:"key",ref:_,data:A,height:h,itemHeight:f,fullHeight:!1,onMouseDown:N,onScroll:E,virtual:v,onMouseEnter:w},(function(e,n){var r,i=e.group,o=e.groupOption,u=e.data,c=u.label,l=u.key;if(i)return t.createElement("div",{className:C()(M,"".concat(M,"-group"))},void 0!==c?c:l);var h=u.disabled,f=u.value,d=u.title,m=u.children,v=u.style,y=u.className,b=oe(u,["disabled","value","title","children","style","className"]),x=s.has(f),E="".concat(M,"-option"),w=C()(M,E,y,(p(r={},"".concat(E,"-grouped"),o),p(r,"".concat(E,"-active"),O===n&&!h),p(r,"".concat(E,"-disabled"),h),p(r,"".concat(E,"-selected"),x),r)),A=!g||"function"===typeof g||x,_=(a?m:c)||f,T="string"===typeof _||"number"===typeof _?_.toString():void 0;return void 0!==d&&(T=d),t.createElement("div",S({},b,{"aria-selected":x,className:w,title:T,onMouseMove:function(){O===n||h||P(n)},onClick:function(){h||j(f)},style:v}),t.createElement("div",{className:"".concat(E,"-content")},_),t.isValidElement(g)||x,A&&t.createElement(Ry,{className:"".concat(M,"-option-state"),customizeIcon:g,customizeIconProps:{isSelected:x}},x?"\u2713":null))})))},jy=t.forwardRef(Py);jy.displayName="OptionList";var ky=jy,Uy=function(){return null};Uy.isSelectOption=!0;var Fy=Uy,zy=function(){return null};zy.isSelectOptGroup=!0;var By=zy;function Gy(e){var t=e.key,n=e.props,r=n.children,i=n.value;return g({key:t,value:void 0!==i?i:t,children:r},oe(n,["children","value"]))}function Hy(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return It(e).map((function(e,r){if(!t.isValidElement(e)||!e.type)return null;var i=e.type.isSelectOptGroup,o=e.key,a=e.props,s=a.children,u=oe(a,["children"]);return n||!i?Gy(e):g(g({key:"__RC_SELECT_GRP__".concat(null===o?r:o,"__"),label:o},u),{},{options:Hy(s)})})).filter((function(e){return e}))}function Vy(e){return A(e)||E(e)||w(e)||_()}function Yy(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function Wy(e,t){var n,r=M(t);for(n=e.length-1;n>=0&&e[n].disabled;n-=1);var i=null;return-1!==n&&(i=r[n],r.splice(n,1)),{values:r,removedValue:i}}var Xy="undefined"!==typeof window&&window.document&&window.document.documentElement,Qy=0;function qy(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Ky(e){var t=g({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return je(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function Zy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.prevValueOptions,i=void 0===r?[]:r,o=new Map;return t.forEach((function(e){if(!e.group){var t=e.data;o.set(t.value,t)}})),e.map((function(e){var t=o.get(e);return t||(t=g({},i.find((function(t){return t._INTERNAL_OPTION_VALUE_===e})))),Ky(t)}))}function Jy(e){return Yy(e).join("")}function $y(e,n){var r=n||{},i=r.defaultValue,o=r.value,a=r.onChange,s=r.postState,u=T(lr((function(){return void 0!==o?o:void 0!==i?"function"===typeof i?i():i:"function"===typeof e?e():e})),2),c=u[0],l=u[1],h=void 0!==o?o:c;s&&(h=s(h));var f=t.useRef(a);f.current=a;var d=t.useCallback((function(e,t){l(e,t),h!==e&&f.current&&f.current(e,h)}),[h,f]),p=t.useRef(o);return t.useEffect((function(){void 0===o&&o!==p.current&&l(o),p.current=o}),[o]),[h,d]}var eb=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],tb=void 0;function nb(e,n){var r=e.prefixCls,i=e.invalidate,o=e.item,a=e.renderItem,s=e.responsive,u=e.responsiveDisabled,c=e.registerSize,l=e.itemKey,h=e.className,f=e.style,d=e.children,p=e.display,m=e.order,v=e.component,y=void 0===v?"div":v,b=oe(e,eb),x=s&&!p;function E(e){c(l,e)}t.useEffect((function(){return function(){E(null)}}),[]);var w,M=a&&o!==tb?a(o):d;i||(w={opacity:x?0:1,height:x?0:tb,overflowY:x?"hidden":tb,order:s?m:tb,pointerEvents:x?"none":tb,position:x?"absolute":tb});var A={};x&&(A["aria-hidden"]=!0);var _=t.createElement(y,S({className:C()(!i&&r,h),style:g(g({},w),f)},A,b,{ref:n}),M);return s&&(_=t.createElement(Wv,{onResize:function(e){E(e.offsetWidth)},disabled:u},_)),_}var rb=t.forwardRef(nb);rb.displayName="Item";var ib=rb;var ob=["component"],ab=["className"],sb=["className"],ub=function(e,n){var r=t.useContext(fb);if(!r){var i=e.component,o=void 0===i?"div":i,a=oe(e,ob);return t.createElement(o,S({},a,{ref:n}))}var s=r.className,u=oe(r,ab),c=e.className,l=oe(e,sb);return t.createElement(fb.Provider,{value:null},t.createElement(ib,S({ref:n,className:C()(s,c)},u,l)))},cb=t.forwardRef(ub);cb.displayName="RawItem";var lb=cb,hb=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],fb=t.createContext(null),db="responsive",pb="invalidate";function mb(e){return"+ ".concat(e.length," ...")}function gb(e,n){var r=e.prefixCls,i=void 0===r?"rc-overflow":r,o=e.data,a=void 0===o?[]:o,s=e.renderItem,u=e.renderRawItem,c=e.itemKey,l=e.itemWidth,h=void 0===l?10:l,f=e.ssr,d=e.style,p=e.className,m=e.maxCount,v=e.renderRest,y=e.renderRawRest,b=e.suffix,x=e.component,E=void 0===x?"div":x,w=e.itemComponent,M=e.onVisibleChange,A=oe(e,hb),_=function(){var e=T(lr({}),2)[1],n=(0,t.useRef)([]),r=0,i=0;return function(t){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=t),[n.current[o],function(t){n.current[o]="function"===typeof t?t(n.current[o]):t,In.cancel(i),i=In((function(){e({},!0)}))}]}}(),N="full"===f,I=T(_(null),2),L=I[0],D=I[1],O=L||0,R=T(_(new Map),2),P=R[0],j=R[1],k=T(_(0),2),U=k[0],F=k[1],z=T(_(0),2),B=z[0],G=z[1],H=T(_(0),2),V=H[0],Y=H[1],W=T((0,t.useState)(null),2),X=W[0],Q=W[1],q=T((0,t.useState)(null),2),K=q[0],Z=q[1],J=t.useMemo((function(){return null===K&&N?Number.MAX_SAFE_INTEGER:K||0}),[K,L]),$=T((0,t.useState)(!1),2),ee=$[0],te=$[1],ne="".concat(i,"-item"),re=Math.max(U,B),ie=m===db,ae=a.length&&ie,se=m===pb,ue=ae||"number"===typeof m&&a.length>m,ce=(0,t.useMemo)((function(){var e=a;return ae?e=null===L&&N?a:a.slice(0,Math.min(a.length,O/h)):"number"===typeof m&&(e=a.slice(0,m)),e}),[a,h,L,m,ae]),le=(0,t.useMemo)((function(){return ae?a.slice(J+1):a.slice(ce.length)}),[a,ce,ae,J]),he=(0,t.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),fe=(0,t.useCallback)(s||function(e){return e},[s]);function de(e,t){Z(e),t||(te(e<a.length-1),null===M||void 0===M||M(e))}function pe(e,t){j((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function me(e){return P.get(he(ce[e],e))}Gi((function(){if(O&&re&&ce){var e=V,t=ce.length,n=t-1;if(!t)return de(0),void Q(null);for(var r=0;r<t;r+=1){var i=me(r);if(N&&(i=i||0),void 0===i){de(r-1,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+me(n)<=O){de(n),Q(null);break}if(e+re>O){de(r-1),Q(e-i-V+B);break}}b&&me(0)+V>O&&Q(null)}}),[O,P,B,V,he,ce]);var ge=ee&&!!le.length,ve={};null!==X&&ae&&(ve={position:"absolute",left:X,top:0});var ye,be={prefixCls:ne,responsive:ae,component:w,invalidate:se},xe=u?function(e,n){var r=he(e,n);return t.createElement(fb.Provider,{key:r,value:g(g({},be),{},{order:n,item:e,itemKey:r,registerSize:pe,display:n<=J})},u(e,n))}:function(e,n){var r=he(e,n);return t.createElement(ib,S({},be,{order:n,key:r,item:e,renderItem:fe,itemKey:r,registerSize:pe,display:n<=J}))},Ee={order:ge?J:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){G(t),F(B)},display:ge};if(y)y&&(ye=t.createElement(fb.Provider,{value:g(g({},be),Ee)},y(le)));else{var we=v||mb;ye=t.createElement(ib,S({},be,Ee),"function"===typeof we?we(le):we)}var Me=t.createElement(E,S({className:C()(!se&&i,p),style:d,ref:n},A),ce.map(xe),ue?ye:null,b&&t.createElement(ib,S({},be,{responsive:ie,responsiveDisabled:!ae,order:J,className:"".concat(ne,"-suffix"),registerSize:function(e,t){Y(t)},display:!0,style:ve}),b));return ie&&(Me=t.createElement(Wv,{onResize:function(e,t){D(t.clientWidth)},disabled:!ae},Me)),Me}var vb=t.forwardRef(gb);vb.displayName="Overflow",vb.Item=lb,vb.RESPONSIVE=db,vb.INVALIDATE=pb;var yb=vb,bb=function(e,n){var r,i,o=e.prefixCls,a=e.id,s=e.inputElement,u=e.disabled,c=e.tabIndex,l=e.autoFocus,h=e.autoComplete,f=e.editable,d=e.accessibilityIndex,p=e.value,m=e.maxLength,v=e.onKeyDown,y=e.onMouseDown,b=e.onChange,x=e.onPaste,E=e.onCompositionStart,w=e.onCompositionEnd,M=e.open,A=e.attrs,_=s||t.createElement("input",null),T=_,S=T.ref,N=T.props,I=N.onKeyDown,L=N.onChange,D=N.onMouseDown,O=N.onCompositionStart,R=N.onCompositionEnd,P=N.style;return _=t.cloneElement(_,g(g({id:a,ref:Pn(n,S),disabled:u,tabIndex:c,autoComplete:h||"off",type:"search",autoFocus:l,className:C()("".concat(o,"-selection-search-input"),null===(r=_)||void 0===r||null===(i=r.props)||void 0===i?void 0:i.className),style:g(g({},P),{},{opacity:f?null:0}),role:"combobox","aria-expanded":M,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":"".concat(a,"_list_").concat(d)},A),{},{value:f?p:"",maxLength:m,readOnly:!f,unselectable:f?null:"on",onKeyDown:function(e){v(e),I&&I(e)},onMouseDown:function(e){y(e),D&&D(e)},onChange:function(e){b(e),L&&L(e)},onCompositionStart:function(e){E(e),O&&O(e)},onCompositionEnd:function(e){w(e),R&&R(e)},onPaste:x}))},xb=t.forwardRef(bb);xb.displayName="Input";var Eb=xb;function wb(e,n){Xy?t.useLayoutEffect(e,n):t.useEffect(e,n)}var Mb=function(e){e.preventDefault(),e.stopPropagation()},Ab=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,a=e.searchValue,s=e.inputRef,u=e.placeholder,c=e.disabled,l=e.mode,h=e.showSearch,f=e.autoFocus,d=e.autoComplete,m=e.accessibilityIndex,g=e.tabIndex,v=e.removeIcon,y=e.maxTagCount,b=e.maxTagTextLength,x=e.maxTagPlaceholder,E=void 0===x?function(e){return"+ ".concat(e.length," ...")}:x,w=e.tagRender,M=e.onToggleOpen,A=e.onSelect,_=e.onInputChange,S=e.onInputPaste,N=e.onInputKeyDown,I=e.onInputMouseDown,L=e.onInputCompositionStart,D=e.onInputCompositionEnd,O=t.useRef(null),R=T((0,t.useState)(0),2),P=R[0],j=R[1],k=T((0,t.useState)(!1),2),U=k[0],F=k[1],z="".concat(r,"-selection"),B=o||"tags"===l?a:"",G="tags"===l||h&&(o||U);function H(e,n,r,i){return t.createElement("span",{className:C()("".concat(z,"-item"),p({},"".concat(z,"-item-disabled"),n))},t.createElement("span",{className:"".concat(z,"-item-content")},e),r&&t.createElement(Ry,{className:"".concat(z,"-item-remove"),onMouseDown:Mb,onClick:i,customizeIcon:v},"\xd7"))}wb((function(){j(O.current.scrollWidth)}),[B]);var V=t.createElement("div",{className:"".concat(z,"-search"),style:{width:P},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},t.createElement(Eb,{ref:s,open:o,prefixCls:r,id:n,inputElement:null,disabled:c,autoFocus:f,autoComplete:d,editable:G,accessibilityIndex:m,value:B,onKeyDown:N,onMouseDown:I,onChange:_,onPaste:S,onCompositionStart:L,onCompositionEnd:D,tabIndex:g,attrs:Fv(e,!0)}),t.createElement("span",{ref:O,className:"".concat(z,"-search-mirror"),"aria-hidden":!0},B,"\xa0")),Y=t.createElement(yb,{prefixCls:"".concat(z,"-overflow"),data:i,renderItem:function(e){var n=e.disabled,r=e.label,i=e.value,a=!c&&!n,s=r;if("number"===typeof b&&("string"===typeof r||"number"===typeof r)){var u=String(s);u.length>b&&(s="".concat(u.slice(0,b),"..."))}var l=function(e){e&&e.stopPropagation(),A(i,{selected:!1})};return"function"===typeof w?function(e,n,r,i,a){return t.createElement("span",{onMouseDown:function(e){Mb(e),M(!o)}},w({label:n,value:e,disabled:r,closable:i,onClose:a}))}(i,s,n,a,l):H(s,n,a,l)},renderRest:function(e){return H("function"===typeof E?E(e):E,!1)},suffix:V,itemKey:"key",maxCount:y});return t.createElement(t.Fragment,null,Y,!i.length&&!B&&t.createElement("span",{className:"".concat(z,"-placeholder")},u))},_b=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,u=e.autoComplete,c=e.accessibilityIndex,l=e.mode,h=e.open,f=e.values,d=e.placeholder,p=e.tabIndex,m=e.showSearch,g=e.searchValue,v=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,x=e.onInputMouseDown,E=e.onInputChange,w=e.onInputPaste,M=e.onInputCompositionStart,A=e.onInputCompositionEnd,_=T(t.useState(!1),2),S=_[0],N=_[1],C="combobox"===l,I=C||m,L=f[0],D=g||"";C&&v&&!S&&(D=v),t.useEffect((function(){C&&N(!1)}),[C,v]);var O=!("combobox"!==l&&!h)&&!!D,R=!L||"string"!==typeof L.label&&"number"!==typeof L.label?void 0:L.label.toString();return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(r,"-selection-search")},t.createElement(Eb,{ref:o,prefixCls:r,id:i,open:h,inputElement:n,disabled:a,autoFocus:s,autoComplete:u,editable:I,accessibilityIndex:c,value:D,onKeyDown:b,onMouseDown:x,onChange:function(e){N(!0),E(e)},onPaste:w,onCompositionStart:M,onCompositionEnd:A,tabIndex:p,attrs:Fv(e,!0),maxLength:C?y:void 0})),!C&&L&&!O&&t.createElement("span",{className:"".concat(r,"-selection-item"),title:R},L.label),!L&&!O&&t.createElement("span",{className:"".concat(r,"-selection-placeholder")},d))};function Tb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=t.useRef(null),r=t.useRef(null);function i(t){(t||null===n.current)&&(n.current=t),window.clearTimeout(r.current),r.current=window.setTimeout((function(){n.current=null}),e)}return t.useEffect((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return n.current},i]}var Sb=function(e,n){var r=(0,t.useRef)(null),i=(0,t.useRef)(!1),o=e.prefixCls,a=e.multiple,s=e.open,u=e.mode,c=e.showSearch,l=e.tokenWithEnter,h=e.onSearch,f=e.onSearchSubmit,d=e.onToggleOpen,p=e.onInputKeyDown,m=e.domRef;t.useImperativeHandle(n,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var g=T(Tb(0),2),v=g[0],y=g[1],b=(0,t.useRef)(null),x=function(e){!1!==h(e,!0,i.current)&&d(!0)},E={inputRef:r,onInputKeyDown:function(e){var t=e.which;t!==St.UP&&t!==St.DOWN||e.preventDefault(),p&&p(e),t!==St.ENTER||"tags"!==u||i.current||s||f(e.target.value),[St.SHIFT,St.TAB,St.BACKSPACE,St.ESC].includes(t)||d(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(l&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,x(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==u&&x(e.target.value)}},w=a?t.createElement(Ab,S({},e,E)):t.createElement(_b,S({},e,E));return t.createElement("div",{ref:m,className:"".concat(o,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var t=v();e.target===r.current||t||e.preventDefault(),("combobox"===u||c&&t)&&s||(s&&h("",!0,!1),d())}},w)},Nb=t.forwardRef(Sb);Nb.displayName="Selector";var Cb=Nb,Ib=function(e,n){var r=e.prefixCls,i=(e.disabled,e.visible),o=e.children,a=e.popupElement,s=e.containerWidth,u=e.animation,c=e.transitionName,l=e.dropdownStyle,h=e.dropdownClassName,f=e.direction,d=void 0===f?"ltr":f,m=e.dropdownMatchSelectWidth,v=void 0===m||m,y=e.dropdownRender,b=e.dropdownAlign,x=e.getPopupContainer,E=e.empty,w=e.getTriggerDOMNode,M=e.onPopupVisibleChange,A=oe(e,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange"]),_="".concat(r,"-dropdown"),T=a;y&&(T=y(a));var N=t.useMemo((function(){return function(e){var t="number"!==typeof e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(v)}),[v]),I=u?"".concat(_,"-").concat(u):c,L=t.useRef(null);t.useImperativeHandle(n,(function(){return{getPopupElement:function(){return L.current}}}));var D=g({minWidth:s},l);return"number"===typeof v?D.width=v:v&&(D.width=s),t.createElement(oo,S({},A,{showAction:M?["click"]:[],hideAction:M?["click"]:[],popupPlacement:"rtl"===d?"bottomRight":"bottomLeft",builtinPlacements:N,prefixCls:_,popupTransitionName:I,popup:t.createElement("div",{ref:L},T),popupAlign:b,popupVisible:i,getPopupContainer:x,popupClassName:C()(h,p({},"".concat(_,"-empty"),E)),popupStyle:D,getTriggerDOMNode:w,onPopupVisibleChange:M}),o)},Lb=t.forwardRef(Ib);Lb.displayName="SelectTrigger";var Db=Lb;var Ob=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];var Rb=function(e){var n=e.mode,r=e.options,i=e.children,o=e.backfill,a=e.allowClear,s=e.placeholder,u=e.getInputElement,c=e.showSearch,h=e.onSearch,f=e.defaultOpen,d=e.autoFocus,p=e.labelInValue,m=e.value,g=e.inputValue,v=e.optionLabelProp,y="multiple"===n||"tags"===n,b=void 0!==c?c:y||"combobox"===n,x=r||Hy(i);if(je("tags"!==n||x.every((function(e){return!e.disabled})),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),"tags"===n||"combobox"===n){var E=x.some((function(e){return e.options?e.options.some((function(e){return"number"===typeof("value"in e?e.value:e.key)})):"number"===typeof("value"in e?e.value:e.key)}));je(!E,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(je("combobox"!==n||!v,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),je("combobox"===n||!o,"`backfill` only works with `combobox` mode."),je("combobox"===n||!u,"`getInputElement` only work with `combobox` mode."),Pe("combobox"!==n||!u||!a||!s,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),h&&!b&&"combobox"!==n&&"tags"!==n&&je(!1,"`onSearch` should work with `showSearch` instead of use alone."),Pe(!f||d,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),void 0!==m&&null!==m){var w=Yy(m);je(!p||w.every((function(e){return"object"===l(e)&&("key"in e||"value"in e)})),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),je(!y||Array.isArray(m),"`value` should be array when `mode` is `multiple` or `tags`")}if(i){var M=null;It(i).some((function(e){if(!t.isValidElement(e)||!e.type)return!1;var n=e.type;return!n.isSelectOption&&(n.isSelectOptGroup?!It(e.props.children).every((function(n){return!(t.isValidElement(n)&&e.type&&!n.type.isSelectOption)||(M=n.type,!1)})):(M=n,!0))})),M&&je(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(M.displayName||M.name||M,"`.")),je(void 0===g,"`inputValue` is deprecated, please use `searchValue` instead.")}},Pb=function(e){var n=e.prefixCls,r=e.components.optionList,i=e.convertChildrenToData,o=e.flattenOptions,a=e.getLabeledValue,s=e.filterOptions,u=e.isValueDisabled,c=e.findValueOption,l=(e.warningProps,e.fillOptionsWithMissingValue),h=e.omitDOMProps;function f(e,f){var d,m=e.prefixCls,v=void 0===m?n:m,y=e.className,b=e.id,x=e.open,E=e.defaultOpen,w=e.options,A=e.children,_=e.mode,N=e.value,I=e.defaultValue,L=e.labelInValue,D=e.showSearch,O=e.inputValue,R=e.searchValue,P=e.filterOption,j=e.filterSort,k=e.optionFilterProp,U=void 0===k?"value":k,F=e.autoClearSearchValue,z=void 0===F||F,B=e.onSearch,G=e.allowClear,H=e.clearIcon,V=e.showArrow,Y=e.inputIcon,W=e.menuItemSelectedIcon,X=e.disabled,Q=e.loading,q=e.defaultActiveFirstOption,K=e.notFoundContent,Z=void 0===K?"Not Found":K,J=e.optionLabelProp,$=e.backfill,ee=(e.tabIndex,e.getInputElement),te=e.getRawInputElement,ne=e.getPopupContainer,re=e.listHeight,ie=void 0===re?200:re,ae=e.listItemHeight,se=void 0===ae?20:ae,ue=e.animation,ce=e.transitionName,le=e.virtual,he=e.dropdownStyle,fe=e.dropdownClassName,de=e.dropdownMatchSelectWidth,pe=e.dropdownRender,me=e.dropdownAlign,ge=e.showAction,ve=void 0===ge?[]:ge,ye=e.direction,be=e.tokenSeparators,xe=e.tagRender,Ee=e.onPopupScroll,we=e.onDropdownVisibleChange,Me=e.onFocus,Ae=e.onBlur,_e=e.onKeyUp,Te=e.onKeyDown,Se=e.onMouseDown,Ne=e.onChange,Ce=e.onSelect,Ie=e.onDeselect,Le=e.onClear,De=e.internalProps,Oe=void 0===De?{}:De,Re=oe(e,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getRawInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"]),Pe="RC_SELECT_INTERNAL_PROPS_MARK"===Oe.mark,je=h?h(Re):Re;Ob.forEach((function(e){delete je[e]}));var ke=(0,t.useRef)(null),Ue=(0,t.useRef)(null),Fe=(0,t.useRef)(null),ze=(0,t.useRef)(null),Be=(0,t.useMemo)((function(){return(be||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[be]),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=T(t.useState(!1),2),r=n[0],i=n[1],o=t.useRef(null),a=function(){window.clearTimeout(o.current)};t.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[r,s,a]}(),He=T(Ge,3),Ve=He[0],Ye=He[1],We=He[2],Xe=T((0,t.useState)(),2),Qe=Xe[0],qe=Xe[1];(0,t.useEffect)((function(){qe("rc_select_".concat(function(){var e;return Xy?(e=Qy,Qy+=1):e="TEST_OR_SSR",e}()))}),[]);var Ke=b||Qe,Ze=J;void 0===Ze&&(Ze=w?"label":"children");var Je="combobox"!==_&&L,$e="tags"===_||"multiple"===_,et=void 0!==D?D:$e||"combobox"===_,tt=T((0,t.useState)(!1),2),nt=tt[0],rt=tt[1];(0,t.useEffect)((function(){rt(Gn())}),[]);var it=(0,t.useRef)(null);t.useImperativeHandle(f,(function(){var e,t,n;return{focus:null===(e=Fe.current)||void 0===e?void 0:e.focus,blur:null===(t=Fe.current)||void 0===t?void 0:t.blur,scrollTo:null===(n=ze.current)||void 0===n?void 0:n.scrollTo}}));var ot=T($y(I,{value:N}),2),at=ot[0],st=ot[1],ut=(0,t.useMemo)((function(){return function(e,t){var n=t.labelInValue,r=t.combobox,i=new Map;if(void 0===e||""===e&&r)return[[],i];var o=Array.isArray(e)?e:[e],a=o;return n&&(a=o.filter((function(e){return null!==e})).map((function(e){var t=e.key,n=e.value,r=void 0!==n?n:t;return i.set(r,e),r}))),[a,i]}(at,{labelInValue:Je,combobox:"combobox"===_})}),[at,Je]),ct=T(ut,2),lt=ct[0],ht=ct[1],ft=(0,t.useMemo)((function(){return new Set(lt)}),[lt]),dt=T((0,t.useState)(null),2),pt=dt[0],mt=dt[1],gt=T((0,t.useState)(""),2),vt=gt[0],yt=gt[1],bt=vt;"combobox"===_&&void 0!==at?bt=at:void 0!==R?bt=R:O&&(bt=O);var xt=(0,t.useMemo)((function(){var e=w;return void 0===e&&(e=i(A)),"tags"===_&&l&&(e=l(e,at,Ze,L)),e||[]}),[w,A,_,at]),Et=(0,t.useMemo)((function(){return o(xt,e)}),[xt]),wt=function(e){var n=t.useRef(null),r=t.useMemo((function(){var t=new Map;return e.forEach((function(e){var n=e.data.value;t.set(n,e)})),t}),[e]);return n.current=r,function(e){return e.map((function(e){return n.current.get(e)})).filter(Boolean)}}(Et),Mt=(0,t.useMemo)((function(){if(!bt||!et)return M(xt);var e=s(bt,xt,{optionFilterProp:U,filterOption:"combobox"===_&&void 0===P?function(){return!0}:P});return"tags"===_&&e.every((function(e){return e[U]!==bt}))&&e.unshift({value:bt,label:bt,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),j&&Array.isArray(e)?M(e).sort(j):e}),[xt,bt,_,et,j]),At=(0,t.useMemo)((function(){return o(Mt,e)}),[Mt]);(0,t.useEffect)((function(){ze.current&&ze.current.scrollTo&&ze.current.scrollTo(0)}),[bt]);var _t=(0,t.useMemo)((function(){var e=lt.map((function(e){var t=wt([e]);return g(g({},a(e,{options:t,prevValueMap:ht,labelInValue:Je,optionLabelProp:Ze})),{},{disabled:u(e,t)})}));return _||1!==e.length||null!==e[0].value||null!==e[0].label?e:[]}),[at,xt,_]);_t=function(e){var n=t.useRef(e);return t.useMemo((function(){var t=new Map;n.current.forEach((function(e){var n=e.value,r=e.label;n!==r&&t.set(n,r)}));var r=e.map((function(e){var n=t.get(e.value);return e.isCacheable&&n?g(g({},e),{},{label:n}):e}));return n.current=r,r}),[e])}(_t);var Tt=function(e,t,n){var r=wt([e]),i=c([e],r)[0];if(!Oe.skipTriggerSelect){var o=Je?a(e,{options:r,prevValueMap:ht,labelInValue:Je,optionLabelProp:Ze}):e;t&&Ce?Ce(o,i):!t&&Ie&&Ie(o,i)}Pe&&(t&&Oe.onRawSelect?Oe.onRawSelect(e,i,n):!t&&Oe.onRawDeselect&&Oe.onRawDeselect(e,i,n))},Nt=T((0,t.useState)([]),2),Ct=Nt[0],It=Nt[1],Lt=function(e){if(!Pe||!Oe.skipTriggerChange){var t=wt(e),n=function(e,t){var n=t.optionLabelProp,r=t.labelInValue,i=t.prevValueMap,o=t.options,a=t.getLabeledValue,s=e;return r&&(s=s.map((function(e){return a(e,{options:o,prevValueMap:i,labelInValue:r,optionLabelProp:n})}))),s}(Array.from(e),{labelInValue:Je,options:t,getLabeledValue:a,prevValueMap:ht,optionLabelProp:Ze}),r=$e?n:n[0];if(Ne&&(0!==lt.length||0!==n.length)){var i=c(e,t,{prevValueOptions:Ct});It(i.map((function(t,n){var r=g({},t);return Object.defineProperty(r,"_INTERNAL_OPTION_VALUE_",{get:function(){return e[n]}}),r}))),Ne(r,$e?i:i[0])}st(r)}},Dt=function(e,t){var n,r=t.selected,i=t.source;X||($e?(n=new Set(lt),r?n.add(e):n.delete(e)):(n=new Set).add(e),($e||!$e&&Array.from(lt)[0]!==e)&&Lt(Array.from(n)),Tt(e,!$e||r,i),"combobox"===_?(yt(String(e)),mt("")):$e&&!z||(yt(""),mt("")))},Ot="combobox"===_&&"function"===typeof ee&&ee()||null,Rt="function"===typeof te&&te(),Pt=T($y(void 0,{defaultValue:E,value:x}),2),jt=Pt[0],kt=Pt[1],Ut=jt,Ft=!Z&&!Mt.length;(X||Ft&&Ut&&"combobox"===_)&&(Ut=!1);var zt,Bt=!Ft&&Ut,Gt=function(e){var t=void 0!==e?e:!Ut;jt===t||X||(kt(t),we&&we(t))};Rt&&(zt=function(e){Gt(e)}),function(e,n,r){var i=t.useRef(null);i.current={open:n,triggerOpen:r},t.useEffect((function(){function t(t){var n=t.target;n.shadowRoot&&t.composed&&(n=t.composedPath()[0]||n),i.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&i.current.triggerOpen(!1)}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ke.current,null===(e=Ue.current)||void 0===e?void 0:e.getPopupElement()]}),Bt,Gt);var Ht=function(e,t,n){var r=!0,i=e;mt(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=Vy(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(M(t),M(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,be),a=o;if("combobox"===_)t&&Lt([i]);else if(o){i="","tags"!==_&&(a=o.map((function(e){var t=Et.find((function(t){return t.data[Ze]===e}));return t?t.data.value:null})).filter((function(e){return null!==e})));var s=Array.from(new Set([].concat(M(lt),M(a))));Lt(s),s.forEach((function(e){Tt(e,!0,"input")})),Gt(!1),r=!1}return yt(i),B&&bt!==i&&B(i),r};(0,t.useEffect)((function(){jt&&X&&kt(!1)}),[X]),(0,t.useEffect)((function(){Ut||$e||"combobox"===_||Ht("",!1,!1)}),[Ut]);var Vt=T(Tb(),2),Yt=Vt[0],Wt=Vt[1],Xt=(0,t.useRef)(!1),Qt=[];(0,t.useEffect)((function(){return function(){Qt.forEach((function(e){return clearTimeout(e)})),Qt.splice(0,Qt.length)}}),[]);var qt=T((0,t.useState)(0),2),Kt=qt[0],Zt=qt[1],Jt=void 0!==q?q:"combobox"!==_,$t=T((0,t.useState)(null),2),en=$t[0],tn=$t[1],nn=T((0,t.useState)({}),2)[1];wb((function(){if(Bt){var e,t=Math.ceil(null===(e=ke.current)||void 0===e?void 0:e.offsetWidth);en===t||Number.isNaN(t)||tn(t)}}),[Bt]);var rn,on=t.createElement(r,{ref:ze,prefixCls:v,id:Ke,open:Ut,childrenAsData:!w,options:Mt,flattenOptions:At,multiple:$e,values:ft,height:ie,itemHeight:se,onSelect:function(e,t){Dt(e,g(g({},t),{},{source:"option"}))},onToggleOpen:Gt,onActiveValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,i=void 0===r?"keyboard":r;Zt(t),$&&"combobox"===_&&null!==e&&"keyboard"===i&&mt(String(e))},defaultActiveFirstOption:Jt,notFoundContent:Z,onScroll:Ee,searchValue:bt,menuItemSelectedIcon:W,virtual:!1!==le&&!1!==de,onMouseEnter:function(){nn({})}});!X&&G&&(lt.length||bt)&&(rn=t.createElement(Ry,{className:"".concat(v,"-clear"),onMouseDown:function(){Pe&&Oe.onClear&&Oe.onClear(),Le&&Le(),Lt([]),Ht("",!1,!1)},customizeIcon:H},"\xd7"));var an,sn=void 0!==V?V:Q||!$e&&"combobox"!==_;sn&&(an=t.createElement(Ry,{className:C()("".concat(v,"-arrow"),p({},"".concat(v,"-arrow-loading"),Q)),customizeIcon:Y,customizeIconProps:{loading:Q,searchValue:bt,open:Ut,focused:Ve,showSearch:et}}));var un=C()(v,y,(p(d={},"".concat(v,"-focused"),Ve),p(d,"".concat(v,"-multiple"),$e),p(d,"".concat(v,"-single"),!$e),p(d,"".concat(v,"-allow-clear"),G),p(d,"".concat(v,"-show-arrow"),sn),p(d,"".concat(v,"-disabled"),X),p(d,"".concat(v,"-loading"),Q),p(d,"".concat(v,"-open"),Ut),p(d,"".concat(v,"-customize-input"),Ot),p(d,"".concat(v,"-show-search"),et),d)),cn=t.createElement(Db,{ref:Ue,disabled:X,prefixCls:v,visible:Bt,popupElement:on,containerWidth:en,animation:ue,transitionName:ce,dropdownStyle:he,dropdownClassName:fe,direction:ye,dropdownMatchSelectWidth:de,dropdownRender:pe,dropdownAlign:me,getPopupContainer:ne,empty:!xt.length,getTriggerDOMNode:function(){return it.current},onPopupVisibleChange:zt},Rt?t.cloneElement(Rt,{ref:Pn(it,Rt.props.ref)}):t.createElement(Cb,S({},e,{domRef:it,prefixCls:v,inputElement:Ot,ref:Fe,id:Ke,showSearch:et,mode:_,accessibilityIndex:Kt,multiple:$e,tagRender:xe,values:_t,open:Ut,onToggleOpen:Gt,searchValue:bt,activeValue:pt,onSearch:Ht,onSearchSubmit:function(e){if(e&&e.trim()){var t=Array.from(new Set([].concat(M(lt),[e])));Lt(t),t.forEach((function(e){Tt(e,!0,"input")})),yt("")}},onSelect:function(e,t){Dt(e,g(g({},t),{},{source:"selection"}))},tokenWithEnter:Be})));return Rt?cn:t.createElement("div",S({className:un},je,{ref:ke,onMouseDown:function(e){var t,n=e.target,r=null===(t=Ue.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=Qt.indexOf(i);(-1!==t&&Qt.splice(t,1),We(),nt||r.contains(document.activeElement))||(null===(e=Fe.current)||void 0===e||e.focus())}));Qt.push(i)}if(Se){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];Se.apply(void 0,[e].concat(a))}},onKeyDown:function(e){var t,n=Yt(),r=e.which;if(r===St.ENTER&&("combobox"!==_&&e.preventDefault(),Ut||Gt(!0)),Wt(!!bt),r===St.BACKSPACE&&!n&&$e&&!bt&&lt.length){var i=Wy(_t,lt);null!==i.removedValue&&(Lt(i.values),Tt(i.removedValue,!1,"input"))}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];Ut&&ze.current&&(t=ze.current).onKeyDown.apply(t,[e].concat(a));Te&&Te.apply(void 0,[e].concat(a))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ut&&ze.current&&(i=ze.current).onKeyUp.apply(i,[e].concat(n));_e&&_e.apply(void 0,[e].concat(n))},onFocus:function(){Ye(!0),X||(Me&&!Xt.current&&Me.apply(void 0,arguments),ve.includes("focus")&&Gt(!0)),Xt.current=!0},onBlur:function(){Ye(!1,(function(){Xt.current=!1,Gt(!1)})),X||(bt&&("tags"===_?(Ht("",!1,!1),Lt(Array.from(new Set([].concat(M(lt),[bt]))))):"multiple"===_&&yt("")),Ae&&Ae.apply(void 0,arguments))}}),Ve&&!Ut&&t.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(lt.join(", "))),cn,an,rn)}return t.forwardRef(f)}({prefixCls:"rc-select",components:{optionList:ky},convertChildrenToData:Hy,flattenOptions:function(e){var t=[];return function e(n,r){n.forEach((function(n){r||!("options"in n)?t.push({key:qy(n,t.length),groupOption:r,data:n}):(t.push({key:qy(n,t.length),group:!0,data:n}),e(n.options,!0))}))}(e,!1),t},getLabeledValue:function(e,t){var n=t.options,r=t.prevValueMap,i=t.labelInValue,o=t.optionLabelProp,a=Zy([e],n)[0],s={value:e},u=i?r.get(e):void 0;return u&&"object"===l(u)&&"label"in u?(s.label=u.label,a&&"string"===typeof u.label&&"string"===typeof a[o]&&u.label.trim()!==a[o].trim()&&je(!1,"`label` of `value` is not same as `label` in Select options.")):a&&o in a?s.label=a[o]:(s.label=e,s.isCacheable=!0),s.key=s.value,s},filterOptions:function(e,t,n){var r,i=n.optionFilterProp,o=n.filterOption,a=[];return!1===o?M(t):(r="function"===typeof o?o:function(e){return function(t,n){var r=t.toLowerCase();return"options"in n?Jy(n.label).toLowerCase().includes(r):Jy(n[e]).toLowerCase().includes(r)}}(i),t.forEach((function(t){if("options"in t)if(r(e,t))a.push(t);else{var n=t.options.filter((function(t){return r(e,t)}));n.length&&a.push(g(g({},t),{},{options:n}))}else r(e,Ky(t))&&a.push(t)})),a)},isValueDisabled:function(e,t){return Zy([e],t)[0].disabled},findValueOption:Zy,warningProps:Rb,fillOptionsWithMissingValue:function(e,t,n,r){var i=Yy(t).slice().sort(),o=M(e),a=new Set;return e.forEach((function(e){e.options?e.options.forEach((function(e){a.add(e.value)})):a.add(e.value)})),i.forEach((function(e){var t,i=r?e.value:e;a.has(i)||o.push(r?(p(t={},n,e.label),p(t,"value",i),t):{value:i})})),o}}),jb=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).selectRef=t.createRef(),e.focus=function(){e.selectRef.current.focus()},e.blur=function(){e.selectRef.current.blur()},e}return a(r,[{key:"render",value:function(){return t.createElement(Pb,S({ref:this.selectRef},this.props))}}]),r}(t.Component);jb.Option=Fy,jb.OptGroup=By;var kb=jb,Ub={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Fb=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Ub}))};Fb.displayName="DownOutlined";var zb=t.forwardRef(Fb),Bb={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Gb=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Bb}))};Gb.displayName="LoadingOutlined";var Hb=t.forwardRef(Gb),Vb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Yb=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Vb}))};Yb.displayName="CheckOutlined";var Wb=t.forwardRef(Yb),Xb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Qb=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Xb}))};Qb.displayName="CloseOutlined";var qb=t.forwardRef(Qb),Kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Zb=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:Kb}))};Zb.displayName="CloseCircleFilled";var Jb=t.forwardRef(Zb),$b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ex=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:$b}))};ex.displayName="SearchOutlined";var tx=t.forwardRef(ex);var nx=t.createContext(void 0),rx=function(e){var n=e.children,r=e.size;return t.createElement(nx.Consumer,null,(function(e){return t.createElement(nx.Provider,{value:r||e},n)}))},ix=nx,ox=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ax="SECRET_COMBOBOX_MODE_DO_NOT_USE",sx=function(e,n){var r,i,o=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.className,c=e.getPopupContainer,l=e.dropdownClassName,h=e.listHeight,f=void 0===h?256:h,d=e.listItemHeight,m=void 0===d?24:d,g=e.size,v=e.notFoundContent,y=ox(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent"]),b=t.useContext(W),x=b.getPopupContainer,E=b.getPrefixCls,w=b.renderEmpty,M=b.direction,A=b.virtual,_=b.dropdownMatchSelectWidth,T=t.useContext(ix),N=E("select",o),I=E(),L=t.useMemo((function(){var e=y.mode;if("combobox"!==e)return e===ax?"combobox":e}),[y.mode]),D="multiple"===L||"tags"===L;i=void 0!==v?v:"combobox"===L?null:w("Select");var O=function(e){var n=e.suffixIcon,r=e.clearIcon,i=e.menuItemSelectedIcon,o=e.removeIcon,a=e.loading,s=e.multiple,u=e.prefixCls,c=r;r||(c=t.createElement(Jb,null));var l=null;if(void 0!==n)l=n;else if(a)l=t.createElement(Hb,{spin:!0});else{var h="".concat(u,"-suffix");l=function(e){var n=e.open,r=e.showSearch;return n&&r?t.createElement(tx,{className:h}):t.createElement(zb,{className:h})}}return{clearIcon:c,suffixIcon:l,itemIcon:void 0!==i?i:s?t.createElement(Wb,null):null,removeIcon:void 0!==o?o:t.createElement(qb,null)}}(S(S({},y),{multiple:D,prefixCls:N})),R=O.suffixIcon,P=O.itemIcon,j=O.removeIcon,k=O.clearIcon,U=re(y,["suffixIcon","itemIcon"]),F=C()(l,p({},"".concat(N,"-dropdown-").concat(M),"rtl"===M)),z=g||T,B=C()((p(r={},"".concat(N,"-lg"),"large"===z),p(r,"".concat(N,"-sm"),"small"===z),p(r,"".concat(N,"-rtl"),"rtl"===M),p(r,"".concat(N,"-borderless"),!s),r),u);return t.createElement(kb,S({ref:n,virtual:A,dropdownMatchSelectWidth:_},U,{transitionName:ta(I,"slide-up",y.transitionName),listHeight:f,listItemHeight:m,mode:L,prefixCls:N,direction:M,inputIcon:R,menuItemSelectedIcon:P,removeIcon:j,clearIcon:k,notFoundContent:i,className:B,getPopupContainer:c||x,dropdownClassName:F}))},ux=t.forwardRef(sx);ux.SECRET_COMBOBOX_MODE_DO_NOT_USE=ax,ux.Option=Fy,ux.OptGroup=By;var cx,lx=ux;function hx(e){if("undefined"===typeof document)return 0;if(e||void 0===cx){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),cx=i-o}return cx}var fx=function(e){return null};var dx=function(e){return null};function px(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function mx(e,t){if(!t&&"number"!==typeof t)return e;for(var n=px(t),r=e,i=0;i<n.length;i+=1){if(!r)return null;r=r[n[i]]}return r}function gx(e){var t=[],n={};return e.forEach((function(e){for(var r=e||{},i=r.key,o=r.dataIndex,a=i||px(o).join("-")||"RC_TABLE_KEY";n[a];)a="".concat(a,"_next");n[a]=!0,t.push(a)})),t}function vx(e){return null!==e&&void 0!==e}function yx(e,n){var r,i,o,a,s=e.prefixCls,u=e.className,c=e.record,h=e.index,f=e.dataIndex,d=e.render,m=e.children,v=e.component,y=void 0===v?"td":v,b=e.colSpan,x=e.rowSpan,E=e.fixLeft,w=e.fixRight,M=e.firstFixLeft,A=e.lastFixLeft,_=e.firstFixRight,T=e.lastFixRight,S=e.appendNode,N=e.additionalProps,I=void 0===N?{}:N,L=e.ellipsis,D=e.align,O=e.rowType,R=e.isSticky,P="".concat(s,"-cell");if(m)o=m;else{var j=mx(c,f);if(o=j,d){var k=d(j,c,h);!(a=k)||"object"!==l(a)||Array.isArray(a)||t.isValidElement(a)?o=k:(o=k.children,i=k.props)}}"object"!==l(o)||Array.isArray(o)||t.isValidElement(o)||(o=null),L&&(A||_)&&(o=t.createElement("span",{className:"".concat(P,"-content")},o));var U=i||{},F=U.colSpan,z=U.rowSpan,B=U.style,G=U.className,H=oe(U,["colSpan","rowSpan","style","className"]),V=void 0!==F?F:b,Y=void 0!==z?z:x;if(0===V||0===Y)return null;var W={},X="number"===typeof E,Q="number"===typeof w;X&&(W.position="sticky",W.left=E),Q&&(W.position="sticky",W.right=w);var q,K={};D&&(K.textAlign=D);var Z=!0===L?{showTitle:!0}:L;Z&&(Z.showTitle||"header"===O)&&("string"===typeof o||"number"===typeof o?q=o.toString():t.isValidElement(o)&&"string"===typeof o.props.children&&(q=o.props.children));var J,$=g(g(g({title:q},H),I),{},{colSpan:V&&1!==V?V:null,rowSpan:Y&&1!==Y?Y:null,className:C()(P,u,(r={},p(r,"".concat(P,"-fix-left"),X),p(r,"".concat(P,"-fix-left-first"),M),p(r,"".concat(P,"-fix-left-last"),A),p(r,"".concat(P,"-fix-right"),Q),p(r,"".concat(P,"-fix-right-first"),_),p(r,"".concat(P,"-fix-right-last"),T),p(r,"".concat(P,"-ellipsis"),L),p(r,"".concat(P,"-with-append"),S),p(r,"".concat(P,"-fix-sticky"),(X||Q)&&R),r),I.className,G),style:g(g(g(g({},I.style),K),W),B),ref:(J=y,"string"===typeof J||jn(J)?n:null)});return t.createElement(y,$,S,o)}var bx=t.forwardRef(yx);bx.displayName="Cell";var xx=t.memo(bx,(function(e,t){return!!t.shouldCellUpdate&&!t.shouldCellUpdate(t.record,e.record)})),Ex=t.createContext(null);function wx(e,t,n,r,i){var o,a,s=n[e]||{},u=n[t]||{};"left"===s.fixed?o=r.left[e]:"right"===u.fixed&&(a=r.right[t]);var c=!1,l=!1,h=!1,f=!1,d=n[t+1],p=n[e-1];if("rtl"===i){if(void 0!==o)f=!(p&&"left"===p.fixed);else if(void 0!==a){h=!(d&&"right"===d.fixed)}}else if(void 0!==o){c=!(d&&"left"===d.fixed)}else if(void 0!==a){l=!(p&&"right"===p.fixed)}return{fixLeft:o,fixRight:a,lastFixLeft:c,firstFixRight:l,lastFixRight:h,firstFixLeft:f,isSticky:r.isSticky}}function Mx(e){var n,r=e.cells,i=e.stickyOffsets,o=e.flattenColumns,a=e.rowComponent,s=e.cellComponent,u=e.onHeaderRow,c=e.index,l=t.useContext(Ex),h=l.prefixCls,f=l.direction;u&&(n=u(r.map((function(e){return e.column})),c));var d=gx(r.map((function(e){return e.column})));return t.createElement(a,n,r.map((function(e,n){var r,a=e.column,u=wx(e.colStart,e.colEnd,o,i,f);return a&&a.onHeaderCell&&(r=e.column.onHeaderCell(a)),t.createElement(xx,S({},e,{ellipsis:a.ellipsis,align:a.align,component:s,prefixCls:h,key:d[n]},u,{additionalProps:r,rowType:"header"}))})))}Mx.displayName="HeaderRow";var Ax=Mx;var _x=function(e){var n=e.stickyOffsets,r=e.columns,i=e.flattenColumns,o=e.onHeaderRow,a=t.useContext(Ex),s=a.prefixCls,u=a.getComponent,c=t.useMemo((function(){return function(e){var t=[];!function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[i]=t[i]||[];var o=r;return n.filter(Boolean).map((function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},a=1,s=n.children;return s&&s.length>0&&(a=e(s,o,i+1).reduce((function(e,t){return e+t}),0),r.hasSubColumns=!0),"colSpan"in n&&(a=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,t[i].push(r),o+=a,a}))}(e,0);for(var n=t.length,r=function(e){t[e].forEach((function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)}))},i=0;i<n;i+=1)r(i);return t}(r)}),[r]),l=u(["header","wrapper"],"thead"),h=u(["header","row"],"tr"),f=u(["header","cell"],"th");return t.createElement(l,{className:"".concat(s,"-thead")},c.map((function(e,r){return t.createElement(Ax,{key:r,flattenColumns:i,cells:e,stickyOffsets:n,rowComponent:h,cellComponent:f,onHeaderRow:o,index:r})})))},Tx="RC_TABLE_INTERNAL_COL_DEFINE";var Sx=function(e){for(var n=e.colWidths,r=e.columns,i=[],o=!1,a=(e.columCount||r.length)-1;a>=0;a-=1){var s=n[a],u=r&&r[a],c=u&&u[Tx];(s||c||o)&&(i.unshift(t.createElement("col",S({key:a,style:{width:s,minWidth:s}},c))),o=!0)}return t.createElement("colgroup",null,i)};var Nx=t.forwardRef((function(e,n){var r=e.noData,i=e.columns,o=e.flattenColumns,a=e.colWidths,s=e.columCount,u=e.stickyOffsets,c=e.direction,l=e.fixHeader,h=e.offsetHeader,f=e.stickyClassName,d=e.onScroll,m=e.maxContentScroll,v=oe(e,["noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","offsetHeader","stickyClassName","onScroll","maxContentScroll"]),y=t.useContext(Ex),b=y.prefixCls,x=y.scrollbarSize,E=y.isSticky,w=E&&!l?0:x,A=t.useRef(null),_=t.useCallback((function(e){Rn(n,e),Rn(A,e)}),[]);t.useEffect((function(){var e;function t(e){var t=e.currentTarget,n=e.deltaX;n&&(d({currentTarget:t,scrollLeft:t.scrollLeft+n}),e.preventDefault())}return null===(e=A.current)||void 0===e||e.addEventListener("wheel",t),function(){var e;null===(e=A.current)||void 0===e||e.removeEventListener("wheel",t)}}),[]);var T=t.useMemo((function(){return o.every((function(e){return e.width>=0}))}),[o]),N=o[o.length-1],I={fixed:N?N.fixed:null,onHeaderCell:function(){return{className:"".concat(b,"-cell-scrollbar")}}},L=(0,t.useMemo)((function(){return w?[].concat(M(i),[I]):i}),[w,i]),D=(0,t.useMemo)((function(){return w?[].concat(M(o),[I]):o}),[w,o]),O=(0,t.useMemo)((function(){var e=u.right,t=u.left;return g(g({},u),{},{left:"rtl"===c?[].concat(M(t.map((function(e){return e+w}))),[0]):t,right:"rtl"===c?e:[].concat(M(e.map((function(e){return e+w}))),[0]),isSticky:E})}),[w,u,E]),R=function(e,n){return(0,t.useMemo)((function(){for(var t=[],r=0;r<n;r+=1){var i=e[r];if(void 0===i)return null;t[r]=i}return t}),[e.join("_"),n])}(a,s);return t.createElement("div",{style:g({overflow:"hidden"},E?{top:h}:{}),ref:_,className:C()("".concat(b,"-header"),p({},f,!!f))},t.createElement("table",{style:{tableLayout:"fixed",visibility:r||R?null:"hidden"}},(!r||!m||T)&&t.createElement(Sx,{colWidths:R?[].concat(M(R),[w]):[],columCount:s+1,columns:D}),t.createElement(_x,S({},v,{stickyOffsets:O,columns:L,flattenColumns:D}))))}));Nx.displayName="FixedHeader";var Cx=Nx,Ix=t.createContext(null);var Lx=function(e){var n=e.prefixCls,r=e.children,i=e.component,o=e.cellComponent,a=e.fixHeader,s=e.fixColumn,u=e.horizonScroll,c=e.className,l=e.expanded,h=e.componentWidth,f=e.colSpan,d=t.useContext(Ex).scrollbarSize;return t.useMemo((function(){var e=r;return s&&(e=t.createElement("div",{style:{width:h-(a?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(n,"-expanded-row-fixed")},e)),t.createElement(i,{className:c,style:{display:l?null:"none"}},t.createElement(xx,{component:o,prefixCls:n,colSpan:f},e))}),[r,i,a,u,c,l,h,f,d])};function Dx(e){var n=e.className,r=e.style,i=e.record,o=e.index,a=e.rowKey,s=e.getRowKey,u=e.rowExpandable,c=e.expandedKeys,l=e.onRow,h=e.indent,f=void 0===h?0:h,d=e.rowComponent,p=e.cellComponent,m=e.childrenColumnName,v=t.useContext(Ex),y=v.prefixCls,b=v.fixedInfoList,x=t.useContext(Ix),E=x.fixHeader,w=x.fixColumn,M=x.horizonScroll,A=x.componentWidth,_=x.flattenColumns,N=x.expandableType,I=x.expandRowByClick,L=x.onTriggerExpand,D=x.rowClassName,O=x.expandedRowClassName,R=x.indentSize,P=x.expandIcon,j=x.expandedRowRender,k=x.expandIconColumnIndex,U=T(t.useState(!1),2),F=U[0],z=U[1],B=c&&c.has(e.recordKey);t.useEffect((function(){B&&z(!0)}),[B]);var G,H="row"===N&&(!u||u(i)),V="nest"===N,Y=m&&i&&i[m],W=H||V;l&&(G=l(i,o));var X;"string"===typeof D?X=D:"function"===typeof D&&(X=D(i,o,f));var Q,q,K=gx(_),Z=t.createElement(d,S({},G,{"data-row-key":a,className:C()(n,"".concat(y,"-row"),"".concat(y,"-row-level-").concat(f),X,G&&G.className),style:g(g({},r),G?G.style:null),onClick:function(e){if(I&&W&&L(i,e),G&&G.onClick){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=G).onClick.apply(t,[e].concat(r))}}}),_.map((function(e,n){var r,a,s=e.render,u=e.dataIndex,c=e.className,l=K[n],h=b[n];return n===(k||0)&&V&&(r=t.createElement(t.Fragment,null,t.createElement("span",{style:{paddingLeft:"".concat(R*f,"px")},className:"".concat(y,"-row-indent indent-level-").concat(f)}),P({prefixCls:y,expanded:B,expandable:Y,record:i,onExpand:L}))),e.onCell&&(a=e.onCell(i,o)),t.createElement(xx,S({className:c,ellipsis:e.ellipsis,align:e.align,component:p,prefixCls:y,key:l,record:i,index:o,dataIndex:u,render:s,shouldCellUpdate:e.shouldCellUpdate},h,{appendNode:r,additionalProps:a}))})));if(H&&(F||B)){var J=j(i,o,f+1,B),$=O&&O(i,o,f);Q=t.createElement(Lx,{expanded:B,className:C()("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(f+1),$),prefixCls:y,fixHeader:E,fixColumn:w,horizonScroll:M,component:d,componentWidth:A,cellComponent:p,colSpan:_.length},J)}return Y&&B&&(q=(i[m]||[]).map((function(n,r){var i=s(n,r);return t.createElement(Dx,S({},e,{key:i,rowKey:i,record:n,recordKey:i,index:r,indent:f+1}))}))),t.createElement(t.Fragment,null,Z,Q,q)}Dx.displayName="BodyRow";var Ox=Dx,Rx=t.createContext(null);function Px(e){var n=e.columnKey,r=e.onColumnResize,i=t.useRef();return t.useEffect((function(){i.current&&r(n,i.current.offsetWidth)}),[]),t.createElement(Wv,{onResize:function(e){var t=e.offsetWidth;r(n,t)}},t.createElement("td",{ref:i,style:{padding:0,border:0,height:0}},t.createElement("div",{style:{height:0,overflow:"hidden"}},"\xa0")))}function jx(e){var n=e.data,r=e.getRowKey,i=e.measureColumnWidth,o=e.expandedKeys,a=e.onRow,s=e.rowExpandable,u=e.emptyNode,c=e.childrenColumnName,l=t.useContext(Rx).onColumnResize,h=t.useContext(Ex),f=h.prefixCls,d=h.getComponent,p=t.useContext(Ix),m=p.fixHeader,g=p.horizonScroll,v=p.flattenColumns,y=p.componentWidth;return t.useMemo((function(){var e,h=d(["body","wrapper"],"tbody"),p=d(["body","row"],"tr"),b=d(["body","cell"],"td");e=n.length?n.map((function(e,n){var i=r(e,n);return t.createElement(Ox,{key:i,rowKey:i,record:e,recordKey:i,index:n,rowComponent:p,cellComponent:b,expandedKeys:o,onRow:a,getRowKey:r,rowExpandable:s,childrenColumnName:c})})):t.createElement(Lx,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,fixHeader:m,fixColumn:g,horizonScroll:g,component:p,componentWidth:y,cellComponent:b,colSpan:v.length},u);var x=gx(v);return t.createElement(h,{className:"".concat(f,"-tbody")},i&&t.createElement("tr",{"aria-hidden":"true",className:"".concat(f,"-measure-row"),style:{height:0,fontSize:0}},x.map((function(e){return t.createElement(Px,{key:e,columnKey:e,onColumnResize:l})}))),e)}),[n,f,a,i,o,r,d,y,u,v])}var kx=t.memo(jx);kx.displayName="Body";var Ux=kx;function Fx(e){return It(e).filter((function(e){return t.isValidElement(e)})).map((function(e){var t=e.key,n=e.props,r=n.children,i=g({key:t},oe(n,["children"]));return r&&(i.children=Fx(r)),i}))}function zx(e){return e.reduce((function(e,t){var n=t.fixed,r=!0===n?"left":n,i=t.children;return i&&i.length>0?[].concat(M(e),M(zx(i).map((function(e){return g({fixed:r},e)})))):[].concat(M(e),[g(g({},t),{},{fixed:r})])}),[])}var Bx=function(e,n){var r=e.prefixCls,i=e.columns,o=e.children,a=e.expandable,s=e.expandedKeys,u=e.getRowKey,c=e.onTriggerExpand,l=e.expandIcon,h=e.rowExpandable,f=e.expandIconColumnIndex,d=e.direction,m=e.expandRowByClick,v=e.columnWidth,y=t.useMemo((function(){return i||Fx(o)}),[i,o]),b=t.useMemo((function(){if(a){var e,n=f||0,i=y[n],o=(p(e={},Tx,{className:"".concat(r,"-expand-icon-col")}),p(e,"title",""),p(e,"fixed",i?i.fixed:null),p(e,"className","".concat(r,"-row-expand-icon-cell")),p(e,"width",v),p(e,"render",(function(e,n,i){var o=u(n,i),a=s.has(o),f=!h||h(n),d=l({prefixCls:r,expanded:a,expandable:f,record:n,onExpand:c});return m?t.createElement("span",{onClick:function(e){return e.stopPropagation()}},d):d})),e),d=y.slice();return n>=0&&d.splice(n,0,o),d}return y}),[a,y,u,s,l,d]),x=t.useMemo((function(){var e=b;return n&&(e=n(e)),e.length||(e=[{render:function(){return null}}]),e}),[n,b,d]),E=t.useMemo((function(){return"rtl"===d?function(e){return e.map((function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),g({fixed:n},oe(e,["fixed"]))}))}(zx(x)):zx(x)}),[x,d]);return[x,E]};function Gx(e){var n=(0,t.useRef)(e),r=T((0,t.useState)({}),2)[1],i=(0,t.useRef)(null),o=(0,t.useRef)([]);return(0,t.useEffect)((function(){return function(){i.current=null}}),[]),[n.current,function(e){o.current.push(e);var t=Promise.resolve();i.current=t,t.then((function(){if(i.current===t){var e=o.current,a=n.current;o.current=[],e.forEach((function(e){n.current=e(n.current)})),i.current=null,a!==n.current&&r({})}}))}]}var Hx=function(e,n,r){return(0,t.useMemo)((function(){for(var t=[],i=[],o=0,a=0,s=0;s<n;s+=1)if("rtl"===r){i[s]=a,a+=e[s]||0;var u=n-s-1;t[u]=o,o+=e[u]||0}else{t[s]=o,o+=e[s]||0;var c=n-s-1;i[c]=a,a+=e[c]||0}return{left:t,right:i}}),[e,n,r])};var Vx=function(e){var n=e.className,r=e.children;return t.createElement("div",{className:n},r)};var Yx=function(e){var n=e.children,r=t.useContext(Ex).prefixCls;return t.createElement("tfoot",{className:"".concat(r,"-summary")},n)},Wx={Cell:function(e){var n=e.className,r=e.index,i=e.children,o=e.colSpan,a=e.rowSpan,s=e.align,u=t.useContext(Ex),c=u.prefixCls,l=u.fixedInfoList[r];return t.createElement(xx,S({className:n,index:r,component:"td",prefixCls:c,record:null,dataIndex:null,align:s,render:function(){return{children:i,props:{colSpan:o,rowSpan:a}}}},l))},Row:function(e){return t.createElement("tr",e)}};function Xx(e){var n,r=e.prefixCls,i=e.record,o=e.onExpand,a=e.expanded,s=e.expandable,u="".concat(r,"-row-expand-icon");if(!s)return t.createElement("span",{className:C()(u,"".concat(r,"-row-spaced"))});return t.createElement("span",{className:C()(u,(n={},p(n,"".concat(r,"-row-expanded"),a),p(n,"".concat(r,"-row-collapsed"),!a),n)),onClick:function(e){o(i,e),e.stopPropagation()}})}function Qx(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var qx=function(e,n){var r,i,o=e.scrollBodyRef,a=e.onScroll,s=e.offsetScroll,u=e.container,c=t.useContext(Ex).prefixCls,l=(null===(r=o.current)||void 0===r?void 0:r.scrollWidth)||0,h=(null===(i=o.current)||void 0===i?void 0:i.clientWidth)||0,f=l&&h*(h/l),d=t.useRef(),m=T(Gx({scrollLeft:0,isHiddenScrollBar:!1}),2),v=m[0],y=m[1],b=t.useRef({delta:0,x:0}),x=T(t.useState(!1),2),E=x[0],w=x[1],M=function(){w(!1)},A=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(E&&0!==n){var r=b.current.x+e.pageX-b.current.x-b.current.delta;r<=0&&(r=0),r+f>=h&&(r=h-f),a({scrollLeft:r/h*(l+2)}),b.current.x=e.pageX}else E&&w(!1)},_=function(){var e=Qx(o.current).top,t=e+o.current.offsetHeight,n=u===window?document.documentElement.scrollTop+window.innerHeight:Qx(u).top+u.clientHeight;t-hx()<=n||e>=n-s?y((function(e){return g(g({},e),{},{isHiddenScrollBar:!0})})):y((function(e){return g(g({},e),{},{isHiddenScrollBar:!1})}))},S=function(e){y((function(t){return g(g({},t),{},{scrollLeft:e/l*h||0})}))};return t.useImperativeHandle(n,(function(){return{setScrollLeft:S}})),t.useEffect((function(){var e=kn(document.body,"mouseup",M,!1),t=kn(document.body,"mousemove",A,!1);return _(),function(){e.remove(),t.remove()}}),[f,E]),t.useEffect((function(){var e=kn(u,"scroll",_,!1),t=kn(window,"resize",_,!1);return function(){e.remove(),t.remove()}}),[u]),t.useEffect((function(){v.isHiddenScrollBar||y((function(e){var t=o.current;return t?g(g({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e}))}),[v.isHiddenScrollBar]),l<=h||!f||v.isHiddenScrollBar?null:t.createElement("div",{style:{height:hx(),width:h,bottom:s},className:"".concat(c,"-sticky-scroll")},t.createElement("div",{onMouseDown:function(e){e.persist(),b.current.delta=e.pageX-v.scrollLeft,b.current.x=0,w(!0),e.preventDefault()},ref:d,className:C()("".concat(c,"-sticky-scroll-bar"),p({},"".concat(c,"-sticky-scroll-bar-active"),E)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(v.scrollLeft,"px, 0, 0)")}}))},Kx=t.forwardRef(qx),Zx=Un()?window:null;var Jx=[],$x={},eE="rc-table-internal-hook",tE=t.memo((function(e){return e.children}),(function(e,t){return!!yt()(e.props,t.props)&&(e.pingLeft!==t.pingLeft||e.pingRight!==t.pingRight)}));function nE(e){var n,r=e.prefixCls,i=e.className,o=e.rowClassName,a=e.style,s=e.data,u=e.rowKey,c=e.scroll,h=e.tableLayout,f=e.direction,d=e.title,m=e.footer,v=e.summary,y=e.id,b=e.showHeader,x=e.components,E=e.emptyText,w=e.onRow,A=e.onHeaderRow,_=e.internalHooks,N=e.transformColumns,I=e.internalRefs,L=e.sticky,D=s||Jx,O=!!D.length,R=T(t.useState(0),2),P=R[0],j=R[1];t.useEffect((function(){j(hx())}));var k,U,F,z=t.useMemo((function(){return function(){var e={};function t(e,n){n&&Object.keys(n).forEach((function(r){var i=n[r];i&&"object"===l(i)?(e[r]=e[r]||{},t(e[r],i)):e[r]=i}))}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach((function(n){t(e,n)})),e}(x,{})}),[x]),B=t.useCallback((function(e,t){return mx(z,e)||t}),[z]),G=t.useMemo((function(){return"function"===typeof u?u:function(e){return e&&e[u]}}),[u]),H=function(e){var t=e.expandable,n=oe(e,["expandable"]);return"expandable"in e?g(g({},n),t):n}(e),V=H.expandIcon,Y=H.expandedRowKeys,W=H.defaultExpandedRowKeys,X=H.defaultExpandAllRows,Q=H.expandedRowRender,q=H.onExpand,K=H.onExpandedRowsChange,Z=H.expandRowByClick,J=H.rowExpandable,$=H.expandIconColumnIndex,ee=H.expandedRowClassName,te=H.childrenColumnName,ne=H.indentSize,re=V||Xx,ie=te||"children",ae=t.useMemo((function(){return Q?"row":!!(e.expandable&&_===eE&&e.expandable.__PARENT_RENDER_ICON__||D.some((function(e){return e&&"object"===l(e)&&e[ie]})))&&"nest"}),[!!Q,D]),se=t.useState((function(){return W||(X?function(e,t,n){var r=[];return function e(i){(i||[]).forEach((function(i,o){r.push(t(i,o)),e(i[n])}))}(e),r}(D,G,ie):[])})),ue=T(se,2),ce=ue[0],le=ue[1],he=t.useMemo((function(){return new Set(Y||ce||[])}),[Y,ce]),fe=t.useCallback((function(e){var t,n=G(e,D.indexOf(e)),r=he.has(n);r?(he.delete(n),t=M(he)):t=[].concat(M(he),[n]),le(t),q&&q(!r,e),K&&K(t)}),[G,he,D,q,K]),de=T(t.useState(0),2),pe=de[0],me=de[1],ge=T(Bx(g(g(g({},e),H),{},{expandable:!!Q,expandedKeys:he,getRowKey:G,onTriggerExpand:fe,expandIcon:re,expandIconColumnIndex:$,direction:f}),_===eE?N:null),2),ve=ge[0],ye=ge[1],be=t.useMemo((function(){return{columns:ve,flattenColumns:ye}}),[ve,ye]),xe=t.useRef(),Ee=t.useRef(),we=t.useRef(),Me=T(t.useState(!1),2),Ae=Me[0],_e=Me[1],Te=T(t.useState(!1),2),Se=Te[0],Ne=Te[1],Ce=T(Gx(new Map),2),Ie=Ce[0],Le=Ce[1],De=gx(ye).map((function(e){return Ie.get(e)})),Oe=t.useMemo((function(){return De}),[De.join("_")]),Re=Hx(Oe,ye.length,f),Pe=c&&vx(c.y),ke=c&&vx(c.x),Ue=ke&&ye.some((function(e){return e.fixed})),Fe=t.useRef(),ze=function(e,n){var r="object"===l(e)?e:{},i=r.offsetHeader,o=void 0===i?0:i,a=r.offsetScroll,s=void 0===a?0:a,u=r.getContainer,c=(void 0===u?function(){return Zx}:u)()||Zx;return t.useMemo((function(){var t=!!e;return{isSticky:t,stickyClassName:t?"".concat(n,"-sticky-header"):"",offsetHeader:o,offsetScroll:s,container:c}}),[s,o,n,c])}(L,r),Be=ze.isSticky,Ge=ze.offsetHeader,He=ze.offsetScroll,Ve=ze.stickyClassName,Ye=ze.container;Pe&&(U={overflowY:"scroll",maxHeight:c.y}),ke&&(k={overflowX:"auto"},Pe||(U={overflowY:"hidden"}),F={width:!0===c.x?"auto":c.x,minWidth:"100%"});var We=t.useCallback((function(e,t){Rr(xe.current)&&Le((function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n}))}),[]),Xe=T(function(e){var n=(0,t.useRef)(e||null),r=(0,t.useRef)();function i(){window.clearTimeout(r.current)}return(0,t.useEffect)((function(){return i}),[]),[function(e){n.current=e,i(),r.current=window.setTimeout((function(){n.current=null,r.current=void 0}),100)},function(){return n.current}]}(null),2),Qe=Xe[0],qe=Xe[1];function Ke(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e))}var Ze=function(e){var t,n=e.currentTarget,r=e.scrollLeft,i="rtl"===f,o="number"===typeof r?r:n.scrollLeft,a=n||$x;qe()&&qe()!==a||(Qe(a),Ke(o,Ee.current),Ke(o,we.current),Ke(o,null===(t=Fe.current)||void 0===t?void 0:t.setScrollLeft));if(n){var s=n.scrollWidth,u=n.clientWidth;i?(_e(-o<s-u),Ne(-o>0)):(_e(o>0),Ne(o<s-u))}},Je=function(){we.current&&Ze({currentTarget:we.current})};t.useEffect((function(){return Je}),[]),t.useEffect((function(){ke&&Je()}),[ke]),t.useEffect((function(){_===eE&&I&&(I.body.current=we.current)}));var $e,et,tt=B(["table"],"table"),nt=t.useMemo((function(){return h||(Ue?"max-content"===c.x?"auto":"fixed":Pe||Be||ye.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[Pe,Ue,ye,h,Be]),rt={colWidths:Oe,columCount:ye.length,stickyOffsets:Re,onHeaderRow:A,fixHeader:Pe,scroll:c},it=t.useMemo((function(){return O?null:"function"===typeof E?E():E}),[O,E]),ot=t.createElement(Ux,{data:D,measureColumnWidth:Pe||ke||Be,expandedKeys:he,rowExpandable:J,getRowKey:G,onRow:w,emptyNode:it,childrenColumnName:ie}),at=t.createElement(Sx,{colWidths:ye.map((function(e){return e.width})),columns:ye}),st=v&&t.createElement(Yx,null,v(D)),ut=B(["body"]);Pe||Be?("function"===typeof ut?(et=ut(D,{scrollbarSize:P,ref:we,onScroll:Ze}),rt.colWidths=ye.map((function(e,t){var n=e.width,r=t===ve.length-1?n-P:n;return"number"!==typeof r||Number.isNaN(r)?(je(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0):r}))):et=t.createElement("div",{style:g(g({},k),U),onScroll:Ze,ref:we,className:C()("".concat(r,"-body"))},t.createElement(tt,{style:g(g({},F),{},{tableLayout:nt})},at,ot,st)),$e=t.createElement(t.Fragment,null,!1!==b&&t.createElement(Cx,S({noData:!D.length,maxContentScroll:ke&&"max-content"===c.x},rt,be,{direction:f,offsetHeader:Ge,stickyClassName:Ve,ref:Ee,onScroll:Ze})),et,Be&&t.createElement(Kx,{ref:Fe,offsetScroll:He,scrollBodyRef:we,onScroll:Ze,container:Ye}))):$e=t.createElement("div",{style:g(g({},k),U),className:C()("".concat(r,"-content")),onScroll:Ze,ref:we},t.createElement(tt,{style:g(g({},F),{},{tableLayout:nt})},at,!1!==b&&t.createElement(_x,S({},rt,be)),ot,st));var ct=function(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)||(t[n]=e[n]),t}),{})}(e),lt=t.createElement("div",S({className:C()(r,i,(n={},p(n,"".concat(r,"-rtl"),"rtl"===f),p(n,"".concat(r,"-ping-left"),Ae),p(n,"".concat(r,"-ping-right"),Se),p(n,"".concat(r,"-layout-fixed"),"fixed"===h),p(n,"".concat(r,"-fixed-header"),Pe),p(n,"".concat(r,"-fixed-column"),Ue),p(n,"".concat(r,"-scroll-horizontal"),ke),p(n,"".concat(r,"-has-fix-left"),ye[0]&&ye[0].fixed),p(n,"".concat(r,"-has-fix-right"),ye[ye.length-1]&&"right"===ye[ye.length-1].fixed),n)),style:a,id:y,ref:xe},ct),t.createElement(tE,{pingLeft:Ae,pingRight:Se,props:g(g({},e),{},{stickyOffsets:Re,mergedExpandedKeys:he})},d&&t.createElement(Vx,{className:"".concat(r,"-title")},d(D)),t.createElement("div",{className:"".concat(r,"-container")},$e),m&&t.createElement(Vx,{className:"".concat(r,"-footer")},m(D))));ke&&(lt=t.createElement(Wv,{onResize:function(e){var t=e.width;Je(),me(xe.current?xe.current.offsetWidth:t)}},lt));var ht=t.useMemo((function(){return{prefixCls:r,getComponent:B,scrollbarSize:P,direction:f,fixedInfoList:ye.map((function(e,t){return wx(t,t,ye,Re,f)})),isSticky:Be}}),[r,B,P,f,ye,Re,f,Be]),ft=t.useMemo((function(){return g(g({},be),{},{tableLayout:nt,rowClassName:o,expandedRowClassName:ee,componentWidth:pe,fixHeader:Pe,fixColumn:Ue,horizonScroll:ke,expandIcon:re,expandableType:ae,expandRowByClick:Z,expandedRowRender:Q,onTriggerExpand:fe,expandIconColumnIndex:$,indentSize:ne})}),[be,nt,o,ee,pe,Pe,Ue,ke,re,ae,Z,Q,fe,$,ne]),dt=t.useMemo((function(){return{onColumnResize:We}}),[We]);return t.createElement(Ex.Provider,{value:ht},t.createElement(Ix.Provider,{value:ft},t.createElement(Rx.Provider,{value:dt},lt)))}nE.Column=dx,nE.ColumnGroup=fx,nE.Summary=Wx,nE.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var rE=nE,iE=r(48573),oE=r.n(iE),aE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sE=(Ko("small","default","large"),null);var uE=function(e){u(r,e);var n=d(r);function r(e){var o;i(this,r),(o=n.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||o.props).delay;t&&(o.cancelExistingSpin(),o.updateSpinning=oE()(o.originalUpdateSpinning,t))},o.updateSpinning=function(){var e=o.props.spinning;o.state.spinning!==e&&o.setState({spinning:e})},o.renderSpin=function(e){var n,r=e.getPrefixCls,i=e.direction,a=o.props,s=a.prefixCls,u=a.className,c=a.size,l=a.tip,h=a.wrapperClassName,f=a.style,d=aE(a,["prefixCls","className","size","tip","wrapperClassName","style"]),m=o.state.spinning,g=r("spin",s),v=C()(g,(p(n={},"".concat(g,"-sm"),"small"===c),p(n,"".concat(g,"-lg"),"large"===c),p(n,"".concat(g,"-spinning"),m),p(n,"".concat(g,"-show-text"),!!l),p(n,"".concat(g,"-rtl"),"rtl"===i),n),u),y=re(d,["spinning","delay","indicator"]),b=t.createElement("div",S({},y,{style:f,className:v}),function(e,n){var r=n.indicator,i="".concat(e,"-dot");return null===r?null:jo(r)?ko(r,{className:C()(r.props.className,i)}):jo(sE)?ko(sE,{className:C()(sE.props.className,i)}):t.createElement("span",{className:C()(i,"".concat(e,"-dot-spin"))},t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}),t.createElement("i",{className:"".concat(e,"-dot-item")}))}(g,o.props),l?t.createElement("div",{className:"".concat(g,"-text")},l):null);if(o.isNestedPattern()){var x=C()("".concat(g,"-container"),p({},"".concat(g,"-blur"),m));return t.createElement("div",S({},y,{className:C()("".concat(g,"-nested-loading"),h)}),m&&t.createElement("div",{key:"loading"},b),t.createElement("div",{className:x,key:"container"},o.props.children))}return b};var a=e.spinning,s=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(a,e.delay);return o.state={spinning:a&&!s},o.originalUpdateSpinning=o.updateSpinning,o.debouncifyUpdateSpinning(e),o}return a(r,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return t.createElement(X,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){sE=e}}]),r}(t.Component);uE.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var cE=uE,lE=function(e){var n,r="".concat(e.rootPrefixCls,"-item"),i=C()(r,"".concat(r,"-").concat(e.page),(p(n={},"".concat(r,"-active"),e.active),p(n,"".concat(r,"-disabled"),!e.page),p(n,e.className,!!e.className),n));return t.createElement("li",{title:e.showTitle?e.page:null,className:i,onClick:function(){e.onClick(e.page)},onKeyPress:function(t){e.onKeyPress(t,e.onClick,e.page)},tabIndex:"0"},e.itemRender(e.page,"page",t.createElement("a",{rel:"nofollow"},e.page)))},hE=13,fE=38,dE=40,pE=function(e){u(r,e);var n=d(r);function r(){var e;i(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={goInputText:""},e.buildOptionText=function(t){return"".concat(t," ").concat(e.props.locale.items_per_page)},e.changeSize=function(t){e.props.changeSize(Number(t))},e.handleChange=function(t){e.setState({goInputText:t.target.value})},e.handleBlur=function(t){var n=e.props,r=n.goButton,i=n.quickGo,o=n.rootPrefixCls,a=e.state.goInputText;r||""===a||(e.setState({goInputText:""}),t.relatedTarget&&(t.relatedTarget.className.indexOf("".concat(o,"-item-link"))>=0||t.relatedTarget.className.indexOf("".concat(o,"-item"))>=0)||i(e.getValidValue()))},e.go=function(t){""!==e.state.goInputText&&(t.keyCode!==hE&&"click"!==t.type||(e.setState({goInputText:""}),e.props.quickGo(e.getValidValue())))},e}return a(r,[{key:"getValidValue",value:function(){var e=this.state.goInputText;return!e||isNaN(e)?void 0:Number(e)}},{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,n=e.pageSizeOptions;return n.some((function(e){return e.toString()===t.toString()}))?n:n.concat([t.toString()]).sort((function(e,t){return(isNaN(Number(e))?0:Number(e))-(isNaN(Number(t))?0:Number(t))}))}},{key:"render",value:function(){var e=this,n=this.props,r=n.pageSize,i=n.locale,o=n.rootPrefixCls,a=n.changeSize,s=n.quickGo,u=n.goButton,c=n.selectComponentClass,l=n.buildOptionText,h=n.selectPrefixCls,f=n.disabled,d=this.state.goInputText,p="".concat(o,"-options"),m=c,g=null,v=null,y=null;if(!a&&!s)return null;var b=this.getPageSizeOptions();if(a&&m){var x=b.map((function(n,r){return t.createElement(m.Option,{key:r,value:n.toString()},(l||e.buildOptionText)(n))}));g=t.createElement(m,{disabled:f,prefixCls:h,showSearch:!1,className:"".concat(p,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(r||b[0]).toString(),onChange:this.changeSize,getPopupContainer:function(e){return e.parentNode},"aria-label":i.page_size,defaultOpen:!1},x)}return s&&(u&&(y="boolean"===typeof u?t.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:f,className:"".concat(p,"-quick-jumper-button")},i.jump_to_confirm):t.createElement("span",{onClick:this.go,onKeyUp:this.go},u)),v=t.createElement("div",{className:"".concat(p,"-quick-jumper")},i.jump_to,t.createElement("input",{disabled:f,type:"text",value:d,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":i.page}),i.page,y)),t.createElement("li",{className:"".concat(p)},g,v)}}]),r}(t.Component);pE.defaultProps={pageSizeOptions:["10","20","50","100"]};var mE=pE;function gE(){}function vE(e){var t=Number(e);return"number"===typeof t&&!isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function yE(e,t,n){var r="undefined"===typeof e?t.pageSize:e;return Math.floor((n.total-1)/r)+1}var bE=function(e){u(r,e);var n=d(r);function r(e){var o;i(this,r),(o=n.call(this,e)).getJumpPrevPage=function(){return Math.max(1,o.state.current-(o.props.showLessItems?3:5))},o.getJumpNextPage=function(){return Math.min(yE(void 0,o.state,o.props),o.state.current+(o.props.showLessItems?3:5))},o.getItemIcon=function(e,n){var r=o.props.prefixCls,i=e||t.createElement("button",{type:"button","aria-label":n,className:"".concat(r,"-item-link")});return"function"===typeof e&&(i=t.createElement(e,g({},o.props))),i},o.savePaginationNode=function(e){o.paginationNode=e},o.isValid=function(e){var t=o.props.total;return vE(e)&&e!==o.state.current&&vE(t)&&t>0},o.shouldDisplayQuickJumper=function(){var e=o.props,t=e.showQuickJumper;return!(e.total<=o.state.pageSize)&&t},o.handleKeyDown=function(e){e.keyCode!==fE&&e.keyCode!==dE||e.preventDefault()},o.handleKeyUp=function(e){var t=o.getValidValue(e);t!==o.state.currentInputValue&&o.setState({currentInputValue:t}),e.keyCode===hE?o.handleChange(t):e.keyCode===fE?o.handleChange(t-1):e.keyCode===dE&&o.handleChange(t+1)},o.handleBlur=function(e){var t=o.getValidValue(e);o.handleChange(t)},o.changePageSize=function(e){var t=o.state.current,n=yE(e,o.state,o.props);t=t>n?n:t,0===n&&(t=o.state.current),"number"===typeof e&&("pageSize"in o.props||o.setState({pageSize:e}),"current"in o.props||o.setState({current:t,currentInputValue:t})),o.props.onShowSizeChange(t,e),"onChange"in o.props&&o.props.onChange&&o.props.onChange(t,e)},o.handleChange=function(e){var t=o.props,n=t.disabled,r=t.onChange,i=o.state,a=i.pageSize,s=i.current,u=i.currentInputValue;if(o.isValid(e)&&!n){var c=yE(void 0,o.state,o.props),l=e;return e>c?l=c:e<1&&(l=1),"current"in o.props||o.setState({current:l}),l!==u&&o.setState({currentInputValue:l}),r(l,a),l}return s},o.prev=function(){o.hasPrev()&&o.handleChange(o.state.current-1)},o.next=function(){o.hasNext()&&o.handleChange(o.state.current+1)},o.jumpPrev=function(){o.handleChange(o.getJumpPrevPage())},o.jumpNext=function(){o.handleChange(o.getJumpNextPage())},o.hasPrev=function(){return o.state.current>1},o.hasNext=function(){return o.state.current<yE(void 0,o.state,o.props)},o.runIfEnter=function(e,t){if("Enter"===e.key||13===e.charCode){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];t.apply(void 0,r)}},o.runIfEnterPrev=function(e){o.runIfEnter(e,o.prev)},o.runIfEnterNext=function(e){o.runIfEnter(e,o.next)},o.runIfEnterJumpPrev=function(e){o.runIfEnter(e,o.jumpPrev)},o.runIfEnterJumpNext=function(e){o.runIfEnter(e,o.jumpNext)},o.handleGoTO=function(e){e.keyCode!==hE&&"click"!==e.type||o.handleChange(o.state.currentInputValue)};var a=e.onChange!==gE;"current"in e&&!a&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var s=e.defaultCurrent;"current"in e&&(s=e.current);var u=e.defaultPageSize;return"pageSize"in e&&(u=e.pageSize),s=Math.min(s,yE(u,void 0,e)),o.state={current:s,currentInputValue:s,pageSize:u},o}return a(r,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode){var r=this.paginationNode.querySelector(".".concat(n,"-item-").concat(t.current));r&&document.activeElement===r&&r.blur()}}},{key:"getValidValue",value:function(e){var t=e.target.value,n=yE(void 0,this.state,this.props),r=this.state.currentInputValue;return""===t?t:isNaN(Number(t))?r:t>=n?n:Number(t)}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,n=e.total,r=e.totalBoundaryShowSizeChanger;return"undefined"!==typeof t?t:n>r}},{key:"renderPrev",value:function(e){var n=this.props,r=n.prevIcon,i=(0,n.itemRender)(e,"prev",this.getItemIcon(r,"prev page")),o=!this.hasPrev();return(0,t.isValidElement)(i)?(0,t.cloneElement)(i,{disabled:o}):i}},{key:"renderNext",value:function(e){var n=this.props,r=n.nextIcon,i=(0,n.itemRender)(e,"next",this.getItemIcon(r,"next page")),o=!this.hasNext();return(0,t.isValidElement)(i)?(0,t.cloneElement)(i,{disabled:o}):i}},{key:"render",value:function(){var e=this,n=this.props,r=n.prefixCls,i=n.className,o=n.style,a=n.disabled,s=n.hideOnSinglePage,u=n.total,c=n.locale,l=n.showQuickJumper,h=n.showLessItems,f=n.showTitle,d=n.showTotal,m=n.simple,g=n.itemRender,v=n.showPrevNextJumpers,y=n.jumpPrevIcon,b=n.jumpNextIcon,x=n.selectComponentClass,E=n.selectPrefixCls,w=n.pageSizeOptions,M=this.state,A=M.current,_=M.pageSize,T=M.currentInputValue;if(!0===s&&u<=_)return null;var N=yE(void 0,this.state,this.props),I=[],L=null,D=null,O=null,R=null,P=null,j=l&&l.goButton,k=h?1:2,U=A-1>0?A-1:0,F=A+1<N?A+1:N,z=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{});if(m)return j&&(P="boolean"===typeof j?t.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},c.jump_to_confirm):t.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},j),P=t.createElement("li",{title:f?"".concat(c.jump_to).concat(A,"/").concat(N):null,className:"".concat(r,"-simple-pager")},P)),t.createElement("ul",S({className:C()(r,"".concat(r,"-simple"),p({},"".concat(r,"-disabled"),a),i),style:o,ref:this.savePaginationNode},z),t.createElement("li",{title:f?c.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:C()("".concat(r,"-prev"),p({},"".concat(r,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(U)),t.createElement("li",{title:f?"".concat(A,"/").concat(N):null,className:"".concat(r,"-simple-pager")},t.createElement("input",{type:"text",value:T,disabled:a,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:"3"}),t.createElement("span",{className:"".concat(r,"-slash")},"/"),N),t.createElement("li",{title:f?c.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:C()("".concat(r,"-next"),p({},"".concat(r,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(F)),P);if(N<=3+2*k){var B={locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:f,itemRender:g};N||I.push(t.createElement(lE,S({},B,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var G=1;G<=N;G+=1){var H=A===G;I.push(t.createElement(lE,S({},B,{key:G,page:G,active:H})))}}else{var V=h?c.prev_3:c.prev_5,Y=h?c.next_3:c.next_5;v&&(L=t.createElement("li",{title:f?V:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:C()("".concat(r,"-jump-prev"),p({},"".concat(r,"-jump-prev-custom-icon"),!!y))},g(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(y,"prev page"))),D=t.createElement("li",{title:f?Y:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:C()("".concat(r,"-jump-next"),p({},"".concat(r,"-jump-next-custom-icon"),!!b))},g(this.getJumpNextPage(),"jump-next",this.getItemIcon(b,"next page")))),R=t.createElement(lE,{locale:c,last:!0,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:N,page:N,active:!1,showTitle:f,itemRender:g}),O=t.createElement(lE,{locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:f,itemRender:g});var W=Math.max(1,A-k),X=Math.min(A+k,N);A-1<=k&&(X=1+2*k),N-A<=k&&(W=N-2*k);for(var Q=W;Q<=X;Q+=1){var q=A===Q;I.push(t.createElement(lE,{locale:c,rootPrefixCls:r,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Q,page:Q,active:q,showTitle:f,itemRender:g}))}A-1>=2*k&&3!==A&&(I[0]=(0,t.cloneElement)(I[0],{className:"".concat(r,"-item-after-jump-prev")}),I.unshift(L)),N-A>=2*k&&A!==N-2&&(I[I.length-1]=(0,t.cloneElement)(I[I.length-1],{className:"".concat(r,"-item-before-jump-next")}),I.push(D)),1!==W&&I.unshift(O),X!==N&&I.push(R)}var K=null;d&&(K=t.createElement("li",{className:"".concat(r,"-total-text")},d(u,[0===u?0:(A-1)*_+1,A*_>u?u:A*_])));var Z=!this.hasPrev()||!N,J=!this.hasNext()||!N;return t.createElement("ul",S({className:C()(r,i,p({},"".concat(r,"-disabled"),a)),style:o,unselectable:"unselectable",ref:this.savePaginationNode},z),K,t.createElement("li",{title:f?c.prev_page:null,onClick:this.prev,tabIndex:Z?null:0,onKeyPress:this.runIfEnterPrev,className:C()("".concat(r,"-prev"),p({},"".concat(r,"-disabled"),Z)),"aria-disabled":Z},this.renderPrev(U)),I,t.createElement("li",{title:f?c.next_page:null,onClick:this.next,tabIndex:J?null:0,onKeyPress:this.runIfEnterNext,className:C()("".concat(r,"-next"),p({},"".concat(r,"-disabled"),J)),"aria-disabled":J},this.renderNext(F)),t.createElement(mE,{disabled:a,locale:c,rootPrefixCls:r,selectComponentClass:x,selectPrefixCls:E,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:A,pageSize:_,pageSizeOptions:w,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:j}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n={};if("current"in e&&(n.current=e.current,e.current!==t.current&&(n.currentInputValue=n.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var r=t.current,i=yE(e.pageSize,t,e);r=r>i?i:r,"current"in e||(n.current=r,n.currentInputValue=r),n.pageSize=e.pageSize}return n}}]),r}(t.Component);bE.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:gE,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:gE,locale:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},style:{},itemRender:function(e,t,n){return n},totalBoundaryShowSizeChanger:50};var xE=bE,EE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},wE=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:EE}))};wE.displayName="DoubleLeftOutlined";var ME=t.forwardRef(wE),AE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},_E=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:AE}))};_E.displayName="DoubleRightOutlined";var TE=t.forwardRef(_E),SE=function(e){return t.createElement(lx,S({size:"small"},e))};SE.Option=lx.Option;var NE=SE,CE={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},IE=new Map,LE=-1,DE={},OE={matchHandlers:{},dispatch:function(e){return DE=e,IE.forEach((function(e){return e(DE)})),IE.size>=1},subscribe:function(e){return IE.size||this.register(),LE+=1,IE.set(LE,e),e(DE),LE},unsubscribe:function(e){IE.delete(e),IE.size||this.unregister()},unregister:function(){var e=this;Object.keys(CE).forEach((function(t){var n=CE[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),IE.clear()},register:function(){var e=this;Object.keys(CE).forEach((function(t){var n=CE[t],r=function(n){var r=n.matches;e.dispatch(S(S({},DE),p({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}};var RE=function(){var e=T((0,t.useState)({}),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){var e=OE.subscribe((function(e){r(e)}));return function(){return OE.unsubscribe(e)}}),[]),n},PE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jE=function(e){var n=e.prefixCls,r=e.selectPrefixCls,i=e.className,o=e.size,a=e.locale,s=PE(e,["prefixCls","selectPrefixCls","className","size","locale"]),u=RE().xs,c=t.useContext(W),l=c.getPrefixCls,h=c.direction,f=l("pagination",n),d=function(e){var n=S(S({},e),a),c="small"===o||!(!u||o||!s.responsive),d=l("select",r),m=C()(p({mini:c},"".concat(f,"-rtl"),"rtl"===h),i);return t.createElement(xE,S({},s,{prefixCls:f,selectPrefixCls:d},function(){var e=t.createElement("span",{className:"".concat(f,"-item-ellipsis")},"\u2022\u2022\u2022"),n=t.createElement("button",{className:"".concat(f,"-item-link"),type:"button",tabIndex:-1},t.createElement(it,null)),r=t.createElement("button",{className:"".concat(f,"-item-link"),type:"button",tabIndex:-1},t.createElement(tt,null)),i=t.createElement("a",{className:"".concat(f,"-item-link")},t.createElement("div",{className:"".concat(f,"-item-container")},t.createElement(ME,{className:"".concat(f,"-item-link-icon")}),e)),o=t.createElement("a",{className:"".concat(f,"-item-link")},t.createElement("div",{className:"".concat(f,"-item-container")},t.createElement(TE,{className:"".concat(f,"-item-link-icon")}),e));if("rtl"===h){var a=[r,n];n=a[0],r=a[1];var s=[o,i];i=s[0],o=s[1]}return{prevIcon:n,nextIcon:r,jumpPrevIcon:i,jumpNextIcon:o}}(),{className:m,selectComponentClass:c?NE:lx,locale:n}))};return t.createElement(k,{componentName:"Pagination",defaultLocale:I},d)},kE=jE,UE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function FE(e,n,r){var i=n&&"object"===l(n)?n:{},o=i.total,a=void 0===o?0:o,s=UE(i,["total"]),u=T((0,t.useState)((function(){return{current:"defaultCurrent"in s?s.defaultCurrent:1,pageSize:"defaultPageSize"in s?s.defaultPageSize:10}})),2),c=u[0],h=u[1],f=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var r=t[n];void 0!==r&&(e[n]=r)}))})),e}(c,s,{total:a>0?a:e}),d=Math.ceil((a||e)/f.pageSize);f.current>d&&(f.current=d||1);var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;h({current:e,pageSize:t||f.pageSize})};return!1===n?[{},function(){}]:[S(S({},f),{onChange:function(e,t){var i;n&&(null===(i=n.onChange)||void 0===i||i.call(n,e,t)),p(e,t),r(e,t||(null===f||void 0===f?void 0:f.pageSize))}}),p]}var zE=t.createContext(null),BE=function(e){for(var n=e.prefixCls,r=e.level,i=e.isStart,o=e.isEnd,a="".concat(n,"-indent-unit"),s=[],u=0;u<r;u+=1){var c;s.push(t.createElement("span",{key:u,className:C()(a,(c={},p(c,"".concat(a,"-start"),i[u]),p(c,"".concat(a,"-end"),o[u]),c))}))}return t.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},s)},GE="open",HE="close",VE=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).state={dragNodeHighlight:!1},e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,QE(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,QE(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,QE(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,i=n.checked,o=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!i;o(t,QE(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,QE(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,QE(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,QE(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,h(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,h(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,h(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,h(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,h(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,h(e))},e.onExpand=function(t){var n=e.props,r=n.loading,i=n.context.onNodeExpand;r||i(t,QE(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?GE:HE},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,i=e.props.context.loadData,o=e.hasChildren();return!1!==n&&(n||!i&&!o||i&&r&&!o)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,i=t.loaded,o=e.props.context,a=o.loadData,s=o.onNodeLoad;r||a&&n&&!e.isLeaf()&&(e.hasChildren()||i||s(QE(e.props)))},e.renderSwitcherIconDom=function(t){var n=e.props.switcherIcon,r=e.props.context.switcherIcon,i=n||r;return"function"===typeof i?i(g(g({},e.props),{},{isLeaf:t})):i},e.renderSwitcher=function(){var n=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var i=e.renderSwitcherIconDom(!0);return!1!==i?t.createElement("span",{className:C()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},i):null}var o=C()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(n?GE:HE)),a=e.renderSwitcherIconDom(!1);return!1!==a?t.createElement("span",{onClick:e.onExpand,className:o},a):null},e.renderCheckbox=function(){var n=e.props,r=n.checked,i=n.halfChecked,o=n.disableCheckbox,a=e.props.context.prefixCls,s=e.isDisabled(),u=e.isCheckable();if(!u)return null;var c="boolean"!==typeof u?u:null;return t.createElement("span",{className:C()("".concat(a,"-checkbox"),r&&"".concat(a,"-checkbox-checked"),!r&&i&&"".concat(a,"-checkbox-indeterminate"),(s||o)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},c)},e.renderIcon=function(){var n=e.props.loading,r=e.props.context.prefixCls;return t.createElement("span",{className:C()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var n,r,i=e.state.dragNodeHighlight,o=e.props,a=o.title,s=o.selected,u=o.icon,c=o.loading,l=o.data,h=e.props.context,f=h.prefixCls,d=h.showIcon,p=h.icon,m=h.draggable,g=h.loadData,v=h.titleRender,y=e.isDisabled(),b="function"===typeof m?m(l):m,x="".concat(f,"-node-content-wrapper");if(d){var E=u||p;n=E?t.createElement("span",{className:C()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof E?E(e.props):E):e.renderIcon()}else g&&c&&(n=e.renderIcon());r="function"===typeof a?a(l):v?v(l):a;var w=t.createElement("span",{className:"".concat(f,"-title")},r);return t.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof a?a:"",className:C()("".concat(x),"".concat(x,"-").concat(e.getNodeState()||"normal"),!y&&(s||i)&&"".concat(f,"-node-selected"),!y&&b&&"draggable"),draggable:!y&&b||void 0,"aria-grabbed":!y&&b||void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,onDragStart:b?e.onDragStart:void 0},n,w,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,r=t.eventKey,i=e.props.context,o=i.draggable,a=i.dropLevelOffset,s=i.dropPosition,u=i.prefixCls,c=i.indent,l=i.dropIndicatorRender,h=i.dragOverNodeKey,f=i.direction;return!n&&!1!==o&&h===r?l({dropPosition:s,dropLevelOffset:a,indent:c,prefixCls:u,direction:f}):null},e}return a(r,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,n=this.props,r=n.eventKey,i=n.className,o=n.style,a=n.dragOver,s=n.dragOverGapTop,u=n.dragOverGapBottom,c=n.isLeaf,l=n.isStart,h=n.isEnd,f=n.expanded,d=n.selected,m=n.checked,g=n.halfChecked,v=n.loading,y=n.domRef,b=n.active,x=n.data,E=n.onMouseMove,w=oe(n,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),M=this.props.context,A=M.prefixCls,_=M.filterTreeNode,T=M.draggable,N=M.keyEntities,I=M.dropContainerKey,L=M.dropTargetKey,D=this.isDisabled(),O=function(e){var t={};return Object.keys(e).forEach((function(n){(n.startsWith("data-")||n.startsWith("aria-"))&&(t[n]=e[n])})),t}(w),R=(N[r]||{}).level,P=h[h.length-1],j="function"===typeof T?T(x):T;return t.createElement("div",S({ref:y,className:C()(i,"".concat(A,"-treenode"),(e={},p(e,"".concat(A,"-treenode-disabled"),D),p(e,"".concat(A,"-treenode-switcher-").concat(f?"open":"close"),!c),p(e,"".concat(A,"-treenode-checkbox-checked"),m),p(e,"".concat(A,"-treenode-checkbox-indeterminate"),g),p(e,"".concat(A,"-treenode-selected"),d),p(e,"".concat(A,"-treenode-loading"),v),p(e,"".concat(A,"-treenode-active"),b),p(e,"".concat(A,"-treenode-leaf-last"),P),p(e,"drop-target",L===r),p(e,"drop-container",I===r),p(e,"drag-over",!D&&a),p(e,"drag-over-gap-top",!D&&s),p(e,"drag-over-gap-bottom",!D&&u),p(e,"filter-node",_&&_(QE(this.props))),e)),style:o,onDragEnter:j?this.onDragEnter:void 0,onDragOver:j?this.onDragOver:void 0,onDragLeave:j?this.onDragLeave:void 0,onDrop:j?this.onDrop:void 0,onDragEnd:j?this.onDragEnd:void 0,onMouseMove:E},O),t.createElement(BE,{prefixCls:A,level:R,isStart:l,isEnd:h}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),r}(t.Component),YE=function(e){return t.createElement(zE.Consumer,null,(function(n){return t.createElement(VE,S({},e,{context:n}))}))};YE.displayName="TreeNode",YE.defaultProps={title:"---"},YE.isTreeNode=1;function WE(e,t){return null!==e&&void 0!==e?e:t}function XE(e,t,n){var r,i,o=null,a=l(n);"function"===a||"string"===a?o=n:n&&"object"===a&&(r=n.childrenPropName,o=n.externalGetKey),r=r||"children",o?"string"===typeof o?i=function(e){return e[o]}:"function"===typeof o&&(i=function(e){return o(e)}):i=function(e,t){return WE(e.key,t)},function n(o,a,s){var u=o?o[r]:e,c=o?function(e,t){return"".concat(e,"-").concat(t)}(s.pos,a):"0";if(o){var l=i(o,c),h={node:o,index:a,pos:c,key:l,parentPos:s.node?s.pos:null,level:s.level+1};t(h)}u&&u.forEach((function(e,t){n(e,t,{node:o,pos:c,level:s?s.level+1:-1})}))}(null)}function QE(e){var t=e.data,n=e.expanded,r=e.selected,i=e.checked,o=e.loaded,a=e.loading,s=e.halfChecked,u=e.dragOver,c=e.dragOverGapTop,l=e.dragOverGapBottom,h=e.pos,f=e.active,d=g(g({},t),{},{expanded:n,selected:r,checked:i,loaded:o,loading:a,halfChecked:s,dragOver:u,dragOverGapTop:c,dragOverGapBottom:l,pos:h,active:f});return"props"in d||Object.defineProperty(d,"props",{get:function(){return je(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),d}function qE(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function KE(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,i=t.checkable;return!(!n&&!r)||!1===i}function ZE(e,t,n,r){var i,o=[];i=r||KE;var a,s=new Set(e.filter((function(e){var t=!!n[e];return t||o.push(e),t}))),u=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],r=t.level,i=u.get(r);i||(i=new Set,u.set(r,i)),i.add(t),c=Math.max(c,r)})),je(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,n,r){for(var i=new Set(e),o=new Set,a=0;a<=n;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,a=void 0===o?[]:o;i.has(t)&&!r(n)&&a.filter((function(e){return!r(e.node)})).forEach((function(e){i.add(e.key)}))}));for(var s=new Set,u=n;u>=0;u-=1)(t.get(u)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var a=!0,u=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=i.has(t);a&&!n&&(a=!1),u||!n&&!o.has(t)||(u=!0)})),a&&i.add(t.key),u&&o.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(qE(o,i))}}(s,u,c,i):function(e,t,n,r,i){for(var o=new Set(e),a=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||a.has(t)||i(n)||s.filter((function(e){return!i(e.node)})).forEach((function(e){o.delete(e.key)}))}));a=new Set;for(var u=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!u.has(e.parent.key))if(i(e.parent.node))u.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!a.has(t)||(s=!0)})),r||o.delete(t.key),s&&a.add(t.key),u.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(qE(a,o))}}(s,t.halfCheckedKeys,u,c,i),a}var JE=function(e){u(r,e);var n=d(r);function r(e){var t;i(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,i=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),i&&i({target:g(g({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var o="checked"in e?e.checked:e.defaultChecked;return t.state={checked:o},t}return a(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,i=n.className,o=n.style,a=n.name,s=n.id,u=n.type,c=n.disabled,l=n.readOnly,h=n.tabIndex,f=n.onClick,d=n.onFocus,m=n.onBlur,g=n.onKeyDown,v=n.onKeyPress,y=n.onKeyUp,b=n.autoFocus,x=n.value,E=n.required,w=oe(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),M=Object.keys(w).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=w[t]),e}),{}),A=this.state.checked,_=C()(r,i,(p(e={},"".concat(r,"-checked"),A),p(e,"".concat(r,"-disabled"),c),e));return t.createElement("span",{className:_,style:o},t.createElement("input",S({name:a,id:s,type:u,required:E,readOnly:l,disabled:c,tabIndex:h,className:"".concat(r,"-input"),checked:!!A,onClick:f,onFocus:d,onBlur:m,onKeyUp:y,onKeyDown:g,onKeyPress:v,onChange:this.handleChange,autoFocus:b,ref:this.saveInput,value:x},M)),t.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?g(g({},t),{},{checked:e.checked}):null}}]),r}(t.Component);JE.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var $E=JE,ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tw=t.createContext(null),nw=function(e){var n=e.defaultValue,r=e.children,i=e.options,o=void 0===i?[]:i,a=e.prefixCls,s=e.className,u=e.style,c=e.onChange,l=ew(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),h=t.useContext(W),f=h.getPrefixCls,d=h.direction,m=T(t.useState(l.value||n||[]),2),g=m[0],v=m[1],y=T(t.useState([]),2),b=y[0],x=y[1];t.useEffect((function(){"value"in l&&v(l.value||[])}),[l.value]);var E=function(){return o.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))},w=f("checkbox",a),A="".concat(w,"-group"),_=re(l,["value","disabled"]);o&&o.length>0&&(r=E().map((function(e){return t.createElement(sw,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:l.disabled,value:e.value,checked:-1!==g.indexOf(e.value),onChange:e.onChange,className:"".concat(A,"-item"),style:e.style},e.label)})));var N={toggleOption:function(e){var t=g.indexOf(e.value),n=M(g);-1===t?n.push(e.value):n.splice(t,1),"value"in l||v(n);var r=E();null===c||void 0===c||c(n.filter((function(e){return-1!==b.indexOf(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:g,disabled:l.disabled,name:l.name,registerValue:function(e){x((function(t){return[].concat(M(t),[e])}))},cancelValue:function(e){x((function(t){return t.filter((function(t){return t!==e}))}))}},I=C()(A,p({},"".concat(A,"-rtl"),"rtl"===d),s);return t.createElement("div",S({className:I,style:u},_),t.createElement(tw.Provider,{value:N},r))},rw=t.memo(nw),iw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ow=function(e,n){var r,i=e.prefixCls,o=e.className,a=e.children,s=e.indeterminate,u=void 0!==s&&s,c=e.style,l=e.onMouseEnter,h=e.onMouseLeave,f=e.skipGroup,d=void 0!==f&&f,m=iw(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),g=t.useContext(W),v=g.getPrefixCls,y=g.direction,b=t.useContext(tw),x=t.useRef(m.value);t.useEffect((function(){null===b||void 0===b||b.registerValue(m.value),ca("checked"in m||!!b||!("value"in m),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),t.useEffect((function(){if(!d)return m.value!==x.current&&(null===b||void 0===b||b.cancelValue(x.current),null===b||void 0===b||b.registerValue(m.value)),function(){return null===b||void 0===b?void 0:b.cancelValue(m.value)}}),[m.value]);var E=v("checkbox",i),w=S({},m);b&&!d&&(w.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),b.toggleOption&&b.toggleOption({label:a,value:m.value})},w.name=b.name,w.checked=-1!==b.value.indexOf(m.value),w.disabled=m.disabled||b.disabled);var M=C()((p(r={},"".concat(E,"-wrapper"),!0),p(r,"".concat(E,"-rtl"),"rtl"===y),p(r,"".concat(E,"-wrapper-checked"),w.checked),p(r,"".concat(E,"-wrapper-disabled"),w.disabled),r),o),A=C()(p({},"".concat(E,"-indeterminate"),u));return t.createElement("label",{className:M,style:c,onMouseEnter:l,onMouseLeave:h},t.createElement($E,S({},w,{prefixCls:E,className:A,ref:n})),void 0!==a&&t.createElement("span",null,a))},aw=t.forwardRef(ow);aw.displayName="Checkbox";var sw=aw,uw=sw;uw.Group=rw,uw.__ANT_CHECKBOX=!0;var cw=uw,lw={adjustX:1,adjustY:1},hw=[0,0],fw={topLeft:{points:["bl","tl"],overflow:lw,offset:[0,-4],targetOffset:hw},topCenter:{points:["bc","tc"],overflow:lw,offset:[0,-4],targetOffset:hw},topRight:{points:["br","tr"],overflow:lw,offset:[0,-4],targetOffset:hw},bottomLeft:{points:["tl","bl"],overflow:lw,offset:[0,4],targetOffset:hw},bottomCenter:{points:["tc","bc"],overflow:lw,offset:[0,4],targetOffset:hw},bottomRight:{points:["tr","br"],overflow:lw,offset:[0,4],targetOffset:hw}},dw=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function pw(e,n){var r=e.arrow,i=void 0!==r&&r,o=e.prefixCls,a=void 0===o?"rc-dropdown":o,s=e.transitionName,u=e.animation,c=e.align,l=e.placement,h=void 0===l?"bottomLeft":l,f=e.placements,d=void 0===f?fw:f,m=e.getPopupContainer,v=e.showAction,y=e.hideAction,b=e.overlayClassName,x=e.overlayStyle,E=e.visible,w=e.trigger,M=void 0===w?["hover"]:w,A=oe(e,dw),_=T(t.useState(),2),S=_[0],N=_[1],I="visible"in e?E:S,L=t.useRef(null);t.useImperativeHandle(n,(function(){return L.current}));var D=function(){var t=e.overlay;return"function"===typeof t?t():t},O=function(t){var n=e.onOverlayClick,r=D().props;N(!1),n&&n(t),r.onClick&&r.onClick(t)},R=function(){var e=D(),n={prefixCls:"".concat(a,"-menu"),onClick:O};return"string"===typeof e.type&&delete n.prefixCls,t.createElement(t.Fragment,null,i&&t.createElement("div",{className:"".concat(a,"-arrow")}),t.cloneElement(e,n))},P=y;return P||-1===M.indexOf("contextMenu")||(P=["click"]),t.createElement(oo,g(g({builtinPlacements:d},A),{},{prefixCls:a,ref:L,popupClassName:C()(b,p({},"".concat(a,"-show-arrow"),i)),popupStyle:x,action:M,showAction:v,hideAction:P||[],popupPlacement:h,popupAlign:c,popupTransitionName:s,popupAnimation:u,popupVisible:I,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?R:R(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;N(t),"function"===typeof n&&n(t)},getPopupContainer:m}),function(){var n=e.children,r=n.props?n.props:{},i=C()(r.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(a,"-open")}());return I&&n?t.cloneElement(n,{className:i}):n}())}var mw=t.forwardRef(pw),gw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},vw=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:gw}))};vw.displayName="EllipsisOutlined";var yw,bw=t.forwardRef(vw),xw=function e(t){return i(this,e),new Error("unreachable case: ".concat(JSON.stringify(t)))},Ew=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ww=function(e){return t.createElement(X,null,(function(n){var r,i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.size,u=e.className,c=Ew(e,["prefixCls","size","className"]),l=i("btn-group",a),h="";switch(s){case"large":h="lg";break;case"small":h="sm";break;case"middle":case void 0:break;default:console.warn(new xw(s))}var f=C()(l,(p(r={},"".concat(l,"-").concat(h),h),p(r,"".concat(l,"-rtl"),"rtl"===o),r),u);return t.createElement("div",S({},c,{className:f}))}))},Mw=0,Aw={};function _w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Mw++,r=t;function i(){(r-=1)<=0?(e(),delete Aw[n]):Aw[n]=In(i)}return Aw[n]=In(i),n}function Tw(e){return!e||null===e.offsetParent||e.hidden}function Sw(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}_w.cancel=function(e){void 0!==e&&(In.cancel(Aw[e]),delete Aw[e])},_w.ids=Aw;var Nw=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).containerRef=t.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){if(!(!t||Tw(t)||t.className.indexOf("-leave")>=0)){var r=e.props.insertExtraNode;e.extraNode=document.createElement("div");var i=h(e).extraNode,o=e.context.getPrefixCls;i.className="".concat(o(""),"-click-animating-node");var a=e.getAttributeName();t.setAttribute(a,"true"),yw=yw||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&Sw(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n&&(e.csp&&e.csp.nonce&&(yw.nonce=e.csp.nonce),i.style.borderColor=n,yw.innerHTML="\n      [".concat(o(""),"-click-animating-without-extra-node='true']::after, .").concat(o(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),t.ownerDocument.body.contains(yw)||t.ownerDocument.body.appendChild(yw)),r&&t.appendChild(i),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!Tw(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),_w.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=_w((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,i=e.props.children;if(e.csp=r,!t.isValidElement(i))return i;var o=e.containerRef;return jn(i)&&(o=Pn(i.ref,e.containerRef)),ko(i,{ref:o})},e}return a(r,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),yw&&(yw.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return t.createElement(X,null,this.renderWave)}}]),r}(t.Component);Nw.contextType=W;var Cw=function(){return{width:0,opacity:0,transform:"scale(0)"}},Iw=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Lw=function(e){var n=e.prefixCls,r=!!e.loading;return e.existIcon?t.createElement("span",{className:"".concat(n,"-loading-icon")},t.createElement(Hb,null)):t.createElement(Ir,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Cw,onAppearActive:Iw,onEnterStart:Cw,onEnterActive:Iw,onLeaveStart:Iw,onLeaveActive:Cw},(function(e,r){var i=e.className,o=e.style;return t.createElement("span",{className:"".concat(n,"-loading-icon"),style:o,ref:r},t.createElement(Hb,{className:i}))}))},Dw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ow=/^[\u4e00-\u9fa5]{2}$/,Rw=Ow.test.bind(Ow);function Pw(e){return"text"===e||"link"===e}function jw(e,n){var r=!1,i=[];return t.Children.forEach(e,(function(e){var t=l(e),n="string"===t||"number"===t;if(r&&n){var o=i.length-1,a=i[o];i[o]="".concat(a).concat(e)}else i.push(e);r=n})),t.Children.map(i,(function(e){return function(e,n){if(null!=e){var r=n?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Rw(e.props.children)?ko(e,{children:e.props.children.split("").join(r)}):"string"===typeof e?(Rw(e)&&(e=e.split("").join(r)),t.createElement("span",null,e)):e}}(e,n)}))}Ko("default","primary","ghost","dashed","link","text"),Ko("circle","round"),Ko("submit","button","reset");var kw=function(e,n){var r,i,o=e.loading,a=void 0!==o&&o,s=e.prefixCls,u=e.type,c=e.danger,h=e.shape,f=e.size,d=e.className,m=e.children,g=e.icon,v=e.ghost,y=void 0!==v&&v,b=e.block,x=void 0!==b&&b,E=e.htmlType,w=void 0===E?"button":E,M=Dw(e,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),A=t.useContext(ix),_=T(t.useState(!!a),2),N=_[0],I=_[1],L=T(t.useState(!1),2),D=L[0],O=L[1],R=t.useContext(W),P=R.getPrefixCls,j=R.autoInsertSpaceInButton,k=R.direction,U=n||t.createRef(),F=t.useRef(),z=function(){return 1===t.Children.count(m)&&!g&&!Pw(u)};i="object"===l(a)&&a.delay?a.delay||!0:!!a,t.useEffect((function(){clearTimeout(F.current),"number"===typeof i?F.current=window.setTimeout((function(){I(i)}),i):I(i)}),[i]),t.useEffect((function(){if(U&&U.current&&!1!==j){var e=U.current.textContent;z()&&Rw(e)?D||O(!0):D&&O(!1)}}),[U]);var B=function(t){var n,r=e.onClick;N||null===(n=r)||void 0===n||n(t)};ca(!("string"===typeof g&&g.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(g,"` at https://ant.design/components/icon")),ca(!(y&&Pw(u)),"Button","`link` or `text` button can't be a `ghost` button.");var G=P("btn",s),H=!1!==j,V="";switch(f||A){case"large":V="lg";break;case"small":V="sm"}var Y=N?"loading":g,X=C()(G,(p(r={},"".concat(G,"-").concat(u),u),p(r,"".concat(G,"-").concat(h),h),p(r,"".concat(G,"-").concat(V),V),p(r,"".concat(G,"-icon-only"),!m&&0!==m&&Y),p(r,"".concat(G,"-background-ghost"),y&&!Pw(u)),p(r,"".concat(G,"-loading"),N),p(r,"".concat(G,"-two-chinese-chars"),D&&H),p(r,"".concat(G,"-block"),x),p(r,"".concat(G,"-dangerous"),!!c),p(r,"".concat(G,"-rtl"),"rtl"===k),r),d),Q=g&&!N?g:t.createElement(Lw,{existIcon:!!g,prefixCls:G,loading:!!N}),q=m||0===m?jw(m,z()&&H):null,K=re(M,["navigate"]);if(void 0!==K.href)return t.createElement("a",S({},K,{className:X,onClick:B,ref:U}),Q,q);var Z=t.createElement("button",S({},M,{type:w,className:X,onClick:B,ref:U}),Q,q);return Pw(u)?Z:t.createElement(Nw,null,Z)},Uw=t.forwardRef(kw);Uw.displayName="Button",Uw.Group=ww,Uw.__ANT_BUTTON=!0;var Fw=Uw,zw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Bw=Fw.Group,Gw=function(e){var n=t.useContext(W),r=n.getPopupContainer,i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.type,u=e.disabled,c=e.onClick,l=e.htmlType,h=e.children,f=e.className,d=e.overlay,p=e.trigger,m=e.align,g=e.visible,v=e.onVisibleChange,y=e.placement,b=e.getPopupContainer,x=e.href,E=e.icon,w=void 0===E?t.createElement(bw,null):E,M=e.title,A=e.buttonsRender,_=zw(e,["prefixCls","type","disabled","onClick","htmlType","children","className","overlay","trigger","align","visible","onVisibleChange","placement","getPopupContainer","href","icon","title","buttonsRender"]),N=i("dropdown-button",a),I={align:m,overlay:d,disabled:u,trigger:u?[]:p,onVisibleChange:v,getPopupContainer:b||r};"visible"in e&&(I.visible=g),I.placement="placement"in e?y:"rtl"===o?"bottomLeft":"bottomRight";var L=T(A([t.createElement(Fw,{type:s,disabled:u,onClick:c,htmlType:l,href:x,title:M},h),t.createElement(Fw,{type:s,icon:w})]),2),D=L[0],O=L[1];return t.createElement(Bw,S({},_,{className:C()(N,f)}),D,t.createElement(Yw,I,O))};Gw.__ANT_BUTTON=!0,Gw.defaultProps={type:"default",buttonsRender:function(e){return e}};var Hw=Gw,Vw=(Ko("topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"),function(e){var n,r=t.useContext(W),i=r.getPopupContainer,o=r.getPrefixCls,a=r.direction,s=e.arrow,u=e.prefixCls,c=e.children,l=e.trigger,h=e.disabled,f=e.getPopupContainer,d=e.overlayClassName,m=o("dropdown",u),g=t.Children.only(c),v=ko(g,{className:C()("".concat(m,"-trigger"),p({},"".concat(m,"-rtl"),"rtl"===a),g.props.className),disabled:h}),y=C()(d,p({},"".concat(m,"-rtl"),"rtl"===a)),b=h?[]:l;return b&&-1!==b.indexOf("contextMenu")&&(n=!0),t.createElement(mw,S({arrow:s,alignPoint:n},e,{overlayClassName:y,prefixCls:m,getPopupContainer:f||i,transitionName:function(){var t=o(),n=e.placement,r=void 0===n?"":n,i=e.transitionName;return void 0!==i?i:r.indexOf("top")>=0?"".concat(t,"-slide-down"):"".concat(t,"-slide-up")}(),trigger:b,overlay:function(){return function(n){var r,i=e.overlay;r="function"===typeof i?i():i;var o=(r=t.Children.only("string"===typeof r?t.createElement("span",null,r):r)).props;ca(!o.mode||"vertical"===o.mode,"Dropdown",'mode="'.concat(o.mode,"\" is not supported for Dropdown's Menu."));var a=o.selectable,s=void 0!==a&&a,u=o.focusable,c=void 0===u||u,l=o.expandIcon,h="undefined"!==typeof l&&t.isValidElement(l)?l:t.createElement("span",{className:"".concat(n,"-menu-submenu-arrow")},t.createElement(tt,{className:"".concat(n,"-menu-submenu-arrow-icon")}));return"string"===typeof r.type?r:ko(r,{mode:"vertical",selectable:s,focusable:c,expandIcon:h})}(m)},placement:function(){var t=e.placement;return void 0!==t?t:"rtl"===a?"bottomRight":"bottomLeft"}()}),v)});Vw.Button=Hw,Vw.defaultProps={mouseEnterDelay:.15,mouseLeaveDelay:.1};var Yw=Vw,Ww=Yw,Xw=t.createContext(null),Qw=Xw.Provider,qw=Xw,Kw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Zw=function(e,n){var r,i=t.useContext(qw),o=t.useContext(W),a=o.getPrefixCls,s=o.direction,u=Pn(n,t.useRef());t.useEffect((function(){ca(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var c=e.prefixCls,l=e.className,h=e.children,f=e.style,d=Kw(e,["prefixCls","className","children","style"]),m=a("radio",c),g=S({},d);i&&(g.name=i.name,g.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,t)},g.checked=e.value===i.value,g.disabled=e.disabled||i.disabled);var v=C()("".concat(m,"-wrapper"),(p(r={},"".concat(m,"-wrapper-checked"),g.checked),p(r,"".concat(m,"-wrapper-disabled"),g.disabled),p(r,"".concat(m,"-wrapper-rtl"),"rtl"===s),r),l);return t.createElement("label",{className:v,style:f,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},t.createElement($E,S({},g,{prefixCls:m,ref:u})),void 0!==h?t.createElement("span",null,h):null)},Jw=t.forwardRef(Zw);Jw.displayName="Radio",Jw.defaultProps={type:"radio"};var $w=Jw,eM=t.forwardRef((function(e,n){var r=t.useContext(W),i=r.getPrefixCls,o=r.direction,a=t.useContext(ix),s=T($y(e.defaultValue,{value:e.value}),2),u=s[0],c=s[1];return t.createElement(Qw,{value:{onChange:function(t){var n=u,r=t.target.value;"value"in e||c(r);var i=e.onChange;i&&r!==n&&i(t)},value:u,disabled:e.disabled,name:e.name}},function(){var r,s=e.prefixCls,c=e.className,l=void 0===c?"":c,h=e.options,f=e.optionType,d=e.buttonStyle,m=void 0===d?"outline":d,g=e.disabled,v=e.children,y=e.size,b=e.style,x=e.id,E=e.onMouseEnter,w=e.onMouseLeave,M=i("radio",s),A="".concat(M,"-group"),_=v;if(h&&h.length>0){var T="button"===f?"".concat(M,"-button"):M;_=h.map((function(e){return"string"===typeof e?t.createElement($w,{key:e,prefixCls:T,disabled:g,value:e,checked:u===e},e):t.createElement($w,{key:"radio-group-value-options-".concat(e.value),prefixCls:T,disabled:e.disabled||g,value:e.value,checked:u===e.value,style:e.style},e.label)}))}var S=y||a,N=C()(A,"".concat(A,"-").concat(m),(p(r={},"".concat(A,"-").concat(S),S),p(r,"".concat(A,"-rtl"),"rtl"===o),r),l);return t.createElement("div",{className:N,style:b,onMouseEnter:E,onMouseLeave:w,id:x,ref:n},_)}())})),tM=t.memo(eM),nM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},rM=function(e,n){var r=t.useContext(qw),i=t.useContext(W).getPrefixCls,o=e.prefixCls,a=nM(e,["prefixCls"]),s=i("radio-button",o);return r&&(a.checked=e.value===r.value,a.disabled=e.disabled||r.disabled),t.createElement($w,S({prefixCls:s},a,{type:"radio",ref:n}))},iM=t.forwardRef(rM),oM=$w;oM.Button=iM,oM.Group=tM;var aM=oM,sM="SELECT_ALL",uM="SELECT_INVERT",cM="SELECT_NONE";function lM(e){return e&&e.fixed}function hM(e,t){var n=[];return(e||[]).forEach((function(e){n.push(e),e&&"object"===l(e)&&t in e&&(n=[].concat(M(n),M(hM(e[t],t))))})),n}function fM(e,n){var r=e||{},i=r.preserveSelectedRowKeys,o=r.selectedRowKeys,a=r.getCheckboxProps,s=r.onChange,u=r.onSelect,c=r.onSelectAll,l=r.onSelectInvert,h=r.onSelectNone,f=r.onSelectMultiple,d=r.columnWidth,m=r.type,g=r.selections,v=r.fixed,y=r.renderCell,b=r.hideSelectAll,x=r.checkStrictly,E=void 0===x||x,w=n.prefixCls,A=n.data,_=n.pageData,N=n.getRecordByKey,C=n.getRowKey,I=n.expandType,L=n.childrenColumnName,D=n.locale,O=n.expandIconColumnIndex,R=n.getPopupContainer,P=t.useRef(new Map),j=T($y(o||[],{value:o}),2),k=j[0],U=j[1],F=(0,t.useMemo)((function(){return E?{keyEntities:null}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,i=t.onProcessFinished,o=t.externalGetKey,a=t.childrenPropName,s=arguments.length>2?arguments[2]:void 0,u=o||s,c={},l={},h={posEntities:c,keyEntities:l};return n&&(h=n(h)||h),XE(e,(function(e){var t=e.node,n=e.index,i=e.pos,o=e.key,a=e.parentPos,s={node:t,index:n,key:o,pos:i,level:e.level},u=WE(o,i);c[i]=s,l[u]=s,s.parent=c[a],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,h)}),{externalGetKey:u,childrenPropName:a}),i&&i(h),h}(A,{externalGetKey:C,childrenPropName:L})}),[A,C,E,L]),z=F.keyEntities,B=(0,t.useMemo)((function(){return hM(_,L)}),[_,L]),G=(0,t.useMemo)((function(){var e=new Map;return B.forEach((function(t,n){var r=C(t,n),i=(a?a(t):null)||{};e.set(r,i)})),e}),[B,C,a]),H=(0,t.useCallback)((function(e){var t;return!!(null===(t=G.get(C(e)))||void 0===t?void 0:t.disabled)}),[G,C]),V=T((0,t.useMemo)((function(){if(E)return[k||[],[]];var e=ZE(k,!0,z,H);return[e.checkedKeys||[],e.halfCheckedKeys]}),[k,E,z,H]),2),Y=V[0],W=V[1],X=(0,t.useMemo)((function(){var e="radio"===m?Y.slice(0,1):Y;return new Set(e)}),[Y,m]),Q=(0,t.useMemo)((function(){return"radio"===m?new Set:new Set(W)}),[W,m]),q=T((0,t.useState)(null),2),K=q[0],Z=q[1];t.useEffect((function(){e||U([])}),[!!e]);var J=(0,t.useCallback)((function(e){var t,n;if(i){var r=new Map;t=e,n=e.map((function(e){var t=N(e);return!t&&P.current.has(e)&&(t=P.current.get(e)),r.set(e,t),t})),P.current=r}else t=[],n=[],e.forEach((function(e){var r=N(e);void 0!==r&&(t.push(e),n.push(r))}));U(t),null===s||void 0===s||s(t,n)}),[U,N,s,i]),$=(0,t.useCallback)((function(e,t,n,r){if(u){var i=n.map((function(e){return N(e)}));u(N(e),t,i,r)}J(n)}),[u,N,J]),ee=(0,t.useMemo)((function(){return!g||b?null:(!0===g?[sM,uM,cM]:g).map((function(e){return e===sM?{key:"all",text:D.selectionAll,onSelect:function(){J(A.map((function(e,t){return C(e,t)})))}}:e===uM?{key:"invert",text:D.selectInvert,onSelect:function(){var e=new Set(X);_.forEach((function(t,n){var r=C(t,n);e.has(r)?e.delete(r):e.add(r)}));var t=Array.from(e);l&&(ca(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),l(t)),J(t)}}:e===cM?{key:"none",text:D.selectNone,onSelect:function(){null===h||void 0===h||h(),J([])}}:e}))}),[g,X,_,C,l,J]),te=(0,t.useCallback)((function(n){if(!e)return n;var r,i,o=new Set(X),a=B.map(C).filter((function(e){return!G.get(e).disabled})),s=a.every((function(e){return o.has(e)})),u=a.some((function(e){return o.has(e)}));if("radio"!==m){var l;if(ee){var h=t.createElement(fa,{getPopupContainer:R},ee.map((function(e,n){var r=e.key,i=e.text,o=e.onSelect;return t.createElement(fa.Item,{key:r||n,onClick:function(){null===o||void 0===o||o(a)}},i)})));l=t.createElement("div",{className:"".concat(w,"-selection-extra")},t.createElement(Ww,{overlay:h,getPopupContainer:R},t.createElement("span",null,t.createElement(zb,null))))}var g=B.every((function(e,t){var n=C(e,t);return(G.get(n)||{}).disabled}));r=!b&&t.createElement("div",{className:"".concat(w,"-selection")},t.createElement(cw,{checked:!g&&!!B.length&&s,indeterminate:!s&&u,onChange:function(){var e=[];s?a.forEach((function(t){o.delete(t),e.push(t)})):a.forEach((function(t){o.has(t)||(o.add(t),e.push(t))}));var t=Array.from(o);null===c||void 0===c||c(!s,t.map((function(e){return N(e)})),e.map((function(e){return N(e)}))),J(t)},disabled:0===B.length||g,skipGroup:!0}),l)}i="radio"===m?function(e,n,r){var i=C(n,r),a=o.has(i);return{node:t.createElement(aM,S({},G.get(i),{checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(e){o.has(i)||$(i,!0,[i],e.nativeEvent)}})),checked:a}}:function(e,n,r){var i,s,u=C(n,r),c=o.has(u),l=Q.has(u),h=G.get(u);return"nest"===I?(s=l,ca(!("boolean"===typeof(null===h||void 0===h?void 0:h.indeterminate)),"Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):s=null!==(i=null===h||void 0===h?void 0:h.indeterminate)&&void 0!==i?i:l,{node:t.createElement(cw,S({},h,{indeterminate:s,checked:c,skipGroup:!0,onClick:function(e){return e.stopPropagation()},onChange:function(e){var t=e.nativeEvent,n=t.shiftKey,r=-1,i=-1;if(n&&E){var s=new Set([K,u]);a.some((function(e,t){if(s.has(e)){if(-1!==r)return i=t,!0;r=t}return!1}))}if(-1!==i&&r!==i&&E){var l=a.slice(r,i+1),h=[];c?l.forEach((function(e){o.has(e)&&(h.push(e),o.delete(e))})):l.forEach((function(e){o.has(e)||(h.push(e),o.add(e))}));var d=Array.from(o);null===f||void 0===f||f(!c,d.map((function(e){return N(e)})),h.map((function(e){return N(e)}))),J(d)}else{var p=Y;if(E){var m=c?function(e,t){var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}(p,u):function(e,t){var n=e.slice();return-1===n.indexOf(t)&&n.push(t),n}(p,u);$(u,!c,m,t)}else{var g=ZE([].concat(M(p),[u]),!0,z,H),v=g.checkedKeys,y=g.halfCheckedKeys,b=v;if(c){var x=new Set(v);x.delete(u),b=ZE(Array.from(x),{checked:!1,halfCheckedKeys:y},z,H).checkedKeys}$(u,!c,b,t)}}Z(u)}})),checked:c}};var x=p({width:d,className:"".concat(w,"-selection-column"),title:e.columnTitle||r,render:function(e,t,n){var r=i(e,t,n),o=r.node,a=r.checked;return y?y(a,t,n,o):o}},Tx,{className:"".concat(w,"-selection-col")});if("row"===I&&n.length&&!O){var A=Vy(n),_=A[0],T=A.slice(1),L=v||lM(T[0]);return L&&(_.fixed=L),[_,S(S({},x),{fixed:L})].concat(M(T))}return[S(S({},x),{fixed:v||lM(n[0])})].concat(M(n))}),[C,B,e,Y,X,Q,d,ee,I,K,G,f,$,H]);return[te,X]}var dM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},pM=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:dM}))};pM.displayName="CaretDownOutlined";var mM=t.forwardRef(pM),gM={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},vM=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:gM}))};vM.displayName="CaretUpOutlined";var yM=t.forwardRef(vM);function bM(e,t){return"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t}function xM(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}function EM(e,t){return"function"===typeof e?e(t):e}var wM="ascend",MM="descend";function AM(e){return"object"===l(e.sorter)&&"number"===typeof e.sorter.multiple&&e.sorter.multiple}function _M(e){return"function"===typeof e?e:!(!e||"object"!==l(e)||!e.compare)&&e.compare}function TM(e,t,n){var r=[];function i(e,t){r.push({column:e,key:bM(e,t),multiplePriority:AM(e),sortOrder:e.sortOrder})}return(e||[]).forEach((function(e,o){var a=xM(o,n);e.children?("sortOrder"in e&&i(e,a),r=[].concat(M(r),M(TM(e.children,t,a)))):e.sorter&&("sortOrder"in e?i(e,a):t&&e.defaultSortOrder&&r.push({column:e,key:bM(e,a),multiplePriority:AM(e),sortOrder:e.defaultSortOrder}))})),r}function SM(e,n,r,i,o,a,s,u){return(n||[]).map((function(n,c){var h=xM(c,u),f=n;if(f.sorter){var d=f.sortDirections||o,m=void 0===f.showSorterTooltip?s:f.showSorterTooltip,g=bM(f,h),v=r.find((function(e){return e.key===g})),y=v?v.sortOrder:null,b=function(e,t){return t?e[e.indexOf(t)+1]:e[0]}(d,y),x=d.includes(wM)&&t.createElement(yM,{className:C()("".concat(e,"-column-sorter-up"),{active:y===wM})}),E=d.includes(MM)&&t.createElement(mM,{className:C()("".concat(e,"-column-sorter-down"),{active:y===MM})}),w=a||{},M=w.cancelSort,A=w.triggerAsc,_=w.triggerDesc,T=M;b===MM?T=_:b===wM&&(T=A);var N="object"===l(m)?m:{title:T};f=S(S({},f),{className:C()(f.className,p({},"".concat(e,"-column-sort"),y)),title:function(r){var i=t.createElement("div",{className:"".concat(e,"-column-sorters")},t.createElement("span",null,EM(n.title,r)),t.createElement("span",{className:C()("".concat(e,"-column-sorter"),p({},"".concat(e,"-column-sorter-full"),x&&E))},t.createElement("span",{className:"".concat(e,"-column-sorter-inner")},x,E)));return m?t.createElement(aa,N,t.createElement("div",{className:"".concat(e,"-column-sorters-with-tooltip")},i)):i},onHeaderCell:function(t){var r=n.onHeaderCell&&n.onHeaderCell(t)||{},o=r.onClick;return r.onClick=function(e){i({column:n,key:g,sortOrder:b,multiplePriority:AM(n)}),o&&o(e)},r.className=C()(r.className,"".concat(e,"-column-has-sorters")),r}})}return"children"in f&&(f=S(S({},f),{children:SM(e,f.children,r,i,o,a,s,h)})),f}))}function NM(e){var t=e.column;return{column:t,order:e.sortOrder,field:t.dataIndex,columnKey:t.key}}function CM(e){var t=e.filter((function(e){return e.sortOrder})).map(NM);return 0===t.length&&e.length?S(S({},NM(e[e.length-1])),{column:void 0}):t.length<=1?t[0]||{}:t}function IM(e,t,n){var r=t.slice().sort((function(e,t){return t.multiplePriority-e.multiplePriority})),i=e.slice(),o=r.filter((function(e){var t=e.column.sorter,n=e.sortOrder;return _M(t)&&n}));return o.length?i.sort((function(e,t){for(var n=0;n<o.length;n+=1){var r=o[n],i=r.column.sorter,a=r.sortOrder,s=_M(i);if(s&&a){var u=s(e,t,a);if(0!==u)return a===wM?u:-u}}return 0})).map((function(e){var r=e[n];return r?S(S({},e),p({},n,IM(r,t,n))):e})):i}function LM(e){var n=e.prefixCls,r=e.mergedColumns,i=e.onSorterChange,o=e.sortDirections,a=e.tableLocale,s=e.showSorterTooltip,u=T(t.useState(TM(r,!0)),2),c=u[0],l=u[1],h=t.useMemo((function(){var e=!0,t=TM(r,!1);if(!t.length)return c;var n=[];function i(t){e?n.push(t):n.push(S(S({},t),{sortOrder:null}))}var o=null;return t.forEach((function(t){null===o?(i(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),i(t))})),n}),[r,c]),f=t.useMemo((function(){var e=h.map((function(e){return{column:e.column,order:e.sortOrder}}));return{sortColumns:e,sortColumn:e[0]&&e[0].column,sortOrder:e[0]&&e[0].order}}),[h]);function d(e){var t;t=!1!==e.multiplePriority&&h.length&&!1!==h[0].multiplePriority?[].concat(M(h.filter((function(t){return t.key!==e.key}))),[e]):[e],l(t),i(CM(t),t)}return[function(e){return SM(n,e,h,d,o,a,s)},h,f,function(){return CM(h)}]}var DM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},OM=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:DM}))};OM.displayName="FilterFilled";var RM=t.forwardRef(OM),PM=function(e){return t.createElement("div",{className:e.className,onClick:function(e){return e.stopPropagation()}},e.children)};function jM(){var e=t.useReducer((function(e){return e+1}),0);return T(e,2)[1]}var kM=fa.SubMenu,UM=fa.Item;function FM(e){var n=e.filters,r=e.prefixCls,i=e.filteredKeys,o=e.filterMultiple,a=e.locale;return 0===n.length?t.createElement("div",{style:{margin:"16px 0"}},t.createElement(V,{image:V.PRESENTED_IMAGE_SIMPLE,description:a.filterEmptyText,imageStyle:{height:24}})):n.map((function(e,n){var s=String(e.value);if(e.children)return t.createElement(kM,{key:s||n,title:e.text,popupClassName:"".concat(r,"-dropdown-submenu")},FM({filters:e.children,prefixCls:r,filteredKeys:i,filterMultiple:o,locale:a}));var u=o?cw:aM;return t.createElement(UM,{key:void 0!==e.value?s:n},t.createElement(u,{checked:i.includes(s)}),t.createElement("span",null,e.text))}))}var zM=function(e){var n,r=e.prefixCls,i=e.column,o=e.dropdownPrefixCls,a=e.columnKey,s=e.filterMultiple,u=e.filterState,c=e.triggerFilter,l=e.locale,h=e.children,f=e.getPopupContainer,d=i.filterDropdownVisible,m=i.onFilterDropdownVisibleChange,g=T(t.useState(!1),2),v=g[0],y=g[1],b=!(!u||!(null===(n=u.filteredKeys)||void 0===n?void 0:n.length)&&!u.forceFiltered),x=function(e){y(e),null===m||void 0===m||m(e)},E="boolean"===typeof d?d:v,w=null===u||void 0===u?void 0:u.filteredKeys,M=T(function(e){var n=t.useRef(e),r=jM();return[function(){return n.current},function(e){n.current=e,r()}]}(w||[]),2),A=M[0],_=M[1],S=function(e){var t=e.selectedKeys;_(t)};t.useEffect((function(){S({selectedKeys:w||[]})}),[w]);var N=T(t.useState([]),2),I=N[0],L=N[1],D=t.useRef();t.useEffect((function(){return function(){window.clearTimeout(D.current)}}),[]);var O,R=function(e){var t=e&&e.length?e:null;return null!==t||u&&u.filteredKeys?Pi()(t,null===u||void 0===u?void 0:u.filteredKeys)?null:void c({column:i,key:a,filteredKeys:t}):null},P=function(){x(!1),R(A())},j=function(){_([]),x(!1),R([])},k=C()(p({},"".concat(o,"-menu-without-submenu"),!function(e){return e.some((function(e){return e.children}))}(i.filters||[])));if("function"===typeof i.filterDropdown)O=i.filterDropdown({prefixCls:"".concat(o,"-custom"),setSelectedKeys:function(e){return S({selectedKeys:e})},selectedKeys:A(),confirm:function(){x(!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0}).closeDropdown),R(A())},clearFilters:j,filters:i.filters,visible:E});else if(i.filterDropdown)O=i.filterDropdown;else{var U=A()||[];O=t.createElement(t.Fragment,null,t.createElement(fa,{multiple:s,prefixCls:"".concat(o,"-menu"),className:k,onClick:function(){window.clearTimeout(D.current)},onSelect:S,onDeselect:S,selectedKeys:U,getPopupContainer:f,openKeys:I,onOpenChange:function(e){D.current=window.setTimeout((function(){L(e)}))}},FM({filters:i.filters||[],prefixCls:r,filteredKeys:A(),filterMultiple:s,locale:l})),t.createElement("div",{className:"".concat(r,"-dropdown-btns")},t.createElement(Fw,{type:"link",size:"small",disabled:0===U.length,onClick:j},l.filterReset),t.createElement(Fw,{type:"primary",size:"small",onClick:P},l.filterConfirm)))}var F,z=t.createElement(PM,{className:"".concat(r,"-dropdown")},O);F="function"===typeof i.filterIcon?i.filterIcon(b):i.filterIcon?i.filterIcon:t.createElement(RM,null);var B=t.useContext(W).direction;return t.createElement("div",{className:C()("".concat(r,"-column"))},t.createElement("span",{className:"".concat(r,"-column-title")},h),t.createElement("span",{className:C()("".concat(r,"-trigger-container"),p({},"".concat(r,"-trigger-container-open"),E)),onClick:function(e){e.stopPropagation()}},t.createElement(Ww,{overlay:z,trigger:["click"],visible:E,onVisibleChange:function(e){e&&void 0!==w&&_(w||[]),x(e),e||i.filterDropdown||P()},getPopupContainer:f,placement:"rtl"===B?"bottomLeft":"bottomRight"},t.createElement("span",{role:"button",tabIndex:-1,className:C()("".concat(r,"-trigger"),{active:b})},F))))};function BM(e,t,n){var r=[];return(e||[]).forEach((function(e,i){var o,a=xM(i,n);if("children"in e)r=[].concat(M(r),M(BM(e.children,t,a)));else if(e.filters||"filterDropdown"in e||"onFilter"in e)if("filteredValue"in e){var s=e.filteredValue;"filterDropdown"in e||(s=null!==(o=null===s||void 0===s?void 0:s.map(String))&&void 0!==o?o:s),r.push({column:e,key:bM(e,a),filteredKeys:s,forceFiltered:e.filtered})}else r.push({column:e,key:bM(e,a),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered})})),r}function GM(e,n,r,i,o,a,s,u){return r.map((function(r,c){var l=xM(c,u),h=r.filterMultiple,f=void 0===h||h,d=r;if(d.filters||d.filterDropdown){var p=bM(d,l),m=i.find((function(e){var t=e.key;return p===t}));d=S(S({},d),{title:function(i){return t.createElement(zM,{prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:n,column:d,columnKey:p,filterState:m,filterMultiple:f,triggerFilter:o,locale:s,getPopupContainer:a},EM(r.title,i))}})}return"children"in d&&(d=S(S({},d),{children:GM(e,n,d.children,i,o,a,s,l)})),d}))}function HM(e){var t=[];return(e||[]).forEach((function(e){var n=e.value,r=e.children;t.push(n),r&&(t=[].concat(M(t),M(HM(r))))})),t}function VM(e){var t={};return e.forEach((function(e){var n=e.key,r=e.filteredKeys,i=e.column,o=i.filters;if(i.filterDropdown)t[n]=r||null;else if(Array.isArray(r)){var a=HM(o);t[n]=a.filter((function(e){return r.includes(String(e))}))}else t[n]=null})),t}function YM(e,t){return t.reduce((function(e,t){var n=t.column,r=n.onFilter,i=n.filters,o=t.filteredKeys;return r&&o&&o.length?e.filter((function(e){return o.some((function(t){var n=HM(i),o=n.findIndex((function(e){return String(e)===String(t)})),a=-1!==o?n[o]:t;return r(a,e)}))})):e}),e)}var WM=function(e){var n=e.prefixCls,r=e.dropdownPrefixCls,i=e.mergedColumns,o=e.onFilterChange,a=e.getPopupContainer,s=e.locale,u=T(t.useState(BM(i,!0)),2),c=u[0],l=u[1],h=t.useMemo((function(){var e=BM(i,!1);return e.every((function(e){return void 0===e.filteredKeys}))?c:e}),[i,c]),f=t.useCallback((function(){return VM(h)}),[h]),d=function(e){var t=h.filter((function(t){return t.key!==e.key}));t.push(e),l(t),o(VM(t),t)};return[function(e){return GM(n,r,e,h,d,a,s)},h,f]};function XM(e,t){return e.map((function(e){var n=S({},e);return n.title=EM(e.title,t),"children"in n&&(n.children=XM(n.children,t)),n}))}function QM(e){return[t.useCallback((function(t){return XM(t,e)}),[e])]}var qM=function(e){return function(n){var r,i=n.prefixCls,o=n.onExpand,a=n.record,s=n.expanded,u=n.expandable,c="".concat(i,"-row-expand-icon");return t.createElement("button",{type:"button",onClick:function(e){o(a,e),e.stopPropagation()},className:C()(c,(r={},p(r,"".concat(c,"-spaced"),!u),p(r,"".concat(c,"-expanded"),u&&s),p(r,"".concat(c,"-collapsed"),u&&!s),r)),"aria-label":s?e.collapse:e.expand})}};function KM(e){return null!==e&&void 0!==e&&e===e.window}function ZM(e,t){var n;if("undefined"===typeof window)return 0;var r=t?"scrollTop":"scrollLeft",i=0;return KM(e)?i=e[t?"pageYOffset":"pageXOffset"]:e instanceof Document?i=e.documentElement[r]:e&&(i=e[r]),e&&!KM(e)&&"number"!==typeof i&&(i=null===(n=(e.ownerDocument||e).documentElement)||void 0===n?void 0:n[r]),i}function JM(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}function $M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,o=t.duration,a=void 0===o?450:o,s=r(),u=ZM(s,!0),c=Date.now(),l=function t(){var n=Date.now()-c,r=JM(n>a?a:n,u,e,a);KM(s)?s.scrollTo(window.pageXOffset,r):s instanceof HTMLDocument||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=r:s.scrollTop=r,n<a?In(t):"function"===typeof i&&i()};In(l)}var eA=R;var tA=function(e){return null};var nA=function(e){return null},rA=[];function iA(e){var n,r=e.prefixCls,i=e.className,o=e.style,a=e.size,s=e.bordered,u=e.dropdownPrefixCls,c=e.dataSource,h=e.pagination,f=e.rowSelection,d=e.rowKey,m=e.rowClassName,g=e.columns,v=e.children,y=e.childrenColumnName,b=e.onChange,x=e.getPopupContainer,E=e.loading,w=e.expandIcon,M=e.expandable,A=e.expandedRowRender,_=e.expandIconColumnIndex,N=e.indentSize,I=e.scroll,L=e.sortDirections,D=e.locale,O=e.showSorterTooltip,R=void 0===O||O;ca(!("function"===typeof d&&d.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var P=RE(),j=t.useMemo((function(){var e=new Set(Object.keys(P).filter((function(e){return P[e]})));return(g||Fx(v)).filter((function(t){return!t.responsive||t.responsive.some((function(t){return e.has(t)}))}))}),[v,g,P]),k=re(e,["className","style","columns"]),U=t.useContext(ix),F=t.useContext(W),z=F.locale,B=void 0===z?eA:z,G=F.renderEmpty,H=F.direction,V=a||U,Y=S(S({},B.Table),D),X=c||rA,Q=t.useContext(W).getPrefixCls,q=Q("table",r),K=Q("dropdown",u),Z=S({childrenColumnName:y,expandIconColumnIndex:_},M),J=Z.childrenColumnName,$=void 0===J?"children":J,ee=t.useMemo((function(){return X.some((function(e){var t;return null===(t=e)||void 0===t?void 0:t[$]}))?"nest":A||M&&M.expandedRowRender?"row":null}),[X]),te={body:t.useRef()},ne=t.useMemo((function(){return"function"===typeof d?d:function(e){var t;return null===(t=e)||void 0===t?void 0:t[d]}}),[d]),ie=function(e,n,r){var i=t.useRef({});return[function(t){if(!i.current||i.current.data!==e||i.current.childrenColumnName!==n||i.current.getRowKey!==r){var o=new Map;!function e(t){t.forEach((function(t,i){var a=r(t,i);o.set(a,t),t&&"object"===l(t)&&n in t&&e(t[n]||[])}))}(e),i.current={data:e,childrenColumnName:n,kvMap:o,getRowKey:r}}return i.current.kvMap.get(t)}]}(X,$,ne),oe=T(ie,1)[0],ae={},se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=S(S({},ae),e);n&&(ae.resetPagination(),r.pagination.current&&(r.pagination.current=1),h&&h.onChange&&h.onChange(1,r.pagination.pageSize)),I&&!1!==I.scrollToFirstRowOnChange&&te.body.current&&$M(0,{getContainer:function(){return te.body.current}}),null===b||void 0===b||b(r.pagination,r.filters,r.sorter,{currentDataSource:YM(IM(X,r.sorterStates,$),r.filterStates),action:t})},ue=T(LM({prefixCls:q,mergedColumns:j,onSorterChange:function(e,t){se({sorter:e,sorterStates:t},"sort",!1)},sortDirections:L||["ascend","descend"],tableLocale:Y,showSorterTooltip:R}),4),ce=ue[0],le=ue[1],he=ue[2],fe=ue[3],de=t.useMemo((function(){return IM(X,le,$)}),[X,le]);ae.sorter=fe(),ae.sorterStates=le;var pe=WM({prefixCls:q,locale:Y,dropdownPrefixCls:K,mergedColumns:j,onFilterChange:function(e,t){se({filters:e,filterStates:t},"filter",!0)},getPopupContainer:x}),me=T(pe,3),ge=me[0],ve=me[1],ye=me[2],be=YM(de,ve);ae.filters=ye(),ae.filterStates=ve;var xe=T(QM(t.useMemo((function(){return S({},he)}),[he])),1)[0],Ee=T(FE(be.length,h,(function(e,t){se({pagination:S(S({},ae.pagination),{current:e,pageSize:t})},"paginate")})),2),we=Ee[0],Me=Ee[1];ae.pagination=!1===h?{}:function(e,t){var n={current:t.current,pageSize:t.pageSize},r=e&&"object"===l(e)?e:{};return Object.keys(r).forEach((function(e){var r=t[e];"function"!==typeof r&&(n[e]=r)})),n}(h,we),ae.resetPagination=Me;var Ae=t.useMemo((function(){if(!1===h||!we.pageSize)return be;var e=we.current,t=void 0===e?1:e,n=we.total,r=we.pageSize,i=void 0===r?10:r;return be.length<n?be.length>i?(ca(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),be.slice((t-1)*i,t*i)):be:be.slice((t-1)*i,t*i)}),[!!h,be,we&&we.current,we&&we.pageSize,we&&we.total]),_e=T(fM(f,{prefixCls:q,data:be,pageData:Ae,getRowKey:ne,getRecordByKey:oe,expandType:ee,childrenColumnName:$,locale:Y,expandIconColumnIndex:Z.expandIconColumnIndex,getPopupContainer:x}),2),Te=_e[0],Se=_e[1];Z.__PARENT_RENDER_ICON__=Z.expandIcon,Z.expandIcon=Z.expandIcon||w||qM(Y),"nest"===ee&&void 0===Z.expandIconColumnIndex?Z.expandIconColumnIndex=f?1:0:Z.expandIconColumnIndex>0&&f&&(Z.expandIconColumnIndex-=1),"number"!==typeof Z.indentSize&&(Z.indentSize="number"===typeof N?N:15);var Ne,Ce,Ie,Le=t.useCallback((function(e){return xe(Te(ge(ce(e))))}),[ce,ge,Te]);if(!1!==h&&(null===we||void 0===we?void 0:we.total)){var De;De=we.size?we.size:"small"===V||"middle"===V?"small":void 0;var Oe=function(e){return t.createElement(kE,S({className:"".concat(q,"-pagination ").concat(q,"-pagination-").concat(e)},we,{size:De}))},Re="rtl"===H?"left":"right",Pe=we.position;if(null!==Pe&&Array.isArray(Pe)){var je=Pe.find((function(e){return-1!==e.indexOf("top")})),ke=Pe.find((function(e){return-1!==e.indexOf("bottom")})),Ue=Pe.every((function(e){return"none"==="".concat(e)}));je||ke||Ue||(Ce=Oe(Re)),je&&(Ne=Oe(je.toLowerCase().replace("top",""))),ke&&(Ce=Oe(ke.toLowerCase().replace("bottom","")))}else Ce=Oe(Re)}"boolean"===typeof E?Ie={spinning:E}:"object"===l(E)&&(Ie=S({spinning:!0},E));var Fe=C()("".concat(q,"-wrapper"),p({},"".concat(q,"-wrapper-rtl"),"rtl"===H),i);return t.createElement("div",{className:Fe,style:o},t.createElement(cE,S({spinning:!1},Ie),Ne,t.createElement(rE,S({},k,{columns:j,direction:H,expandable:Z,prefixCls:q,className:C()((n={},p(n,"".concat(q,"-middle"),"middle"===V),p(n,"".concat(q,"-small"),"small"===V),p(n,"".concat(q,"-bordered"),s),p(n,"".concat(q,"-empty"),0===X.length),n)),data:Ae,rowKey:ne,rowClassName:function(e,t,n){var r;return r="function"===typeof m?C()(m(e,t,n)):C()(m),C()(p({},"".concat(q,"-row-selected"),Se.has(ne(e,t))),r)},emptyText:D&&D.emptyText||G("Table"),internalHooks:eE,internalRefs:te,transformColumns:Le})),Ce))}iA.defaultProps={rowKey:"key"},iA.SELECTION_ALL=sM,iA.SELECTION_INVERT=uM,iA.SELECTION_NONE=cM,iA.Column=tA,iA.ColumnGroup=nA,iA.Summary=Wx;var oA=iA;function aA(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function sA(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){aA(o,r,i,a,s,"next",e)}function s(e){aA(o,r,i,a,s,"throw",e)}a(void 0)}))}}function uA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cA(Object(n),!0).forEach((function(t){uA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||pA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dA(e){return function(e){if(Array.isArray(e))return mA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pA(e,t){if(e){if("string"===typeof e)return mA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mA(e,t):void 0}}function mA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gA(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=pA(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var vA=function(e,t,n){!function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r.forEach((function(r){n(r,i,o);var a=r[t];Array.isArray(a)&&e(a,r,o+1)}))}(e)},yA="__react_antd_treetable",bA=function(e){return"".concat(yA,"_").concat(e)},xA=bA("loading"),EA=bA("level"),wA=bA("parent"),MA=bA("is_loading"),AA=(bA("pagination"),{width:12,height:12,marginRight:8,marginTop:4,fontSize:12,flexShrink:0}),_A=function(e){var n=e.expandIcon,r=hA(e,["expandIcon"]),i=r.expanded,o=r.expandable,a=r.onExpand,s=r.record;return s[MA]?t.createElement(Hb,{style:AA}):n?n(r):o?i?t.createElement(zb,{style:AA,onClick:function(e){a(s,e)}}):t.createElement(tt,{style:AA,onClick:function(e){a(s,e)}}):t.createElement("span",{style:AA})},TA=(bA("pagination_current"),function(e){return uA({},e,"".concat(xA,"-").concat(Math.random()))}),SA=function(e){var t=e.onLoad,n=e.hasNextKey;return function(e,r){var i=e.childrenColumnName,o=e.rowKey,a=r.replaceChildList,s=r.expandedRowKeys,u=r.setExpandedRowKeys,c=function(){var e=sA(Hi().mark((function e(r,o){var c,l,h;return Hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r&&o[n]&&t)){e.next=18;break}return c=o[n],l=o[i],o[MA]=!0,o[i]=null,e.prev=5,e.next=8,t(o);case 8:h=e.sent,o[n]=!1,a(o,h),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(5),o[n]=c,o[i]=l,u(s.filter((function(e){return e!==xA})));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}();return{onRecord:function(e){(null===e||void 0===e?void 0:e[n])&&(e[i]=[TA(o)])},onExpand:c}}},NA=function(e){var n,r=e.headDataIndex,i=e.children,o=e.record,a=e.dataIndex,s=e.rowKey,u=e.expandedRowKeys,c=e.indentSize,l=e.className,h=u.includes(null===o||void 0===o||null===(n=o[wA])||void 0===n?void 0:n[s]);if(a!==r||!h)return t.createElement("td",{className:l},t.createElement("div",{className:"react-antd-treetable-cell-content"},i));var f=o[EA],d=(0,t.useMemo)((function(){for(var e=[],n=1;n<f;n++)e.push(n*c);return e.map((function(e){return t.createElement("div",{style:{position:"absolute",left:e,top:0,bottom:0,width:1,height:"100%",backgroundColor:"#e8e8e8"},key:e})}))}),[f]);return t.createElement("td",{className:"".concat(l," react-antd-treetable-cell")},d,t.createElement("div",{className:"react-antd-treetable-cell-content"},i))},CA=function(e,n){var r=n.expandedRowKeys;return{components:{body:{cell:function(n){return t.createElement(NA,Object.assign({},e,n,{expandedRowKeys:r}))}}},onColumn:function(e){e.onCell=function(t){return lA({record:t},e)}}}};bA("search_value"),bA("empty");!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".react-antd-treetable .ant-table-tbody > tr > td {\n  border-bottom-color: transparent;\n}\n\n.react-antd-treetable-cell {\n  position: relative;\n}\n\n.react-antd-treetable-cell-content {\n  display: flex;\n}\n\n.react-antd-treetable-filter-cell {\n  display: flex;\n  align-items: center;\n}\n");var IA=t.forwardRef((function(e,n){var r,i,o,a=function(e){var t,n=e.disableIndentLine,r=e.indentSize,i=void 0===r?24:r,o=e.childrenColumnName,a=void 0===o?"children":o,s=e.columns,u=e.headDataIndex,c=e.plugins,l=void 0===c?[]:c;u||(u=null===(t=s[0])||void 0===t?void 0:t.dataIndex);var h=[].concat(dA(l),[n?null:CA]);return lA(lA({},e),{},{plugins:h,indentSize:i,headDataIndex:u,childrenColumnName:a})}(e),s=a.columns,u=a.dataSource,c=a.rowKey,l=a.indentSize,h=a.childrenColumnName,f=a.onExpand,d=hA(a,["columns","dataSource","rowKey","indentSize","childrenColumnName","onExpand"]),p=(0,t.useReducer)((function(e){return e+1}),0),m=fA(p,2),g=(m[0],m[1]),v=fA((0,t.useState)([]),2),y=v[0],b=v[1];"expandedRowKeys"in a?(i=a.expandedRowKeys,o=a.onExpandedRowsChange):"expandable"in a&&(null===(r=a.expandable)||void 0===r?void 0:r.expandedRowKeys)?(i=a.expandable.expandedRowKeys,o=a.expandable.onExpandedRowsChange):(i=y,o=b);var x=function(e,t){e[h]=t,e[MA]=!1,C({dataSource:t,parentNode:e})},E={setNodeLoading:function(e,t){e&&(e[MA]=t,g())},getNodeLoading:function(e){return null===e||void 0===e?void 0:e[MA]},getParentRecord:function(e){return null===e||void 0===e?void 0:e[wA]},getRecordLevel:function(e){return null===e||void 0===e?void 0:e[EA]}},w={},M=lA({forceUpdate:g,replaceChildList:x,expandedRowKeys:i,setExpandedRowKeys:o,addImperativeHandle:function(e){w=Object.assign(w,e)}},E),A=function(e,t){var n=e.plugins.map((function(n){return null===n||void 0===n?void 0:n(e,t)})).filter(Boolean),r={onColumn:function(e){var t,r=gA(n);try{for(r.s();!(t=r.n()).done;){var i,o=t.value;null===o||void 0===o||null===(i=o.onColumn)||void 0===i||i.call(o,e)}}catch(a){r.e(a)}finally{r.f()}},onRecord:function(e,t,r){var i,o=gA(n);try{for(o.s();!(i=o.n()).done;){var a,s=i.value;null===s||void 0===s||null===(a=s.onRecord)||void 0===a||a.call(s,e,t,r)}}catch(u){o.e(u)}finally{o.f()}},onExpand:function(e,t){var r,i=gA(n);try{for(i.s();!(r=i.n()).done;){var o,a=r.value;null===a||void 0===a||null===(o=a.onExpand)||void 0===o||o.call(a,e,t)}}catch(s){i.e(s)}finally{i.f()}},mergeComponents:function(){var t,r=e.components||{},i=function(e,t){var n={};return["header","body"].forEach((function(r){(e[r]||t[r])&&(n[r]=Object.assign({},e[r],t[r]))})),n.table=e.table||t.table,n},o=gA(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;r=i(r,(null===a||void 0===a?void 0:a.components)||{})}}catch(s){o.e(s)}finally{o.f()}return r}};return r}(a,M);(0,t.useImperativeHandle)(n,(function(){return lA(lA({replaceChildList:x},E),w)}));var _=s.map((function(e){var t=Object.assign({},e);return A.onColumn(t),t})),T=fA((0,t.useState)(!1),2),S=T[0],N=T[1];function C(e){var t=e.dataSource,n=void 0===t?[]:t,r=e.parentNode,i=void 0===r?null:r,o=(null===i||void 0===i?void 0:i[EA])||0;i&&A.onRecord(i,null,o),vA(n,h,(function(e,t,n){t=t||i||e[wA],e[EA]=n+o,e[wA]=t,A.onRecord(e,t,n)})),g()}(0,t.useEffect)((function(){C({dataSource:u}),N(!0)}),[u]);var I=function(){var e=sA(Hi().mark((function e(t,n){return Hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.onExpand(t,n),null===f||void 0===f||f(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=A.mergeComponents();return S?t.createElement("div",{className:"react-antd-treetable"},t.createElement(oA,Object.assign({},{pagination:!1},d,{childrenColumnName:h,bordered:!1,indentSize:l,columns:_,components:L,rowKey:c,dataSource:u,onExpand:I,expandIcon:function(e){return t.createElement(_A,Object.assign({},e,{expandIcon:a.expandIcon}))},expandedRowKeys:i,onExpandedRowsChange:o}))):null}));var LA=IA,DA=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).onExpandedRowsChange=function(e){r.setState({expandedKeys:e})},r.onLoadMore=function(){var e=Yi(Hi().mark((function e(t){var n;return Hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,r.loadData(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadData=function(e){return new Promise((function(t){setTimeout((function(){console.log(e);var n=Module.cwrap("getTreeTableChildrenList","string",["number"])(e.id),r=JSON.parse(n);t(r)}),200)}))},r.state={expandedKeys:[]},r}return a(n,[{key:"render",value:function(){return(0,y.jsx)(LA,{rowKey:"id",size:"small",expandedRowKeys:this.state.expandedKeys,onExpandedRowsChange:this.onExpandedRowsChange,dataSource:this.props.tableList,columns:this.props.cols,scroll:{x:1e3,y:550},plugins:[SA({onLoad:this.onLoadMore,hasNextKey:"hasChild"})]})}}]),n}(t.Component),OA=lx.Option,RA=function(e){u(n,e);var t=d(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).changeToTopDown=function(){r.setState({dataShowType:0})},r.changeToBottomUp=function(){r.setState({dataShowType:1}),console.log(r.state.dataShowType)},r.changeToFlat=function(){r.setState({dataShowType:2})},r.handleChange=function(e){console.log(e),console.log(r.state.metricArray);var t=[];t.push({dataIndex:"name",title:"name"}),t.push({dataIndex:"abb",title:"123"}),r.state.metricArray.forEach((function(n){var i="i"+n.id;e.includes(i)&&t.push({dataIndex:"i"+n.id,title:n.name+" [INC]",onHeaderCell:function(e){return{onClick:function(){console.log(e),console.log(n);var t=parseInt(n.id);window.Module._sortContextTreeByMetricIdx(0,t);var i=window.Module.cwrap("getTreeTableChildrenList","string",["number"])(2),o=JSON.parse(i);r.setState({tableList:o,tablekey:r.state.tablekey+1})}}}});var o="e"+n.id;e.includes(o)&&t.push({dataIndex:"e"+n.id,title:n.name+" [EXC]",onHeaderCell:function(e){return{onClick:function(){console.log(e),console.log(n);var t=parseInt(n.id);console.log(t);window.Module._sortContextTreeByMetricIdx(1,t);var i=window.Module.cwrap("getTreeTableChildrenList","string",["number"])(2),o=JSON.parse(i);console.log(o),r.setState({tableList:o,tablekey:r.state.tablekey+1})}}}})})),console.log(t),r.setState({columns:t})},r.state={expandedKeys:[],tableList:[],columns:[],dataShowType:0,metricIndex:0,children:[],metricArray:[],defaultSelects:[],tablekey:0},r}return a(n,[{key:"componentDidMount",value:function(){var e=this,t=[],n=window.Module.cwrap("getMetricDesJsonStr","string")(),r=JSON.parse(n);console.log(r);var i=[];i.push({dataIndex:"name",title:"name",fixed:"left",width:"300",ellipsis:!0}),r.forEach((function(t){i.push({dataIndex:"i"+t.id,title:t.name+" [INC]",onHeaderCell:function(n){return{onClick:function(){console.log(n),console.log(t);var r=parseInt(t.id);window.Module._sortContextTreeByMetricIdx(0,r);var i=window.Module.cwrap("getTreeTableChildrenList","string",["number"])(2),o=JSON.parse(i);console.log(o),e.setState({tableList:o,tablekey:e.state.tablekey+1})}}}}),i.push({dataIndex:"e"+t.id,title:t.name+" [EXC]",onHeaderCell:function(n){return{onClick:function(){console.log(n),console.log(t);var r=parseInt(t.id);console.log(r);window.Module._sortContextTreeByMetricIdx(1,r);var i=window.Module.cwrap("getTreeTableChildrenList","string",["number"])(2),o=JSON.parse(i);console.log(o),e.setState({tableList:o,tablekey:e.state.tablekey+1})}}}})})),this.setState({metricArray:r}),this.setState({columns:i});for(var o=1;o<i.length;o++)t.push((0,y.jsx)(OA,{children:i[o].title},i[o].dataIndex));this.setState({children:t}),this.setState({defaultSelects:t}),window.Module._updateValueTree(1,this.state.dataShowType,0);var a=Module.cwrap("getTreeTableChildrenList","string",["number"])(2),s=JSON.parse(a);this.setState({tableList:s,tablekey:this.state.tablekey+1})}},{key:"componentDidUpdate",value:function(e,t){if(t.dataShowType!=this.state.dataShowType){window.Module._updateValueTree(1,this.state.dataShowType,0);var n=Module.cwrap("getTreeTableChildrenList","string",["number"])(2),r=JSON.parse(n);this.setState({tableList:r,tablekey:this.state.tablekey+1})}}},{key:"render",value:function(){return(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{type:"button",onClick:this.changeToTopDown,className:"relative inline-flex items-center px-4 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Top Down"}),(0,y.jsx)("button",{type:"button",onClick:this.changeToBottomUp,className:"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Bottom Up"}),(0,y.jsx)("button",{type:"button",onClick:this.changeToFlat,className:"-ml-px relative inline-flex items-center px-4 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:"Flat"}),(0,y.jsx)(lx,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",defaultValue:this.state.defaultSelects,onChange:this.handleChange,children:this.state.children}),(0,y.jsx)("div",{children:(0,y.jsx)(DA,{dataShowType:this.state.dataShowType,cols:this.state.columns,tableList:this.state.tableList},this.state.tablekey)})]})}}]),n}(t.Component),PA={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},jA=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:PA}))};jA.displayName="InboxOutlined";var kA=t.forwardRef(jA),UA=r(87757),FA=r.n(UA);function zA(t){var n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch(e){return n}}function BA(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var r=e.data[t];Array.isArray(r)?r.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,e.data[t])})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),zA(t)):e.onSuccess(zA(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(e){null!==r[e]&&t.setRequestHeader(e,r[e])})),t.send(n),{abort:function(){t.abort()}}}var GA=+new Date,HA=0;function VA(){return"rc-upload-".concat(GA,"-").concat(++HA)}var YA=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",o=i.replace(/\/.*$/,"");return n.some((function(e){var t,n,a=e.trim();return"."===a.charAt(0)?(t=r.toLowerCase(),n=a.toLowerCase(),-1!==t.indexOf(n,t.length-n.length)):/\/\*$/.test(a)?o===a.replace(/\/.*$/,""):i===a}))}return!0};var WA=function(e,t,n){var r=function e(r,i){r.path=i||"",r.isFile?r.file((function(e){n(e)&&(r.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):r.isDirectory&&function(e,t){var n=e.createReader(),r=[];!function e(){n.readEntries((function(n){var i=Array.prototype.slice.apply(n);r=r.concat(i),i.length?e():t(r)}))}()}(r,(function(t){t.forEach((function(t){e(t,"".concat(i).concat(r.name,"/"))}))}))};e.forEach((function(e){r(e.webkitGetAsEntry())}))},XA=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).state={uid:VA()},e.reqs={},e.onChange=function(t){var n=M(t.target.files).filter((function(t){return YA(t,e.props.accept)}));e.uploadFiles(n),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var r=e.props,i=r.children,o=r.onClick;if(i&&"button"===i.type){var a=n.parentNode;a.focus(),a.querySelector("button").blur()}n.click(),o&&o(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)WA(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return YA(t,e.props.accept)}));else{var r=M(t.dataTransfer.files).filter((function(t){return YA(t,e.props.accept)}));!1===n&&(r=r.slice(0,1)),e.uploadFiles(r)}},e.uploadFiles=function(t){var n=M(t),r=n.map((function(t){return t.uid=VA(),e.processFile(t,n)}));Promise.all(r).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=Yi(FA().mark((function t(n,r){var i,o,a,s,u,c,h;return FA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props.beforeUpload,o=n,!i){t.next=14;break}return t.prev=3,t.next=6,i(n,r);case 6:o=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),o=!1;case 12:if(!1!==o){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(a=e.props.action)){t.next=21;break}return t.next=18,a(n);case 18:s=t.sent,t.next=22;break;case 21:s=a;case 22:if("function"!==typeof(u=e.props.data)){t.next=29;break}return t.next=26,u(n);case 26:c=t.sent,t.next=30;break;case 29:c=u;case 30:return h="object"!==l(o)&&"string"!==typeof o||!o?n:o,"object"!==l(h)||h.name||(h.name=n.name),t.abrupt("return",{origin:n,data:c,parsedFile:h,action:s});case 33:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return a(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,i=e.action,o=e.parsedFile;if(this._isMounted){var a=this.props,s=a.onStart,u=a.customRequest,c=a.name,l=a.headers,h=a.withCredentials,f=a.method,d=r.uid,p=u||BA,m={action:i,filename:c,data:n,file:o,headers:l,withCredentials:h,method:f||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,r)},onSuccess:function(e,n){var i=t.props.onSuccess;null===i||void 0===i||i(e,r,n),delete t.reqs[d]},onError:function(e,n){var i=t.props.onError;null===i||void 0===i||i(e,n,r),delete t.reqs[d]}};s(r),this.reqs[d]=p(m)}}},{key:"reset",value:function(){this.setState({uid:VA()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e,n=this.props,r=n.component,i=n.prefixCls,o=n.className,a=n.disabled,s=n.id,u=n.style,c=n.multiple,l=n.accept,h=n.children,f=n.directory,d=n.openFileDialogOnClick,m=n.onMouseEnter,g=n.onMouseLeave,v=oe(n,["component","prefixCls","className","disabled","id","style","multiple","accept","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"]),y=C()((p(e={},i,!0),p(e,"".concat(i,"-disabled"),a),p(e,o,o),e)),b=f?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},x=a?{}:{onClick:d?this.onClick:function(){},onKeyDown:d?this.onKeyDown:function(){},onMouseEnter:m,onMouseLeave:g,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return t.createElement(r,S({},x,{className:y,role:"button",style:u}),t.createElement("input",S({},Fv(v,{aria:!0,data:!0}),{id:s,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:l},b,{multiple:c,onChange:this.onChange})),h)}}]),r}(t.Component),QA=XA;function qA(){}var KA=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).saveUploader=function(t){e.uploader=t},e}return a(r,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return t.createElement(QA,S({},this.props,{ref:this.saveUploader}))}}]),r}(t.Component);KA.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:qA,onError:qA,onSuccess:qA,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var ZA=KA,JA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$A=function(e,n){var r=e.style,i=e.height,o=JA(e,["style","height"]);return t.createElement(iT,S({ref:n},o,{type:"drag",style:S(S({},r),{height:i})}))},e_=t.forwardRef($A);e_.displayName="Dragger";var t_=e_,n_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},r_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:n_}))};r_.displayName="PaperClipOutlined";var i_=t.forwardRef(r_),o_={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},a_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:o_}))};a_.displayName="PictureTwoTone";var s_=t.forwardRef(a_),u_={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},c_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:u_}))};c_.displayName="FileTwoTone";var l_=t.forwardRef(c_);function h_(e){var t={lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e};if("undefined"!==typeof Proxy){var n=new Map(Object.entries(t));return new Proxy(e,{get:function(e,t){return n.has(t)?n.get(t):e[t]},set:function(e,t,r){return n.set(t,r),!0},has:function(e,t){return n.has(t)||t in e},ownKeys:function(e){var t=[].concat(M(Object.keys(e)),M(n.keys()));return M(new Set(t))},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}})}return S(S({},e),t)}function f_(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter((function(t){return t[n]===e[n]}))[0]}var d_=function(e){return 0===e.indexOf("image/")},p_=200;var m_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},g_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:m_}))};g_.displayName="EyeOutlined";var v_=t.forwardRef(g_),y_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},b_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:y_}))};b_.displayName="DeleteOutlined";var x_=t.forwardRef(b_),E_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},w_=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:E_}))};w_.displayName="DownloadOutlined";var M_=t.forwardRef(w_),A_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},__=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:A_}))};__.displayName="CheckCircleFilled";var T_=t.forwardRef(__);function S_(e){return!e||e<0?0:e>100?100:e}function N_(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(ca(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),n=t.progress),t&&"percent"in t&&(n=t.percent),n}var C_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},I_=function(e,t){var n=e.from,r=void 0===n?Ne.blue:n,i=e.to,o=void 0===i?Ne.blue:i,a=e.direction,s=void 0===a?"rtl"===t?"to left":"to right":a,u=C_(e,["from","to","direction"]);if(0!==Object.keys(u).length){var c=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(u);return{backgroundImage:"linear-gradient(".concat(s,", ").concat(c,")")}}return{backgroundImage:"linear-gradient(".concat(s,", ").concat(r,", ").concat(o,")")}},L_=function(e){var n=e.prefixCls,r=e.direction,i=e.percent,o=e.strokeWidth,a=e.size,s=e.strokeColor,u=e.strokeLinecap,c=e.children,l=e.trailColor,h=e.success,f=s&&"string"!==typeof s?I_(s,r):{background:s},d=l?{backgroundColor:l}:void 0,p=S({width:"".concat(S_(i),"%"),height:o||("small"===a?6:8),borderRadius:"square"===u?0:""},f),m=N_(e),g={width:"".concat(S_(m),"%"),height:o||("small"===a?6:8),borderRadius:"square"===u?0:"",backgroundColor:null===h||void 0===h?void 0:h.strokeColor},v=void 0!==m?t.createElement("div",{className:"".concat(n,"-success-bg"),style:g}):null;return t.createElement(t.Fragment,null,t.createElement("div",{className:"".concat(n,"-outer")},t.createElement("div",{className:"".concat(n,"-inner"),style:d},t.createElement("div",{className:"".concat(n,"-bg"),style:p}),v)),c)},D_={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},O_=function(e){var n=e.map((function(){return(0,t.useRef)()})),r=(0,t.useRef)(null);return(0,t.useEffect)((function(){var e=Date.now(),t=!1;Object.keys(n).forEach((function(i){var o=n[i].current;if(o){t=!0;var a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",r.current&&e-r.current<100&&(a.transitionDuration="0s, 0s")}})),t&&(r.current=Date.now())})),[n]},R_=function(e){var n=e.className,r=e.percent,i=e.prefixCls,o=e.strokeColor,a=e.strokeLinecap,s=e.strokeWidth,u=e.style,c=e.trailColor,l=e.trailWidth,h=e.transition,f=oe(e,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"]);delete f.gapPosition;var d=Array.isArray(r)?r:[r],p=Array.isArray(o)?o:[o],m=T(O_(d),1)[0],g=s/2,v=100-s/2,y="M ".concat("round"===a?g:0,",").concat(g,"\n         L ").concat("round"===a?v:100,",").concat(g),b="0 0 100 ".concat(s),x=0;return t.createElement("svg",S({className:C()("".concat(i,"-line"),n),viewBox:b,preserveAspectRatio:"none",style:u},f),t.createElement("path",{className:"".concat(i,"-line-trail"),d:y,strokeLinecap:a,stroke:c,strokeWidth:l||s,fillOpacity:"0"}),d.map((function(e,n){var r=1;switch(a){case"round":r=1-s/100;break;case"square":r=1-s/2/100;break;default:r=1}var o={strokeDasharray:"".concat(e*r,"px, 100px"),strokeDashoffset:"-".concat(x,"px"),transition:h||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},u=p[n]||p[p.length-1];return x+=e,t.createElement("path",{key:n,className:"".concat(i,"-line-path"),d:y,strokeLinecap:a,stroke:u,strokeWidth:s,fillOpacity:"0",ref:m[n],style:o})})))};R_.defaultProps=D_,R_.displayName="Line";var P_=0;function j_(e){return+e.replace("%","")}function k_(e){return Array.isArray(e)?e:[e]}function U_(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=50-r/2,s=0,u=-a,c=0,l=-2*a;switch(o){case"left":s=-a,u=0,c=2*a,l=0;break;case"right":s=a,u=0,c=-2*a,l=0;break;case"bottom":u=a,l=2*a}var h="M 50,50 m ".concat(s,",").concat(u,"\n   a ").concat(a,",").concat(a," 0 1 1 ").concat(c,",").concat(-l,"\n   a ").concat(a,",").concat(a," 0 1 1 ").concat(-c,",").concat(l),f=2*Math.PI*a,d={stroke:"string"===typeof n?n:void 0,strokeDasharray:"".concat(t/100*(f-i),"px ").concat(f,"px"),strokeDashoffset:"-".concat(i/2+e/100*(f-i),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:h,pathStyle:d}}var F_=function(e){var n=e.prefixCls,r=e.strokeWidth,i=e.trailWidth,o=e.gapDegree,a=e.gapPosition,s=e.trailColor,u=e.strokeLinecap,c=e.style,l=e.className,h=e.strokeColor,f=e.percent,d=oe(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"]),p=t.useMemo((function(){return P_+=1}),[]),m=U_(0,100,s,r,o,a),g=m.pathString,v=m.pathStyle,y=k_(f),b=k_(h),x=b.find((function(e){return"[object Object]"===Object.prototype.toString.call(e)})),E=T(O_(y),1)[0];return t.createElement("svg",S({className:C()("".concat(n,"-circle"),l),viewBox:"0 0 100 100",style:c},d),x&&t.createElement("defs",null,t.createElement("linearGradient",{id:"".concat(n,"-gradient-").concat(p),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(x).sort((function(e,t){return j_(e)-j_(t)})).map((function(e,n){return t.createElement("stop",{key:n,offset:e,stopColor:x[e]})})))),t.createElement("path",{className:"".concat(n,"-circle-trail"),d:g,stroke:s,strokeLinecap:u,strokeWidth:i||r,fillOpacity:"0",style:v}),function(){var e=0;return y.map((function(i,s){var c=b[s]||b[b.length-1],l="[object Object]"===Object.prototype.toString.call(c)?"url(#".concat(n,"-gradient-").concat(p,")"):"",h=U_(e,i,c,r,o,a);return e+=i,t.createElement("path",{key:s,className:"".concat(n,"-circle-path"),d:h.pathString,stroke:l,strokeLinecap:u,strokeWidth:r,opacity:0===i?0:1,fillOpacity:"0",style:h.pathStyle,ref:E[s]})}))}().reverse())};F_.defaultProps=D_,F_.displayName="Circle";var z_=F_;function B_(e){var t=e.percent,n=e.success,r=e.successPercent,i=S_(t),o=N_({success:n,successPercent:r});return o?[S_(o),S_(i-S_(o))]:i}var G_=function(e){var n=e.prefixCls,r=e.width,i=e.strokeWidth,o=e.trailColor,a=e.strokeLinecap,s=e.gapPosition,u=e.gapDegree,c=e.type,l=e.children,h=r||120,f={width:h,height:h,fontSize:.15*h+6},d=i||6,m=s||"dashboard"===c&&"bottom"||"top",g=function(e){var t=e.success,n=e.strokeColor||null;return N_({success:t,successPercent:e.successPercent})?[Ne.green,n]:n}(e),v="[object Object]"===Object.prototype.toString.call(g),y=C()("".concat(n,"-inner"),p({},"".concat(n,"-circle-gradient"),v));return t.createElement("div",{className:y,style:f},t.createElement(z_,{percent:B_(e),strokeWidth:d,trailWidth:d,strokeColor:g,strokeLinecap:a,trailColor:o,prefixCls:n,gapDegree:u||0===u?u:"dashboard"===c?75:void 0,gapPosition:m}),l)},H_=function(e){for(var n=e.size,r=e.steps,i=e.percent,o=void 0===i?0:i,a=e.strokeWidth,s=void 0===a?8:a,u=e.strokeColor,c=e.trailColor,l=e.prefixCls,h=e.children,f=Math.round(r*(o/100)),d="small"===n?2:14,m=[],g=0;g<r;g+=1)m.push(t.createElement("div",{key:g,className:C()("".concat(l,"-steps-item"),p({},"".concat(l,"-steps-item-active"),g<=f-1)),style:{backgroundColor:g<=f-1?u:c,width:d,height:s}}));return t.createElement("div",{className:"".concat(l,"-steps-outer")},m,h)},V_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Y_=(Ko("line","circle","dashboard"),Ko("normal","exception","active","success")),W_=function(e){u(r,e);var n=d(r);function r(){var e;return i(this,r),(e=n.apply(this,arguments)).renderProgress=function(n){var r,i,o=n.getPrefixCls,a=n.direction,s=h(e).props,u=s.prefixCls,c=s.className,l=s.size,f=s.type,d=s.steps,m=s.showInfo,g=s.strokeColor,v=V_(s,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),y=o("progress",u),b=e.getProgressStatus(),x=e.renderProcessInfo(y,b);ca(!("successPercent"in s),"Progress","`successPercent` is deprecated. Please use `success.percent` instead."),"line"===f?i=d?t.createElement(H_,S({},e.props,{strokeColor:"string"===typeof g?g:void 0,prefixCls:y,steps:d}),x):t.createElement(L_,S({},e.props,{prefixCls:y,direction:a}),x):"circle"!==f&&"dashboard"!==f||(i=t.createElement(G_,S({},e.props,{prefixCls:y,progressStatus:b}),x));var E=C()(y,(p(r={},"".concat(y,"-").concat(("dashboard"===f?"circle":d&&"steps")||f),!0),p(r,"".concat(y,"-status-").concat(b),!0),p(r,"".concat(y,"-show-info"),m),p(r,"".concat(y,"-").concat(l),l),p(r,"".concat(y,"-rtl"),"rtl"===a),r),c);return t.createElement("div",S({},re(v,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:E}),i)},e}return a(r,[{key:"getPercentNumber",value:function(){var e=this.props.percent,t=void 0===e?0:e,n=N_(this.props);return parseInt(void 0!==n?n.toString():t.toString(),10)}},{key:"getProgressStatus",value:function(){var e=this.props.status;return Y_.indexOf(e)<0&&this.getPercentNumber()>=100?"success":e||"normal"}},{key:"renderProcessInfo",value:function(e,n){var r,i=this.props,o=i.showInfo,a=i.format,s=i.type,u=i.percent,c=N_(this.props);if(!o)return null;var l="line"===s;return a||"exception"!==n&&"success"!==n?r=(a||function(e){return"".concat(e,"%")})(S_(u),S_(c)):"exception"===n?r=l?t.createElement(Jb,null):t.createElement(qb,null):"success"===n&&(r=l?t.createElement(T_,null):t.createElement(Wb,null)),t.createElement("span",{className:"".concat(e,"-text"),title:"string"===typeof r?r:void 0},r)}},{key:"render",value:function(){return t.createElement(X,null,this.renderProgress)}}]),r}(t.Component);W_.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var X_=W_,Q_=t.forwardRef((function(e,n){var r,i,o,a=e.prefixCls,s=e.className,u=e.style,c=e.locale,l=e.listType,h=e.file,f=e.items,d=e.progress,m=e.iconRender,g=e.actionIconRender,v=e.itemRender,y=e.isImgUrl,b=e.showPreviewIcon,x=e.showRemoveIcon,E=e.showDownloadIcon,w=e.removeIcon,M=e.downloadIcon,A=e.onPreview,_=e.onDownload,N=e.onClose,I=T(t.useState(!1),2),L=I[0],D=I[1],O=t.useRef();t.useEffect((function(){return O.current=setTimeout((function(){D(!0)}),300),function(){window.clearTimeout(O.current)}}),[]);var R="".concat(a,"-span"),P=m(h),j=t.createElement("div",{className:"".concat(a,"-text-icon")},P);if("picture"===l||"picture-card"===l)if("uploading"===h.status||!h.thumbUrl&&!h.url){var k,U=C()((p(k={},"".concat(a,"-list-item-thumbnail"),!0),p(k,"".concat(a,"-list-item-file"),"uploading"!==h.status),k));j=t.createElement("div",{className:U},P)}else{var F,z=(null===y||void 0===y?void 0:y(h))?t.createElement("img",{src:h.thumbUrl||h.url,alt:h.name,className:"".concat(a,"-list-item-image")}):P,B=C()((p(F={},"".concat(a,"-list-item-thumbnail"),!0),p(F,"".concat(a,"-list-item-file"),y&&!y(h)),F));j=t.createElement("a",{className:B,onClick:function(e){return A(h,e)},href:h.url||h.thumbUrl,target:"_blank",rel:"noopener noreferrer"},z)}var G,H=C()((p(r={},"".concat(a,"-list-item"),!0),p(r,"".concat(a,"-list-item-").concat(h.status),!0),p(r,"".concat(a,"-list-item-list-type-").concat(l),!0),r)),V="string"===typeof h.linkProps?JSON.parse(h.linkProps):h.linkProps,Y=x?g(("function"===typeof w?w(h):w)||t.createElement(x_,null),(function(){return N(h)}),a,c.removeFile):null,X=E&&"done"===h.status?g(("function"===typeof M?M(h):M)||t.createElement(M_,null),(function(){return _(h)}),a,c.downloadFile):null,Q="picture-card"!==l&&t.createElement("span",{key:"download-delete",className:C()("".concat(a,"-list-item-card-actions"),{picture:"picture"===l})},X,Y),q=C()("".concat(a,"-list-item-name")),K=h.url?[t.createElement("a",S({key:"view",target:"_blank",rel:"noopener noreferrer",className:q,title:h.name},V,{href:h.url,onClick:function(e){return A(h,e)}}),h.name),Q]:[t.createElement("span",{key:"view",className:q,onClick:function(e){return A(h,e)},title:h.name},h.name),Q],Z=b?t.createElement("a",{href:h.url||h.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:h.url||h.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(e){return A(h,e)},title:c.previewFile},t.createElement(v_,null)):null,J="picture-card"===l&&"uploading"!==h.status&&t.createElement("span",{className:"".concat(a,"-list-item-actions")},Z,"done"===h.status&&X,Y);G=h.response&&"string"===typeof h.response?h.response:(null===(i=h.error)||void 0===i?void 0:i.statusText)||(null===(o=h.error)||void 0===o?void 0:o.message)||c.uploadError;var $=t.createElement("span",{className:R},j,K),ee=(0,t.useContext(W).getPrefixCls)(),te=t.createElement("div",{className:H},t.createElement("div",{className:"".concat(a,"-list-item-info")},$),J,L&&t.createElement(Ir,{motionName:"".concat(ee,"-fade"),visible:"uploading"===h.status},(function(e){var n=e.className,r="percent"in h?t.createElement(X_,S({},d,{type:"line",percent:h.percent})):null;return t.createElement("div",{className:C()("".concat(a,"-list-item-progress"),n)},r)}))),ne=C()("".concat(a,"-list-").concat(l,"-container"),s),re="error"===h.status?t.createElement(aa,{title:G,getPopupContainer:function(e){return e.parentNode}},te):te;return t.createElement("div",{className:ne,style:u,ref:n},v?v(re,h,f):re)})),q_=Q_,K_=S({},na);delete K_.onAppearEnd,delete K_.onEnterEnd,delete K_.onLeaveEnd;var Z_=function(e,n){var r,i=e.listType,o=e.previewFile,a=e.onPreview,s=e.onDownload,u=e.onRemove,c=e.locale,l=e.iconRender,h=e.isImageUrl,f=e.prefixCls,d=e.items,m=void 0===d?[]:d,g=e.showPreviewIcon,v=e.showRemoveIcon,y=e.showDownloadIcon,b=e.removeIcon,x=e.downloadIcon,E=e.progress,w=e.appendAction,A=e.itemRender,_=jM(),N=T(t.useState(!1),2),I=N[0],L=N[1];t.useEffect((function(){"picture"!==i&&"picture-card"!==i||(m||[]).forEach((function(e){"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",o&&o(e.originFileObj).then((function(t){e.thumbUrl=t||"",_()})))}))}),[i,m,o]),t.useEffect((function(){L(!0)}),[]);var D=function(e,t){if(a)return t.preventDefault(),a(e)},O=function(e){"function"===typeof s?s(e):e.url&&window.open(e.url)},R=function(e){null===u||void 0===u||u(e)},P=function(e){if(l)return l(e,i);var n="uploading"===e.status,r=h&&h(e)?t.createElement(s_,null):t.createElement(l_,null),o=n?t.createElement(Hb,null):t.createElement(i_,null);return"picture"===i?o=n?t.createElement(Hb,null):r:"picture-card"===i&&(o=n?c.uploading:r),o},j=function(e,n,r,i){var o={type:"text",size:"small",title:i,onClick:function(t){n(),jo(e)&&e.props.onClick&&e.props.onClick(t)},className:"".concat(r,"-list-item-card-actions-btn")};if(jo(e)){var a=ko(e,S(S({},e.props),{onClick:function(){}}));return t.createElement(Fw,S({},o,{icon:a}))}return t.createElement(Fw,o,t.createElement("span",null,e))};t.useImperativeHandle(n,(function(){return{handlePreview:D,handleDownload:O}}));var k=t.useContext(W),U=k.getPrefixCls,F=k.direction,z=U("upload",f),B=C()((p(r={},"".concat(z,"-list"),!0),p(r,"".concat(z,"-list-").concat(i),!0),p(r,"".concat(z,"-list-rtl"),"rtl"===F),r)),G=M(m.map((function(e){return{key:e.uid,file:e}}))),H="picture-card"===i?"animate-inline":"animate",V={motionName:"".concat(z,"-").concat(H),keys:G,motionAppear:I};return"picture-card"!==i&&(V=S(S({},K_),V)),t.createElement("div",{className:B},t.createElement(Cr,S({},V,{component:!1}),(function(e){var n=e.key,r=e.file,o=e.className,a=e.style;return t.createElement(q_,{key:n,locale:c,prefixCls:z,className:o,style:a,file:r,items:m,progress:E,listType:i,isImgUrl:h,showPreviewIcon:g,showRemoveIcon:v,showDownloadIcon:y,removeIcon:b,downloadIcon:x,iconRender:P,actionIconRender:j,itemRender:A,onPreview:D,onDownload:O,onClose:R})})),w&&t.createElement(Ir,V,(function(e){var t=e.className,n=e.style;return ko(w,(function(e){return{className:C()(e.className,t),style:S(S({},n),e.style)}}))})))},J_=t.forwardRef(Z_);J_.displayName="UploadList",J_.defaultProps={listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:function(e){return new Promise((function(t){if(e.type&&d_(e.type)){var n=document.createElement("canvas");n.width=p_,n.height=p_,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(p_,"px; height: ").concat(p_,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),i=new Image;i.onload=function(){var e=i.width,o=i.height,a=p_,s=p_,u=0,c=0;e>o?c=-((s=o*(p_/e))-a)/2:u=-((a=e*(p_/o))-s)/2,r.drawImage(i,u,c,a,s);var l=n.toDataURL();document.body.removeChild(n),t(l)},i.src=window.URL.createObjectURL(e)}else t("")}))},isImageUrl:function(e){if(e.type&&!e.thumbUrl)return d_(e.type);var t=e.thumbUrl||e.url,n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(n))||!/^data:/.test(t)&&!n}};var $_=J_,eT=function(t,n,r,i){return new(r||(r=Promise))((function(o,a){function s(t){try{c(i.next(t))}catch(e){a(e)}}function u(t){try{c(i.throw(t))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,u)}c((i=i.apply(t,n||[])).next())}))},tT="__LIST_IGNORE_".concat(Date.now(),"__"),nT=function(n,r){var i,o=n.fileList,a=n.defaultFileList,s=n.onRemove,u=n.showUploadList,c=n.listType,h=n.onPreview,f=n.onDownload,d=n.onChange,m=n.previewFile,g=n.disabled,v=n.locale,y=n.iconRender,b=n.isImageUrl,x=n.progress,E=n.prefixCls,w=n.className,A=n.type,_=n.children,N=n.style,I=n.itemRender,L=n.maxCount,D=T($y(a||[],{value:o}),2),O=D[0],P=D[1],j=T(t.useState("drop"),2),U=j[0],F=j[1],z=t.useRef();t.useEffect((function(){ca("fileList"in n||!("value"in n),"Upload","`value` is not a valid prop, do you mean `fileList`?"),ca(!("transformFile"in n),"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly.")}),[]),t.useEffect((function(){var e=Date.now();(o||[]).forEach((function(t,n){t.uid||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[o]);var B=function(e,t,n){var r=M(t);1===L?r=r.slice(-1):L&&(r=r.slice(0,L)),P(r);var i={file:e,fileList:r};n&&(i.event=n),null===d||void 0===d||d(i)},G=function(e){var t=h_(e);t.status="uploading";var n=M(O),r=n.findIndex((function(e){return e.uid===t.uid}));-1===r?n.push(t):n[r]=t,B(t,n)},H=function(t,n,r){try{"string"===typeof t&&(t=JSON.parse(t))}catch(e){}var i=f_(n,O);i&&(i.status="done",i.response=t,i.xhr=r,B(h_(i),M(O)))},V=function(e,t){var n=f_(t,O);n&&(n.percent=e.percent,B(h_(n),M(O),e))},Y=function(e,t,n){var r=f_(n,O);r&&(r.error=e,r.response=t,r.status="error",B(h_(r),M(O)))},X=function(e){var t;Promise.resolve("function"===typeof s?s(e):s).then((function(n){var r;if(!1!==n){var i=function(e,t){var n=void 0!==e.uid?"uid":"name",r=t.filter((function(t){return t[n]!==e[n]}));return r.length===t.length?null:r}(e,O);i&&((t=h_(e)).status="removed",null===O||void 0===O||O.forEach((function(e){var n=void 0!==t.uid?"uid":"name";e[n]===t[n]&&(e.status="removed")})),null===(r=z.current)||void 0===r||r.abort(t),B(t,i))}}))},Q=function(e){F(e.type)};t.useImperativeHandle(r,(function(){return{onStart:G,onSuccess:H,onProgress:V,onError:Y,fileList:O,upload:z.current}}));var q=t.useContext(W),K=q.getPrefixCls,Z=q.direction,J=K("upload",E),$=S(S({onBatchStart:function(e){var t,n=e.filter((function(e){return!e.file[tT]}));if(n.length){var r=n.map((function(e){return h_(e.file)})),i=M(O);r.forEach((function(e){i.every((function(t){return t.uid!==e.uid}))&&i.push(e)})),B(null===(t=n[0])||void 0===t?void 0:t.file,i)}},onStart:G,onError:Y,onProgress:V,onSuccess:H},n),{prefixCls:J,beforeUpload:function(e,t){return eT(void 0,void 0,void 0,FA().mark((function r(){var i,o,a,s;return FA().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=n.beforeUpload,o=n.transformFile,a=e,!i){r.next=13;break}return r.next=5,i(e,t);case 5:if(!1!==(s=r.sent)){r.next=8;break}return r.abrupt("return",!1);case 8:if(delete e[tT],s!==tT){r.next=12;break}return Object.defineProperty(e,tT,{value:!0,configurable:!0}),r.abrupt("return",!1);case 12:"object"===l(s)&&s&&(a=s);case 13:if(!o){r.next=17;break}return r.next=16,o(a);case 16:a=r.sent;case 17:return r.abrupt("return",a);case 18:case"end":return r.stop()}}),r)})))},onChange:void 0});delete $.className,delete $.style,_&&!g||delete $.id;var ee=function(e){return u?t.createElement(k,{componentName:"Upload",defaultLocale:R.Upload},(function(n){var r="boolean"===typeof u?{}:u,i=r.showRemoveIcon,o=r.showPreviewIcon,a=r.showDownloadIcon,s=r.removeIcon,l=r.downloadIcon;return t.createElement($_,{listType:c,items:O,previewFile:m,onPreview:h,onDownload:f,onRemove:X,showRemoveIcon:!g&&i,showPreviewIcon:o,showDownloadIcon:a,removeIcon:s,downloadIcon:l,iconRender:y,locale:S(S({},n),v),isImageUrl:b,progress:x,appendAction:e,itemRender:I})})):e};if("drag"===A){var te,ne=C()(J,(p(te={},"".concat(J,"-drag"),!0),p(te,"".concat(J,"-drag-uploading"),O.some((function(e){return"uploading"===e.status}))),p(te,"".concat(J,"-drag-hover"),"dragover"===U),p(te,"".concat(J,"-disabled"),g),p(te,"".concat(J,"-rtl"),"rtl"===Z),te),w);return t.createElement("span",null,t.createElement("div",{className:ne,onDrop:Q,onDragOver:Q,onDragLeave:Q,style:N},t.createElement(ZA,S({},$,{ref:z,className:"".concat(J,"-btn")}),t.createElement("div",{className:"".concat(J,"-drag-container")},_))),ee())}var re=C()(J,(p(i={},"".concat(J,"-select"),!0),p(i,"".concat(J,"-select-").concat(c),!0),p(i,"".concat(J,"-disabled"),g),p(i,"".concat(J,"-rtl"),"rtl"===Z),i)),ie=t.createElement("div",{className:re,style:_?void 0:{display:"none"}},t.createElement(ZA,S({},$,{ref:z})));return"picture-card"===c?t.createElement("span",{className:C()("".concat(J,"-picture-card-wrapper"),w)},ee(ie)):t.createElement("span",{className:w},ie,ee())},rT=t.forwardRef(nT);rT.Dragger=t_,rT.LIST_IGNORE=tT,rT.displayName="Upload",rT.defaultProps={type:"select",multiple:!1,action:"",data:{},accept:"",beforeUpload:function(){return!0},showUploadList:!0,listType:"text",className:"",disabled:!1,supportServerRender:!0};var iT=rT;iT.Dragger=t_;var oT=iT,aT=function(e){u(r,e);var n=d(r);function r(){var e;i(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return a(r,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,n=this.props,r=n.prefixCls,i=n.className,o=n.closable,a=n.closeIcon,s=n.style,u=n.onClick,c=n.children,l=n.holder,h="".concat(r,"-notice"),f=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),d=t.createElement("div",S({className:C()(h,i,p({},"".concat(h,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},f),t.createElement("div",{className:"".concat(h,"-content")},c),o?t.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(h,"-close")},a||t.createElement("span",{className:"".concat(h,"-close-x")})):null);return l?b.createPortal(d,l):d}}]),r}(t.Component);function sT(e){var n=t.useRef({}),r=T(t.useState([]),2),i=r[0],o=r[1];return[function(r){var i=!0;e.add(r,(function(e,r){var a=r.key;if(e&&(!n.current[a]||i)){var s=t.createElement(aT,S({},r,{holder:e}));n.current[a]=s,o((function(e){var t=e.findIndex((function(e){return e.key===r.key}));if(-1===t)return[].concat(M(e),[s]);var n=M(e);return n[t]=s,n}))}i=!1}))},t.createElement(t.Fragment,null,i)]}aT.defaultProps={onClose:function(){},duration:1.5};var uT=0,cT=Date.now();function lT(){var e=uT;return uT+=1,"rcNotification_".concat(cT,"_").concat(e)}var hT=function(e){u(r,e);var n=d(r);function r(){var e;i(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||lT(),i=g(g({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=lT(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return a(r,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,n=this.state.notices,r=this.props,i=r.prefixCls,o=r.className,a=r.closeIcon,s=r.style,u=[];return n.forEach((function(t,r){var o=t.notice,s=t.holderCallback,c=r===n.length-1?o.updateMark:void 0,l=o.key,h=o.userPassKey,f=g(g(g({prefixCls:i,closeIcon:a},o),o.props),{},{key:l,noticeKey:h||l,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=o.onClose)||void 0===n||n.call(o)},onClick:o.onClick,children:o.content});u.push(l),e.noticePropsMap[l]={props:f,holderCallback:s}})),t.createElement("div",{className:C()(i,o),style:s},t.createElement(Cr,{keys:u,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(n){var r=n.key,o=n.className,a=n.style,s=n.visible,u=e.noticePropsMap[r],c=u.props,l=u.holderCallback;return l?t.createElement("div",{key:r,className:C()(o,"".concat(i,"-hook-holder")),style:g({},a),ref:function(t){"undefined"!==typeof r&&(t?(e.hookRefs.set(r,t),l(t,c)):e.hookRefs.delete(r))}}):t.createElement(aT,S({},c,{className:C()(o,null===c||void 0===c?void 0:c.className),style:g(g({},a),null===c||void 0===c?void 0:c.style),visible:s}))})))}}]),r}(t.Component);hT.newInstance=void 0,hT.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},hT.newInstance=function(e,n){var r=e||{},i=r.getContainer,o=oe(r,["getContainer"]),a=document.createElement("div");i?i().appendChild(a):document.body.appendChild(a);var s=!1;b.render(t.createElement(hT,S({},o,{ref:function(e){s||(s=!0,n({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){b.unmountComponentAtNode(a),a.parentNode&&a.parentNode.removeChild(a)},useNotification:function(){return sT(e)}}))}})),a)};var fT=hT,dT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},pT=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:dT}))};pT.displayName="ExclamationCircleFilled";var mT=t.forwardRef(pT),gT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},vT=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:gT}))};vT.displayName="InfoCircleFilled";var yT=t.forwardRef(vT);var bT="RC_FORM_INTERNAL_HOOKS",xT=function(){je(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ET=t.createContext({getFieldValue:xT,getFieldsValue:xT,getFieldError:xT,getFieldsError:xT,isFieldsTouched:xT,isFieldTouched:xT,isFieldValidating:xT,isFieldsValidating:xT,resetFields:xT,setFields:xT,setFieldsValue:xT,validateFields:xT,submit:xT,getInternalHooks:function(){return xT(),{dispatch:xT,initEntityValue:xT,registerField:xT,useSubscribe:xT,setInitialValues:xT,setCallbacks:xT,getFields:xT,setValidateMessages:xT,setPreserve:xT}}});function wT(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function MT(){return MT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MT.apply(this,arguments)}function AT(e){return AT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},AT(e)}function _T(e,t){return _T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_T(e,t)}function TT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ST(e,t,n){return ST=TT()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_T(i,n.prototype),i},ST.apply(null,arguments)}function NT(e){var t="function"===typeof Map?new Map:void 0;return NT=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ST(e,arguments,AT(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_T(r,e)},NT(e)}var CT=/%[sdj%]/g;function IT(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function LT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],o=t.length;if("function"===typeof i)return i.apply(null,t.slice(1));if("string"===typeof i){var a=String(i).replace(CT,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(n){return"[Circular]"}break;default:return e}}));return a}return i}function DT(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function OT(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var RT=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,_T(t,n),r}(NT(Error));function PT(e,t,n,r){if(t.first){var i=new Promise((function(t,i){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e);OT(o,n,(function(e){return r(e),e.length?i(new RT(e,IT(e))):t()}))}));return i.catch((function(e){return e})),i}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var a=Object.keys(e),s=a.length,u=0,c=[],l=new Promise((function(t,i){var l=function(e){if(c.push.apply(c,e),++u===s)return r(c),c.length?i(new RT(c,IT(c))):t()};a.length||(r(c),t()),a.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?OT(r,n,l):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,l)}))}));return l.catch((function(e){return e})),l}function jT(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"===typeof t?t():t,field:t.field||e.fullField}}}function kT(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=MT({},e[n],r):e[n]=r}return e}function UT(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!DT(t,o||e.type)||r.push(LT(i.messages.required,e.fullField))}var FT={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},zT={integer:function(e){return zT.number(e)&&parseInt(e,10)===e},float:function(e){return zT.number(e)&&!zT.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(e){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!zT.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&!!e.match(FT.email)&&e.length<255},url:function(e){return"string"===typeof e&&!!e.match(FT.url)},hex:function(e){return"string"===typeof e&&!!e.match(FT.hex)}};var BT={required:UT,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(LT(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)UT(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?zT[o](t)||r.push(LT(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(LT(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,h="string"===typeof t,f=Array.isArray(t);if(l?c="number":h?c="string":f&&(c="array"),!c)return!1;f&&(u=t.length),h&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(LT(i.messages[c].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(LT(i.messages[c].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(LT(i.messages[c].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(LT(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(LT(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(LT(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(LT(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function GT(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t,o)&&!e.required)return n();BT.required(e,t,r,a,i,o),DT(t,o)||BT.type(e,t,r,a,i)}n(a)}var HT={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t,"string")&&!e.required)return n();BT.required(e,t,r,o,i,"string"),DT(t,"string")||(BT.type(e,t,r,o,i),BT.range(e,t,r,o,i),BT.pattern(e,t,r,o,i),!0===e.whitespace&&BT.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&BT.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&(BT.type(e,t,r,o,i),BT.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&BT.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),DT(t)||BT.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&(BT.type(e,t,r,o,i),BT.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&(BT.type(e,t,r,o,i),BT.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();BT.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(BT.type(e,t,r,o,i),BT.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&BT.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i),void 0!==t&&BT.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t,"string")&&!e.required)return n();BT.required(e,t,r,o,i),DT(t,"string")||BT.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t,"date")&&!e.required)return n();var a;if(BT.required(e,t,r,o,i),!DT(t,"date"))a=t instanceof Date?t:new Date(t),BT.type(e,a,r,o,i),a&&BT.range(e,a.getTime(),r,o,i)}n(o)},url:GT,hex:GT,email:GT,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;BT.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(DT(t)&&!e.required)return n();BT.required(e,t,r,o,i)}n(o)}};function VT(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var YT=VT();function WT(e){this.rules=null,this._messages=YT,this.define(e)}function XT(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function QT(e,t,n,r){if(!t.length)return n;var i,o=Vy(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?M(e):g({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=QT(i[a],s,n,r),i}function qT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!XT(e,t.slice(0,-1))?e:QT(e,t,n,r)}function KT(e){return wT(e)}function ZT(e,t){return XT(e,t)}function JT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=qT(e,t,n,r);return i}function $T(e,t){var n={};return t.forEach((function(t){var r=ZT(e,t);n=JT(n,t,r)})),n}function eS(e,t){return e&&e.some((function(e){return iS(e,t)}))}function tS(e){return"object"===l(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function nS(e,t){var n=Array.isArray(e)?M(e):g({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=tS(r)&&tS(i);n[e]=o?nS(r,i||{}):i})),n):n}function rS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return nS(e,t)}),e)}function iS(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function oS(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&e in t.target?t.target[e]:t}function aS(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(M(e.slice(0,n)),[i],M(e.slice(n,t)),M(e.slice(t+1,r))):o<0?[].concat(M(e.slice(0,t)),M(e.slice(t+1,n+1)),[i],M(e.slice(n+1,r))):e}WT.prototype={messages:function(e){return e&&(this._messages=kT(VT(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var i,o,a=e,s=t,u=n;if("function"===typeof s&&(u=s,s={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(),Promise.resolve();if(s.messages){var c=this.messages();c===YT&&(c=VT()),kT(c,s.messages),s.messages=c}else s.messages=this.messages();var l={};(s.keys||Object.keys(this.rules)).forEach((function(t){i=r.rules[t],o=a[t],i.forEach((function(n){var i=n;"function"===typeof i.transform&&(a===e&&(a=MT({},a)),o=a[t]=i.transform(o)),(i="function"===typeof i?{validator:i}:MT({},i)).validator=r.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=r.getType(i),i.validator&&(l[t]=l[t]||[],l[t].push({rule:i,value:o,source:a,field:t}))}))}));var h={};return PT(l,s,(function(e,t){var n,r=e.rule,i=("object"===r.type||"array"===r.type)&&("object"===typeof r.fields||"object"===typeof r.defaultField);function o(e,t){return MT({},t,{fullField:r.fullField+"."+e})}function a(n){void 0===n&&(n=[]);var a=n;if(Array.isArray(a)||(a=[a]),!s.suppressWarning&&a.length&&WT.warning("async-validator:",a),a.length&&void 0!==r.message&&(a=[].concat(r.message)),a=a.map(jT(r)),s.first&&a.length)return h[r.field]=1,t(a);if(i){if(r.required&&!e.value)return void 0!==r.message?a=[].concat(r.message).map(jT(r)):s.error&&(a=[s.error(r,LT(s.messages.required,r.field))]),t(a);var u={};if(r.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(u[c]=r.defaultField);for(var l in u=MT({},u,e.rule.fields))if(u.hasOwnProperty(l)){var f=Array.isArray(u[l])?u[l]:[u[l]];u[l]=f.map(o.bind(null,l))}var d=new WT(u);d.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),d.validate(e.value,e.rule.options||s,(function(e){var n=[];a&&a.length&&n.push.apply(n,a),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(a)}i=i&&(r.required||!r.required&&e.value),r.field=e.field,r.asyncValidator?n=r.asyncValidator(r,e.value,a,e.source,s):r.validator&&(!0===(n=r.validator(r,e.value,a,e.source,s))?a():!1===n?a(r.message||r.field+" fails"):n instanceof Array?a(n):n instanceof Error&&a(n.message)),n&&n.then&&n.then((function(){return a()}),(function(e){return a(e)}))}),(function(e){!function(e){var t,n=[],r={};function i(e){var t;Array.isArray(e)?n=(t=n).concat.apply(t,e):n.push(e)}for(t=0;t<e.length;t++)i(e[t]);n.length?r=IT(n):(n=null,r=null),u(n,r)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!HT.hasOwnProperty(e.type))throw new Error(LT("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?HT.required:HT[this.getType(e)]||!1}},WT.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");HT[e]=t},WT.warning=function(){},WT.messages=YT,WT.validators=HT;var sS="'${name}' is not a valid ${type}",uS={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:sS,method:sS,array:sS,object:sS,number:sS,date:sS,boolean:sS,integer:sS,float:sS,regexp:sS,email:sS,url:sS,hex:sS},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},cS=WT;function lS(e,t,n,r){var i=g(g({},n),{},{name:t,enum:(n.enum||[]).join(", ")}),o=function(e,t){return function(){return function(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}(e,g(g({},i),t))}};return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(i){var a=t[i];"string"===typeof a?n[i]=o(a,r):a&&"object"===l(a)?(n[i]={},e(a,n[i])):n[i]=a})),n}(rS({},uS,e))}function hS(e,t,n,r,i){return fS.apply(this,arguments)}function fS(){return fS=Yi(FA().mark((function e(n,r,i,o,a){var s,u,c,l,h,f;return FA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=g({},i),u=null,s&&"array"===s.type&&s.defaultField&&(u=s.defaultField,delete s.defaultField),c=new cS(p({},n,[s])),l=lS(o.validateMessages,n,s,a),c.messages(l),h=[],e.prev=7,e.next=10,Promise.resolve(c.validate(p({},n,r),g({},o)));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),e.t0.errors?h=e.t0.errors.map((function(e,n){var r=e.message;return t.isValidElement(r)?t.cloneElement(r,{key:"error_".concat(n)}):r})):(console.error(e.t0),h=[l.default()]);case 15:if(h.length||!u){e.next=20;break}return e.next=18,Promise.all(r.map((function(e,t){return hS("".concat(n,".").concat(t),e,u,o,a)})));case 18:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat(M(e),M(t))}),[]));case 20:return e.abrupt("return",h);case 21:case"end":return e.stop()}}),e,null,[[7,12]])}))),fS.apply(this,arguments)}function dS(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e){var t=e.validator;return t?g(g({},e),{},{validator:function(e,n,r){var i=!1,o=t(e,n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){je(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,je(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}}):e}));if(!0===i)a=new Promise(function(){var e=Yi(FA().mark((function e(n,i){var a,c;return FA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=11;break}return e.next=4,hS(s,t,u[a],r,o);case 4:if(!(c=e.sent).length){e.next=8;break}return i(c),e.abrupt("return");case 8:a+=1,e.next=1;break;case 11:n([]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=u.map((function(e){return hS(s,t,e,r,o)}));a=(i?function(e){return mS.apply(this,arguments)}(c):function(e){return pS.apply(this,arguments)}(c)).then((function(e){return e.length?Promise.reject(e):[]}))}return a.catch((function(e){return e})),a}function pS(){return(pS=Yi(FA().mark((function e(t){return FA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,M(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mS(){return mS=Yi(FA().mark((function e(t){var n;return FA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.length&&e(r),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function gS(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var vS=function(e){u(r,e);var n=d(r);function r(e){var o;(i(this,r),(o=n.call(this,e)).state={resetCount:0},o.cancelRegisterFunc=null,o.mounted=!1,o.touched=!1,o.dirty=!1,o.validatePromise=null,o.errors=[],o.cancelRegister=function(){var e=o.props,t=e.preserve,n=e.isListField,r=e.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(n,t,KT(r)),o.cancelRegisterFunc=null},o.getNamePath=function(){var e=o.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(M(void 0===n?[]:n),M(t)):[]},o.getRules=function(){var e=o.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},o.refresh=function(){o.mounted&&o.setState((function(e){return{resetCount:e.resetCount+1}}))},o.onStoreChange=function(e,t,n){var r=o.props,i=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,u=r.onReset,c=n.store,l=o.getNamePath(),h=o.getValue(e),f=o.getValue(c),d=t&&eS(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&h!==f&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=[]),n.type){case"reset":if(!t||d)return o.touched=!1,o.dirty=!1,o.validatePromise=null,o.errors=[],u&&u(),void o.refresh();break;case"setField":if(d){var p=n.data;return"touched"in p&&(o.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(o.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(o.errors=p.errors||[]),o.dirty=!0,void o.reRender()}if(i&&!l.length&&gS(i,e,c,h,f,n))return void o.reRender();break;case"dependenciesUpdate":if(s.map(KT).some((function(e){return eS(n.relatedFields,e)})))return void o.reRender();break;default:if(d||(!s.length||l.length||i)&&gS(i,e,c,h,f,n))return void o.reRender()}!0===i&&o.reRender()},o.validateRules=function(e){var t=o.getNamePath(),n=o.getValue(),r=Promise.resolve().then((function(){if(!o.mounted)return[];var i=o.props,a=i.validateFirst,s=void 0!==a&&a,u=i.messageVariables,c=(e||{}).triggerName,l=o.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||wT(t).includes(c)})));var h=dS(t,n,l,e,s,u);return h.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.validatePromise===r&&(o.validatePromise=null,o.errors=e,o.reRender())})),h}));return o.validatePromise=r,o.dirty=!0,o.errors=[],o.reRender(),r},o.isFieldValidating=function(){return!!o.validatePromise},o.isFieldTouched=function(){return o.touched},o.isFieldDirty=function(){return o.dirty},o.getErrors=function(){return o.errors},o.isListField=function(){return o.props.isListField},o.isList=function(){return o.props.isList},o.isPreserve=function(){return o.props.preserve},o.getMeta=function(){return o.prevValidating=o.isFieldValidating(),{touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,name:o.getNamePath()}},o.getOnlyChild=function(e){if("function"===typeof e){var n=o.getMeta();return g(g({},o.getOnlyChild(e(o.getControlled(),n,o.props.fieldContext))),{},{isFunction:!0})}var r=It(e);return 1===r.length&&t.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},o.getValue=function(e){var t=o.props.fieldContext.getFieldsValue,n=o.getNamePath();return ZT(e||t(!0),n)},o.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.props,n=t.trigger,r=t.validateTrigger,i=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,h=o.getNamePath(),f=c.getInternalHooks,d=c.getFieldsValue,m=f(bT),v=m.dispatch,y=o.getValue(),b=u||function(e){return p({},s,e)},x=e[n],E=g(g({},e),b(y));E[n]=function(){var e;o.touched=!0,o.dirty=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=i?i.apply(void 0,n):oS.apply(void 0,[s].concat(n)),a&&(e=a(e,y,d(!0))),v({type:"updateValue",namePath:h,value:e}),x&&x.apply(void 0,n)};var w=wT(l||[]);return w.forEach((function(e){var t=E[e];E[e]=function(){t&&t.apply(void 0,arguments);var n=o.props.rules;n&&n.length&&v({type:"validateField",namePath:h,triggerName:e})}})),E},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(bT).initEntityValue)(h(o));return o}return a(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(bT).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?e=o:t.isValidElement(o)?e=t.cloneElement(o,this.getControlled(o.props)):(je(!o,"`children` of Field is not validate ReactElement."),e=o),t.createElement(t.Fragment,{key:n},e)}}]),r}(t.Component);vS.contextType=ET,vS.defaultProps={trigger:"onChange",valuePropName:"value"};var yS=function(e){var n=e.name,r=oe(e,["name"]),i=t.useContext(ET),o=void 0!==n?KT(n):void 0,a="keep";return r.isListField||(a="_".concat((o||[]).join("_"))),t.createElement(vS,S({key:a,name:o},r,{fieldContext:i}))},bS=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=t.useContext(ET),u=t.useRef({keys:[],id:0}).current;if("function"!==typeof i)return je(!1,"Form.List only accepts function as children."),null;var c=KT(s.prefixName)||[],l=[].concat(M(c),M(KT(n)));return t.createElement(ET.Provider,{value:g(g({},s),{},{prefixName:l})},t.createElement(yS,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,c=function(){return a(l||[])||[]},h={add:function(e,t){var n=c();t>=0&&t<=n.length?(u.keys=[].concat(M(u.keys.slice(0,t)),[u.id],M(u.keys.slice(t))),o([].concat(M(n.slice(0,t)),[e],M(n.slice(t))))):(u.keys=[].concat(M(u.keys),[u.id]),o([].concat(M(n),[e]))),u.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(u.keys=aS(u.keys,e,t),o(aS(n,e,t)))}}},f=r||[];return Array.isArray(f)||(f=[]),i(f.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),h,t)})))};var xS="__@field_split__";function ES(e){return e.map((function(e){return"".concat(l(e),":").concat(e)})).join(xS)}var wS=function(){function e(){i(this,e),this.kvs=new Map}return a(e,[{key:"set",value:function(e,t){this.kvs.set(ES(e),t)}},{key:"get",value:function(e){return this.kvs.get(ES(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(ES(e))}},{key:"map",value:function(e){return M(this.kvs.entries()).map((function(t){var n=T(t,2),r=n[0],i=n[1],o=r.split(xS);return e({key:o.map((function(e){var t=T(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),MS=wS,AS=function e(t){var n=this;i(this,e),this.formHooked=!1,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===bT?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve}):(je(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.setInitialValues=function(e,t){n.initialValues=e||{},t&&(n.store=rS({},e,n.store))},this.getInitialValue=function(e){return ZT(n.initialValues,e)},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.timeoutId=null,this.warningUnhooked=function(){0},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new MS;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=KT(e);return t.get(n)||{INVALIDATE_NAME_PATH:KT(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),$T(n.store,i.map(KT))},this.getFieldValue=function(e){n.warningUnhooked();var t=KT(e);return ZT(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors()}:{name:KT(e[n]),errors:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=KT(e);return n.getFieldsError([t])[0].errors},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(KT),s=!1):(i=null,s=o):(i=o.map(KT),s=a);var u=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?u.every(c):u.some(c);var l=new MS;i.forEach((function(e){l.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(M(t),[e])}))}))}));var h=function(e){return e.some(c)},f=l.map((function(e){return e.value}));return s?f.every(h):f.some(h)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(KT);return t.some((function(e){var t=e.getNamePath();return eS(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new MS,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))je(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)je(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||(n.store=JT(n.store,i,M(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,M(M(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.store=rS({},n.initialValues),n.resetWithFieldInitialValue(),void n.notifyObservers(t,null,{type:"reset"});var r=e.map(KT);r.forEach((function(e){var t=n.getInitialValue(e);n.store=JT(n.store,e,t)})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"})},this.setFields=function(e){n.warningUnhooked();var t=n.store;e.forEach((function(e){var r=e.name,i=(e.errors,oe(e,["name","errors"])),o=KT(r);"value"in i&&(n.store=JT(n.store,o,i.value)),n.notifyObservers(t,[o],{type:"setField",data:e})}))},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=g(g({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===ZT(n.store,r)&&(n.store=JT(n.store,r,t))}},this.registerField=function(e){if(n.fieldEntities.push(e),void 0!==e.props.initialValue){var t=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(t,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==r?r:n.preserve;if(!1===o&&(!t||i.length>1)){var a=e.getNamePath(),s=t?void 0:ZT(n.initialValues,a);a.length&&n.getFieldValue(a)!==s&&n.fieldEntities.every((function(e){return!iS(e.getNamePath(),a)}))&&(n.store=JT(n.store,a,s,!0))}}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=g(g({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.updateValue=function(e,t){var r=KT(e),i=n.store;n.store=JT(n.store,r,t),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"});var o=n.getDependencyChildrenFields(r);o.length&&n.validateFields(o),n.notifyObservers(i,o,{type:"dependenciesUpdate",relatedFields:[r].concat(M(o))});var a=n.callbacks.onValuesChange;a&&a($T(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(M(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;e&&(n.store=rS(n.store,e)),n.notifyObservers(t,null,{type:"valueUpdate",source:"external"})},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new MS;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=KT(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new MS;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return eS(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(KT):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||eS(i,u)){var c=a.validateRules(g({validateMessages:g(g({},uS),n.validateMessages)},t));o.push(c.then((function(){return{name:u,errors:[]}})).catch((function(e){return Promise.reject({name:u,errors:e})})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t};var _S=function(e){var n=t.useRef(),r=T(t.useState({}),2)[1];if(!n.current)if(e)n.current=e;else{var i=new AS((function(){r({})}));n.current=i.getForm()}return[n.current]},TS=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),SS=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,a=t.useContext(TS),s=t.useRef({});return t.createElement(TS.Provider,{value:g(g({},a),{},{validateMessages:g(g({},a.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=g(g({},s.current),{},p({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=g({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},NS=TS,CS=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,u=e.children,c=e.component,h=void 0===c?"form":c,f=e.validateMessages,d=e.validateTrigger,p=void 0===d?"onChange":d,m=e.onValuesChange,v=e.onFieldsChange,y=e.onFinish,b=e.onFinishFailed,x=oe(e,["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"]),E=t.useContext(NS),w=T(_S(a),1)[0],A=w.getInternalHooks(bT),_=A.useSubscribe,N=A.setInitialValues,C=A.setCallbacks,I=A.setValidateMessages,L=A.setPreserve;t.useImperativeHandle(n,(function(){return w})),t.useEffect((function(){return E.registerForm(r,w),function(){E.unregisterForm(r)}}),[E,w,r]),I(g(g({},E.validateMessages),f)),C({onValuesChange:m,onFieldsChange:function(e){if(E.triggerFormChange(r,e),v){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];v.apply(void 0,[e].concat(n))}},onFinish:function(e){E.triggerFormFinish(r,e),y&&y(e)},onFinishFailed:b}),L(s);var D=t.useRef(null);N(i,!D.current),D.current||(D.current=!0);var O=u,R="function"===typeof u;R&&(O=u(w.getFieldsValue(!0),w));_(!R);var P=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==l(e)||"object"!==l(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(M(n),M(r)));return M(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(P.current||[],o||[])||w.setFields(o||[]),P.current=o}),[o,w]);var j=t.useMemo((function(){return g(g({},w),{},{validateTrigger:p})}),[w,p]),k=t.createElement(ET.Provider,{value:j},O);return!1===h?k:t.createElement(h,S({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()}}),k)},IS=t.forwardRef(CS);IS.FormProvider=SS,IS.Field=yS,IS.List=bS,IS.useForm=_S;var LS=S({},R.Modal);function DS(e){LS=e?S(S({},LS),e):S({},R.Modal)}var OS="internalMark",RS=function(e){u(r,e);var n=d(r);function r(e){var t;return i(this,r),t=n.call(this,e),DS(e.locale&&e.locale.Modal),ca(e._ANT_MARK__===OS,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale"),t}return a(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&DS(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){DS()}},{key:"render",value:function(){var e=this.props,n=e.locale,r=e.children;return t.createElement(j.Provider,{value:S(S({},n),{exist:!0})},r)}}]),r}(t.Component);RS.defaultProps={locale:{}};var PS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},jS=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:PS}))};jS.displayName="CheckCircleOutlined";var kS=t.forwardRef(jS),US={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},FS=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:US}))};FS.displayName="CloseCircleOutlined";var zS=t.forwardRef(FS),BS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},GS=function(e,n){return t.createElement(Ke,Object.assign({},e,{ref:n,icon:BS}))};GS.displayName="InfoCircleOutlined";var HS,VS,YS={},WS=4.5,XS=24,QS=24,qS="",KS="topRight",ZS=!1;function JS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:QS;switch(e){case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function $S(e,n){var r=e.placement,i=void 0===r?KS:r,o=e.top,a=e.bottom,s=e.getContainer,u=void 0===s?HS:s,c=e.closeIcon,l=void 0===c?VS:c,h=e.prefixCls,f=(0,aN().getPrefixCls)("notification",h||qS),d="".concat(f,"-").concat(i),m=YS[d];if(m)Promise.resolve(m).then((function(e){n({prefixCls:"".concat(f,"-notice"),instance:e})}));else{var g=t.createElement("span",{className:"".concat(f,"-close-x")},l||t.createElement(qb,{className:"".concat(f,"-close-icon")})),v=C()("".concat(f,"-").concat(i),p({},"".concat(f,"-rtl"),!0===ZS));YS[d]=new Promise((function(e){fT.newInstance({prefixCls:f,className:v,style:JS(i,o,a),getContainer:u,closeIcon:g},(function(t){e(t),n({prefixCls:"".concat(f,"-notice"),instance:t})}))}))}}var eN={success:kS,info:t.forwardRef(GS),error:zS,warning:Ea};function tN(e,n){var r=void 0===e.duration?WS:e.duration,i=null;e.icon?i=t.createElement("span",{className:"".concat(n,"-icon")},e.icon):e.type&&(i=t.createElement(eN[e.type]||null,{className:"".concat(n,"-icon ").concat(n,"-icon-").concat(e.type)}));var o=!e.description&&i?t.createElement("span",{className:"".concat(n,"-message-single-line-auto-margin")}):null;return{content:t.createElement("div",{className:i?"".concat(n,"-with-icon"):"",role:"alert"},i,t.createElement("div",{className:"".concat(n,"-message")},o,e.message),t.createElement("div",{className:"".concat(n,"-description")},e.description),e.btn?t.createElement("span",{className:"".concat(n,"-btn")},e.btn):null),duration:r,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},className:e.className}}var nN={open:function(e){$S(e,(function(t){var n=t.prefixCls;t.instance.notice(tN(e,n))}))},close:function(e){Object.keys(YS).forEach((function(t){return Promise.resolve(YS[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(qS=s),void 0!==t&&(WS=t),void 0!==n?KS=n:e.rtl&&(KS="topLeft"),void 0!==r&&(QS=r),void 0!==i&&(XS=i),void 0!==o&&(HS=o),void 0!==a&&(VS=a),void 0!==e.rtl&&(ZS=e.rtl)},destroy:function(){Object.keys(YS).forEach((function(e){Promise.resolve(YS[e]).then((function(e){e.destroy()})),delete YS[e]}))}};["success","info","warning","error"].forEach((function(e){nN[e]=function(t){return nN.open(S(S({},t),{type:e}))}})),nN.warn=nN.warning,nN.useNotification=function(e,n){return function(){var r,i=null,o=T(sT({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),a=o[0],s=o[1];var u=t.useRef({});return u.current.open=function(t){var o=t.prefixCls,s=r("notification",o);e(S(S({},t),{prefixCls:s}),(function(e){var r=e.prefixCls,o=e.instance;i=o,a(n(t,r))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(S(S({},t),{type:e}))}})),[u.current,t.createElement(X,{key:"holder"},(function(e){return r=e.getPrefixCls,s}))]}}($S,tN);var rN=nN,iN=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"],oN="ant",aN=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(oN,"-").concat(e):oN)}}},sN=function(e){var n=e.children,r=e.csp,i=e.autoInsertSpaceInButton,o=e.form,a=e.locale,s=e.componentSize,u=e.direction,c=e.space,l=e.virtual,h=e.dropdownMatchSelectWidth,f=e.legacyLocale,d=e.parentContext,p=e.iconPrefixCls,m=t.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||d.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[d.getPrefixCls]),g=S(S({},d),{csp:r,autoInsertSpaceInButton:i,locale:a||f,direction:u,space:c,virtual:l,dropdownMatchSelectWidth:h,getPrefixCls:m});iN.forEach((function(t){var n=e[t];n&&(g[t]=n)}));var v=On((function(){return g}),g,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),y=t.useMemo((function(){return{prefixCls:p}}),[p]),b=n,x={};return a&&a.Form&&a.Form.defaultValidateMessages&&(x=a.Form.defaultValidateMessages),o&&o.validateMessages&&(x=S(S({},x),o.validateMessages)),Object.keys(x).length>0&&(b=t.createElement(SS,{validateMessages:x},n)),a&&(b=t.createElement(RS,{locale:a,_ANT_MARK__:OS},b)),p&&(b=t.createElement(ae.Provider,{value:y},b)),s&&(b=t.createElement(rx,{size:s},b)),t.createElement(W.Provider,{value:v},b)},uN=function(e){return t.useEffect((function(){e.direction&&(AN.config({rtl:"rtl"===e.direction}),rN.config({rtl:"rtl"===e.direction}))}),[e.direction]),t.createElement(k,null,(function(n,r,i){return t.createElement(X,null,(function(n){return t.createElement(sN,S({parentContext:n,legacyLocale:i},e))}))}))};uN.ConfigContext=W,uN.SizeContext=ix,uN.config=function(e){void 0!==e.prefixCls&&(oN=e.prefixCls)};var cN,lN,hN,fN,dN=3,pN=1,mN="",gN="move-up",vN=!1,yN=!1;function bN(e,t){var n=e.prefixCls,r=aN().getPrefixCls,i=r("message",n||mN),o=r(void 0,e.rootPrefixCls);cN?t({prefixCls:i,rootPrefixCls:o,instance:cN}):fT.newInstance({prefixCls:i,transitionName:vN?gN:"".concat(o,"-").concat(gN),style:{top:lN},getContainer:hN,maxCount:fN},(function(e){cN?t({prefixCls:i,rootPrefixCls:o,instance:cN}):(cN=e,t({prefixCls:i,rootPrefixCls:o,instance:e}))}))}var xN={info:yT,success:T_,error:Jb,warning:mT,loading:Hb};function EN(e,n){var r,i=void 0!==e.duration?e.duration:dN,o=xN[e.type],a=C()("".concat(n,"-custom-content"),(p(r={},"".concat(n,"-").concat(e.type),e.type),p(r,"".concat(n,"-rtl"),!0===yN),r));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:t.createElement("div",{className:a},e.icon||o&&t.createElement(o,null),t.createElement("span",null,e.content)),onClose:e.onClose,onClick:e.onClick}}var wN={open:function(e){var t=e.key||pN++,n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};bN(e,(function(n){var i=n.prefixCls;n.instance.notice(EN(S(S({},e),{key:t,onClose:r}),i))}))})),r=function(){cN&&cN.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(lN=e.top,cN=null),void 0!==e.duration&&(dN=e.duration),void 0!==e.prefixCls&&(mN=e.prefixCls),void 0!==e.getContainer&&(hN=e.getContainer),void 0!==e.transitionName&&(gN=e.transitionName,cN=null,vN=!0),void 0!==e.maxCount&&(fN=e.maxCount,cN=null),void 0!==e.rtl&&(yN=e.rtl)},destroy:function(e){if(cN)if(e){(0,cN.removeNotice)(e)}else{var t=cN.destroy;t(),cN=null}}};function MN(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(S(S({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}["success","info","warning","error","loading"].forEach((function(e){return MN(wN,e)})),wN.warn=wN.warning,wN.useMessage=function(e,n){return function(){var r,i=null,o=T(sT({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),a=o[0],s=o[1];var u=t.useRef({});return u.current.open=function(t){var o=t.prefixCls,s=r("message",o),u=r(),c=t.key||pN++,l=new Promise((function(r){var o=function(){return"function"===typeof t.onClose&&t.onClose(),r(!0)};e(S(S({},t),{prefixCls:s,rootPrefixCls:u}),(function(e){var r=e.prefixCls,s=e.instance;i=s,a(n(S(S({},t),{key:c,onClose:o}),r))}))})),h=function(){i&&i.removeNotice(c)};return h.then=function(e,t){return l.then(e,t)},h.promise=l,h},["success","info","warning","error","loading"].forEach((function(e){return MN(u.current,e)})),[u.current,t.createElement(X,{key:"holder"},(function(e){return r=e.getPrefixCls,s}))]}}(bN,EN);var AN=wN;function _N(e){oT.Dragger;var n=e.changeComponentToFlamegraph,r=e.changeShowCurrentProfile,i=Qs({onDrop:(0,t.useCallback)((function(e){e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var i=t.result;console.log(i);var o=window.decodeProfile(i,e.type);if(console.log(o),0==o){var a=window.Module.cwrap("getSourceFileJsonStr","string")();console.log(a);for(var s=JSON.parse(a),u=0;u<s.length;u++)window.Module._updateSourceFileExistStatus(u,s[u]);n(),r()}},t.readAsArrayBuffer(e)}))}),[])}),o=i.getRootProps,a=i.getInputProps;return(0,y.jsx)("div",{children:(0,y.jsx)("div",g(g({},o()),{},{children:(0,y.jsx)("main",{children:(0,y.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:(0,y.jsx)("div",{className:"px-4 py-8 sm:px-0",children:(0,y.jsxs)("div",{className:"border-4 border-dashed border-gray-200 rounded-lg h-96",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,y.jsx)("input",g({},a())),(0,y.jsx)("p",{children:(0,y.jsx)(kA,{style:{color:"#40A9FF",fontSize:106,textAlign:"center"}})}),(0,y.jsx)("p",{children:"Click or drag file to this area to upload"})]})})})})}))})}var TN=function(e){u(n,e);var t=d(n);function n(){var e;return i(this,n),(e=t.call(this)).changeShowCurrentProfile=function(){console.log("changetotrue"),e.setState({showCurrentProfile:!0})},e.changeComponentToFlamegraph=function(){e.setState({showComponent:"flamegraph"})},e.changeComponentToDropzone=function(){e.setState({showComponent:"dropzone"})},e.changeComponentToVR=function(){e.setState({showComponent:"VR"})},e.changeComponentToTreetable=function(){e.setState({showComponent:"treetable"})},e.state={showComponent:"dropzone",showCurrentProfile:!1},e}return a(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",(function(e){if("Runtime Ready"===e.data.type)console.log("ready"),setTimeout((function(){AN.success("Runtime Ready")}),200)}))}},{key:"render",value:function(){var e;"dropzone"===this.state.showComponent?e=(0,y.jsx)(_N,{changeComponentToFlamegraph:this.changeComponentToFlamegraph,changeShowCurrentProfile:this.changeShowCurrentProfile}):"flamegraph"===this.state.showComponent?e=(0,y.jsx)(Lv,{isShow:!0}):"VR"===this.state.showComponent?e=(0,y.jsx)(Rv,{}):"treetable"===this.state.showComponent&&(e=(0,y.jsx)(RA,{}));dt.Header,dt.Sider;var t=dt.Content;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(dt,{children:[(0,y.jsx)(Oa,{changeComponentToDropzone:this.changeComponentToDropzone,changeComponentToVR:this.changeComponentToVR,changeComponentToFlamegraph:this.changeComponentToFlamegraph,changeComponentToTreetable:this.changeComponentToTreetable,showCurrentProfile:this.state.showCurrentProfile,changeShowCurrentProfile:this.changeShowCurrentProfile}),(0,y.jsx)(dt,{className:"site-layout",children:(0,y.jsx)(t,{className:"site-layout-background",style:{margin:"12px 8px",padding:12,minHeight:280},children:e})})]}),(0,y.jsx)("div",{className:"min-h-full flex"})]})}}]),n}(t.Component),SN=TN,NN=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};n.createRoot(document.getElementById("root")).render((0,y.jsx)(SN,{})),NN()}()}();
//# sourceMappingURL=main.d7ad4bdd.js.map